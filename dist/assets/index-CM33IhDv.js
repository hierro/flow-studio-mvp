function U_(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var bt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function P_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function L_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}),n}var bg={exports:{}},Fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_=Symbol.for("react.transitional.element"),B_=Symbol.for("react.fragment");function _g(e,t,n){var s=null;if(n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:V_,type:e,key:s,ref:t!==void 0?t:null,props:n}}Fl.Fragment=B_;Fl.jsx=_g;Fl.jsxs=_g;bg.exports=Fl;var h=bg.exports,Sg={exports:{}},V={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf=Symbol.for("react.transitional.element"),z_=Symbol.for("react.portal"),$_=Symbol.for("react.fragment"),H_=Symbol.for("react.strict_mode"),q_=Symbol.for("react.profiler"),G_=Symbol.for("react.consumer"),Y_=Symbol.for("react.context"),X_=Symbol.for("react.forward_ref"),K_=Symbol.for("react.suspense"),F_=Symbol.for("react.memo"),xg=Symbol.for("react.lazy"),nh=Symbol.iterator;function Q_(e){return e===null||typeof e!="object"?null:(e=nh&&e[nh]||e["@@iterator"],typeof e=="function"?e:null)}var wg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tg=Object.assign,jg={};function Ei(e,t,n){this.props=e,this.context=t,this.refs=jg,this.updater=n||wg}Ei.prototype.isReactComponent={};Ei.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ei.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Eg(){}Eg.prototype=Ei.prototype;function ff(e,t,n){this.props=e,this.context=t,this.refs=jg,this.updater=n||wg}var df=ff.prototype=new Eg;df.constructor=ff;Tg(df,Ei.prototype);df.isPureReactComponent=!0;var sh=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},Ag=Object.prototype.hasOwnProperty;function hf(e,t,n,s,i,a){return n=a.ref,{$$typeof:uf,type:e,key:t,ref:n!==void 0?n:null,props:a}}function I_(e,t){return hf(e.type,t,void 0,void 0,void 0,e.props)}function mf(e){return typeof e=="object"&&e!==null&&e.$$typeof===uf}function Z_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ih=/\/+/g;function Ro(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Z_(""+e.key):t.toString(36)}function ah(){}function J_(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(ah,ah):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Us(e,t,n,s,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(a){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case uf:case z_:r=!0;break;case xg:return r=e._init,Us(r(e._payload),t,n,s,i)}}if(r)return i=i(e),r=s===""?"."+Ro(e,0):s,sh(i)?(n="",r!=null&&(n=r.replace(ih,"$&/")+"/"),Us(i,t,n,"",function(c){return c})):i!=null&&(mf(i)&&(i=I_(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(ih,"$&/")+"/")+r)),t.push(i)),1;r=0;var l=s===""?".":s+":";if(sh(e))for(var o=0;o<e.length;o++)s=e[o],a=l+Ro(s,o),r+=Us(s,t,n,a,i);else if(o=Q_(e),typeof o=="function")for(e=o.call(e),o=0;!(s=e.next()).done;)s=s.value,a=l+Ro(s,o++),r+=Us(s,t,n,a,i);else if(a==="object"){if(typeof e.then=="function")return Us(J_(e),t,n,s,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function wr(e,t,n){if(e==null)return e;var s=[],i=0;return Us(e,s,"","",function(a){return t.call(n,a,i++)}),s}function W_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function eS(){}V.Children={map:wr,forEach:function(e,t,n){wr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return wr(e,function(){t++}),t},toArray:function(e){return wr(e,function(t){return t})||[]},only:function(e){if(!mf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=Ei;V.Fragment=$_;V.Profiler=q_;V.PureComponent=ff;V.StrictMode=H_;V.Suspense=K_;V.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe;V.__COMPILER_RUNTIME={__proto__:null,c:function(e){return oe.H.useMemoCache(e)}};V.cache=function(e){return function(){return e.apply(null,arguments)}};V.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var s=Tg({},e.props),i=e.key,a=void 0;if(t!=null)for(r in t.ref!==void 0&&(a=void 0),t.key!==void 0&&(i=""+t.key),t)!Ag.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(s[r]=t[r]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];s.children=l}return hf(e.type,i,void 0,void 0,a,s)};V.createContext=function(e){return e={$$typeof:Y_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:G_,_context:e},e};V.createElement=function(e,t,n){var s,i={},a=null;if(t!=null)for(s in t.key!==void 0&&(a=""+t.key),t)Ag.call(t,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(i[s]=t[s]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];i.children=l}if(e&&e.defaultProps)for(s in r=e.defaultProps,r)i[s]===void 0&&(i[s]=r[s]);return hf(e,a,void 0,void 0,null,i)};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:X_,render:e}};V.isValidElement=mf;V.lazy=function(e){return{$$typeof:xg,_payload:{_status:-1,_result:e},_init:W_}};V.memo=function(e,t){return{$$typeof:F_,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=oe.T,n={};oe.T=n;try{var s=e(),i=oe.S;i!==null&&i(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(eS,rh)}catch(a){rh(a)}finally{oe.T=t}};V.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()};V.use=function(e){return oe.H.use(e)};V.useActionState=function(e,t,n){return oe.H.useActionState(e,t,n)};V.useCallback=function(e,t){return oe.H.useCallback(e,t)};V.useContext=function(e){return oe.H.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e,t){return oe.H.useDeferredValue(e,t)};V.useEffect=function(e,t,n){var s=oe.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return s.useEffect(e,t)};V.useId=function(){return oe.H.useId()};V.useImperativeHandle=function(e,t,n){return oe.H.useImperativeHandle(e,t,n)};V.useInsertionEffect=function(e,t){return oe.H.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return oe.H.useLayoutEffect(e,t)};V.useMemo=function(e,t){return oe.H.useMemo(e,t)};V.useOptimistic=function(e,t){return oe.H.useOptimistic(e,t)};V.useReducer=function(e,t,n){return oe.H.useReducer(e,t,n)};V.useRef=function(e){return oe.H.useRef(e)};V.useState=function(e){return oe.H.useState(e)};V.useSyncExternalStore=function(e,t,n){return oe.H.useSyncExternalStore(e,t,n)};V.useTransition=function(){return oe.H.useTransition()};V.version="19.1.0";Sg.exports=V;var T=Sg.exports;const tS=P_(T),nS=U_({__proto__:null,default:tS},[T]);var Cg={exports:{}},Ql={},Og={exports:{}},Ng={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,D){var M=N.length;N.push(D);e:for(;0<M;){var K=M-1>>>1,te=N[K];if(0<i(te,D))N[K]=D,N[M]=te,M=K;else break e}}function n(N){return N.length===0?null:N[0]}function s(N){if(N.length===0)return null;var D=N[0],M=N.pop();if(M!==D){N[0]=M;e:for(var K=0,te=N.length,Xn=te>>>1;K<Xn;){var Kn=2*(K+1)-1,Bi=N[Kn],lt=Kn+1,Fn=N[lt];if(0>i(Bi,M))lt<te&&0>i(Fn,Bi)?(N[K]=Fn,N[lt]=M,K=lt):(N[K]=Bi,N[Kn]=M,K=Kn);else if(lt<te&&0>i(Fn,M))N[K]=Fn,N[lt]=M,K=lt;else break e}}return D}function i(N,D){var M=N.sortIndex-D.sortIndex;return M!==0?M:N.id-D.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var r=Date,l=r.now();e.unstable_now=function(){return r.now()-l}}var o=[],c=[],u=1,f=null,d=3,m=!1,v=!1,b=!1,S=!1,p=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function _(N){for(var D=n(c);D!==null;){if(D.callback===null)s(c);else if(D.startTime<=N)s(c),D.sortIndex=D.expirationTime,t(o,D);else break;D=n(c)}}function w(N){if(b=!1,_(N),!v)if(n(o)!==null)v=!0,E||(E=!0,z());else{var D=n(c);D!==null&&I(w,D.startTime-N)}}var E=!1,x=-1,j=5,C=-1;function O(){return S?!0:!(e.unstable_now()-C<j)}function P(){if(S=!1,E){var N=e.unstable_now();C=N;var D=!0;try{e:{v=!1,b&&(b=!1,g(x),x=-1),m=!0;var M=d;try{t:{for(_(N),f=n(o);f!==null&&!(f.expirationTime>N&&O());){var K=f.callback;if(typeof K=="function"){f.callback=null,d=f.priorityLevel;var te=K(f.expirationTime<=N);if(N=e.unstable_now(),typeof te=="function"){f.callback=te,_(N),D=!0;break t}f===n(o)&&s(o),_(N)}else s(o);f=n(o)}if(f!==null)D=!0;else{var Xn=n(c);Xn!==null&&I(w,Xn.startTime-N),D=!1}}break e}finally{f=null,d=M,m=!1}D=void 0}}finally{D?z():E=!1}}}var z;if(typeof y=="function")z=function(){y(P)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,Y=re.port2;re.port1.onmessage=P,z=function(){Y.postMessage(null)}}else z=function(){p(P,0)};function I(N,D){x=p(function(){N(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_next=function(N){switch(d){case 1:case 2:case 3:var D=3;break;default:D=d}var M=d;d=D;try{return N()}finally{d=M}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(N,D){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var M=d;d=N;try{return D()}finally{d=M}},e.unstable_scheduleCallback=function(N,D,M){var K=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?K+M:K):M=K,N){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=M+te,N={id:u++,callback:D,priorityLevel:N,startTime:M,expirationTime:te,sortIndex:-1},M>K?(N.sortIndex=M,t(c,N),n(o)===null&&N===n(c)&&(b?(g(x),x=-1):b=!0,I(w,M-K))):(N.sortIndex=te,t(o,N),v||m||(v=!0,E||(E=!0,z()))),N},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(N){var D=d;return function(){var M=d;d=D;try{return N.apply(this,arguments)}finally{d=M}}}})(Ng);Og.exports=Ng;var sS=Og.exports,Rg={exports:{}},qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iS=T;function Dg(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ln(){}var $e={d:{f:ln,r:function(){throw Error(Dg(522))},D:ln,C:ln,L:ln,m:ln,X:ln,S:ln,M:ln},p:0,findDOMNode:null},aS=Symbol.for("react.portal");function rS(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:aS,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}var ra=iS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Il(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$e;qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Dg(299));return rS(e,t,null,n)};qe.flushSync=function(e){var t=ra.T,n=$e.p;try{if(ra.T=null,$e.p=2,e)return e()}finally{ra.T=t,$e.p=n,$e.d.f()}};qe.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,$e.d.C(e,t))};qe.prefetchDNS=function(e){typeof e=="string"&&$e.d.D(e)};qe.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,s=Il(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?$e.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:s,integrity:i,fetchPriority:a}):n==="script"&&$e.d.X(e,{crossOrigin:s,integrity:i,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};qe.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Il(t.as,t.crossOrigin);$e.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&$e.d.M(e)};qe.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,s=Il(n,t.crossOrigin);$e.d.L(e,n,{crossOrigin:s,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};qe.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Il(t.as,t.crossOrigin);$e.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else $e.d.m(e)};qe.requestFormReset=function(e){$e.d.r(e)};qe.unstable_batchedUpdates=function(e,t){return e(t)};qe.useFormState=function(e,t,n){return ra.H.useFormState(e,t,n)};qe.useFormStatus=function(){return ra.H.useHostTransitionStatus()};qe.version="19.1.0";function Mg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mg)}catch(e){console.error(e)}}Mg(),Rg.exports=qe;var lS=Rg.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var je=sS,kg=T,oS=lS;function A(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ug(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Pg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lh(e){if(Wa(e)!==e)throw Error(A(188))}function cS(e){var t=e.alternate;if(!t){if(t=Wa(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return lh(i),e;if(a===s)return lh(i),t;a=a.sibling}throw Error(A(188))}if(n.return!==s.return)n=i,s=a;else{for(var r=!1,l=i.child;l;){if(l===n){r=!0,n=i,s=a;break}if(l===s){r=!0,s=i,n=a;break}l=l.sibling}if(!r){for(l=a.child;l;){if(l===n){r=!0,n=a,s=i;break}if(l===s){r=!0,s=a,n=i;break}l=l.sibling}if(!r)throw Error(A(189))}}if(n.alternate!==s)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function Lg(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Lg(e),t!==null)return t;e=e.sibling}return null}var ae=Object.assign,uS=Symbol.for("react.element"),Tr=Symbol.for("react.transitional.element"),Wi=Symbol.for("react.portal"),$s=Symbol.for("react.fragment"),Vg=Symbol.for("react.strict_mode"),kc=Symbol.for("react.profiler"),fS=Symbol.for("react.provider"),Bg=Symbol.for("react.consumer"),Xt=Symbol.for("react.context"),pf=Symbol.for("react.forward_ref"),Uc=Symbol.for("react.suspense"),Pc=Symbol.for("react.suspense_list"),gf=Symbol.for("react.memo"),mn=Symbol.for("react.lazy"),Lc=Symbol.for("react.activity"),dS=Symbol.for("react.memo_cache_sentinel"),oh=Symbol.iterator;function Hi(e){return e===null||typeof e!="object"?null:(e=oh&&e[oh]||e["@@iterator"],typeof e=="function"?e:null)}var hS=Symbol.for("react.client.reference");function Vc(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===hS?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $s:return"Fragment";case kc:return"Profiler";case Vg:return"StrictMode";case Uc:return"Suspense";case Pc:return"SuspenseList";case Lc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Wi:return"Portal";case Xt:return(e.displayName||"Context")+".Provider";case Bg:return(e._context.displayName||"Context")+".Consumer";case pf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gf:return t=e.displayName||null,t!==null?t:Vc(e.type)||"Memo";case mn:t=e._payload,e=e._init;try{return Vc(e(t))}catch{}}return null}var ea=Array.isArray,U=kg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=oS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,os={pending:!1,data:null,method:null,action:null},Bc=[],Hs=-1;function Lt(e){return{current:e}}function Re(e){0>Hs||(e.current=Bc[Hs],Bc[Hs]=null,Hs--)}function ce(e,t){Hs++,Bc[Hs]=e.current,e.current=t}var Rt=Lt(null),Oa=Lt(null),An=Lt(null),ul=Lt(null);function fl(e,t){switch(ce(An,t),ce(Oa,e),ce(Rt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?hm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=hm(t),e=n0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Re(Rt),ce(Rt,e)}function di(){Re(Rt),Re(Oa),Re(An)}function zc(e){e.memoizedState!==null&&ce(ul,e);var t=Rt.current,n=n0(t,e.type);t!==n&&(ce(Oa,e),ce(Rt,n))}function dl(e){Oa.current===e&&(Re(Rt),Re(Oa)),ul.current===e&&(Re(ul),Ba._currentValue=os)}var $c=Object.prototype.hasOwnProperty,yf=je.unstable_scheduleCallback,Do=je.unstable_cancelCallback,mS=je.unstable_shouldYield,pS=je.unstable_requestPaint,Dt=je.unstable_now,gS=je.unstable_getCurrentPriorityLevel,zg=je.unstable_ImmediatePriority,$g=je.unstable_UserBlockingPriority,hl=je.unstable_NormalPriority,yS=je.unstable_LowPriority,Hg=je.unstable_IdlePriority,vS=je.log,bS=je.unstable_setDisableYieldValue,er=null,nt=null;function xn(e){if(typeof vS=="function"&&bS(e),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(er,e)}catch{}}var st=Math.clz32?Math.clz32:xS,_S=Math.log,SS=Math.LN2;function xS(e){return e>>>=0,e===0?32:31-(_S(e)/SS|0)|0}var jr=256,Er=4194304;function Wn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zl(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var i=0,a=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var l=s&134217727;return l!==0?(s=l&~a,s!==0?i=Wn(s):(r&=l,r!==0?i=Wn(r):n||(n=l&~e,n!==0&&(i=Wn(n))))):(l=s&~a,l!==0?i=Wn(l):r!==0?i=Wn(r):n||(n=s&~e,n!==0&&(i=Wn(n)))),i===0?0:t!==0&&t!==i&&!(t&a)&&(a=i&-i,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:i}function tr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function wS(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qg(){var e=jr;return jr<<=1,!(jr&4194048)&&(jr=256),e}function Gg(){var e=Er;return Er<<=1,!(Er&62914560)&&(Er=4194304),e}function Mo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function nr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function TS(e,t,n,s,i,a){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=r&~n;0<n;){var u=31-st(n),f=1<<u;l[u]=0,o[u]=-1;var d=c[u];if(d!==null)for(c[u]=null,u=0;u<d.length;u++){var m=d[u];m!==null&&(m.lane&=-536870913)}n&=~f}s!==0&&Yg(e,s,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(r&~t))}function Yg(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-st(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&4194090}function Xg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-st(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}function vf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function bf(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Kg(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:d0(e.type))}function jS(e,t){var n=Q.p;try{return Q.p=e,t()}finally{Q.p=n}}var $n=Math.random().toString(36).slice(2),Le="__reactFiber$"+$n,Ie="__reactProps$"+$n,Ai="__reactContainer$"+$n,Hc="__reactEvents$"+$n,ES="__reactListeners$"+$n,AS="__reactHandles$"+$n,ch="__reactResources$"+$n,sr="__reactMarker$"+$n;function _f(e){delete e[Le],delete e[Ie],delete e[Hc],delete e[ES],delete e[AS]}function qs(e){var t=e[Le];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ai]||n[Le]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gm(e);e!==null;){if(n=e[Le])return n;e=gm(e)}return t}e=n,n=e.parentNode}return null}function Ci(e){if(e=e[Le]||e[Ai]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ta(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(A(33))}function ii(e){var t=e[ch];return t||(t=e[ch]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Oe(e){e[sr]=!0}var Fg=new Set,Qg={};function xs(e,t){hi(e,t),hi(e+"Capture",t)}function hi(e,t){for(Qg[e]=t,e=0;e<t.length;e++)Fg.add(t[e])}var CS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uh={},fh={};function OS(e){return $c.call(fh,e)?!0:$c.call(uh,e)?!1:CS.test(e)?fh[e]=!0:(uh[e]=!0,!1)}function Kr(e,t,n){if(OS(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Ar(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Bt(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}var ko,dh;function Ps(e){if(ko===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ko=t&&t[1]||"",dh=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ko+e+dh}var Uo=!1;function Po(e,t){if(!e||Uo)return"";Uo=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var d=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){d=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){d=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&d&&typeof m.stack=="string")return[m.stack,d.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=s.DetermineComponentFrameRoot(),r=a[0],l=a[1];if(r&&l){var o=r.split(`
`),c=l.split(`
`);for(i=s=0;s<o.length&&!o[s].includes("DetermineComponentFrameRoot");)s++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(s===o.length||i===c.length)for(s=o.length-1,i=c.length-1;1<=s&&0<=i&&o[s]!==c[i];)i--;for(;1<=s&&0<=i;s--,i--)if(o[s]!==c[i]){if(s!==1||i!==1)do if(s--,i--,0>i||o[s]!==c[i]){var u=`
`+o[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=i);break}}}finally{Uo=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ps(n):""}function NS(e){switch(e.tag){case 26:case 27:case 5:return Ps(e.type);case 16:return Ps("Lazy");case 13:return Ps("Suspense");case 19:return Ps("SuspenseList");case 0:case 15:return Po(e.type,!1);case 11:return Po(e.type.render,!1);case 1:return Po(e.type,!0);case 31:return Ps("Activity");default:return""}}function hh(e){try{var t="";do t+=NS(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ig(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function RS(e){var t=Ig(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(r){s=""+r,a.call(this,r)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(r){s=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ml(e){e._valueTracker||(e._valueTracker=RS(e))}function Zg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Ig(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function pl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var DS=/[\n"\\]/g;function pt(e){return e.replace(DS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function qc(e,t,n,s,i,a,r,l){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?Gc(e,r,dt(t)):n!=null?Gc(e,r,dt(n)):s!=null&&e.removeAttribute("value"),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+dt(l):e.removeAttribute("name")}function Jg(e,t,n,s,i,a,r,l){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null))return;n=n!=null?""+dt(n):"",t=t!=null?""+dt(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}s=s??i,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=l?e.checked:!!s,e.defaultChecked=!!s,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r)}function Gc(e,t,n){t==="number"&&pl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ai(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Wg(e,t,n){if(t!=null&&(t=""+dt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+dt(n):""}function ey(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(A(92));if(ea(s)){if(1<s.length)throw Error(A(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=dt(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s)}function mi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var MS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mh(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||MS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function ty(e,t,n){if(t!=null&&typeof t!="object")throw Error(A(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var i in t)s=t[i],t.hasOwnProperty(i)&&n[i]!==s&&mh(e,i,s)}else for(var a in t)t.hasOwnProperty(a)&&mh(e,a,t[a])}function Sf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),US=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fr(e){return US.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Yc=null;function xf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gs=null,ri=null;function ph(e){var t=Ci(e);if(t&&(e=t.stateNode)){var n=e[Ie]||null;e:switch(e=t.stateNode,t.type){case"input":if(qc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=s[Ie]||null;if(!i)throw Error(A(90));qc(s,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&Zg(s)}break e;case"textarea":Wg(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ai(e,!!n.multiple,t,!1)}}}var Lo=!1;function ny(e,t,n){if(Lo)return e(t,n);Lo=!0;try{var s=e(t);return s}finally{if(Lo=!1,(Gs!==null||ri!==null)&&(lo(),Gs&&(t=Gs,e=ri,ri=Gs=null,ph(t),e)))for(t=0;t<e.length;t++)ph(e[t])}}function Na(e,t){var n=e.stateNode;if(n===null)return null;var s=n[Ie]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var Wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xc=!1;if(Wt)try{var qi={};Object.defineProperty(qi,"passive",{get:function(){Xc=!0}}),window.addEventListener("test",qi,qi),window.removeEventListener("test",qi,qi)}catch{Xc=!1}var wn=null,wf=null,Qr=null;function sy(){if(Qr)return Qr;var e,t=wf,n=t.length,s,i="value"in wn?wn.value:wn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var r=n-e;for(s=1;s<=r&&t[n-s]===i[a-s];s++);return Qr=i.slice(e,1<s?1-s:void 0)}function Ir(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cr(){return!0}function gh(){return!1}function Ze(e){function t(n,s,i,a,r){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=r,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Cr:gh,this.isPropagationStopped=gh,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),t}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jl=Ze(ws),ir=ae({},ws,{view:0,detail:0}),PS=Ze(ir),Vo,Bo,Gi,Wl=ae({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Gi&&(Gi&&e.type==="mousemove"?(Vo=e.screenX-Gi.screenX,Bo=e.screenY-Gi.screenY):Bo=Vo=0,Gi=e),Vo)},movementY:function(e){return"movementY"in e?e.movementY:Bo}}),yh=Ze(Wl),LS=ae({},Wl,{dataTransfer:0}),VS=Ze(LS),BS=ae({},ir,{relatedTarget:0}),zo=Ze(BS),zS=ae({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),$S=Ze(zS),HS=ae({},ws,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qS=Ze(HS),GS=ae({},ws,{data:0}),vh=Ze(GS),YS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=KS[e])?!!t[e]:!1}function Tf(){return FS}var QS=ae({},ir,{key:function(e){if(e.key){var t=YS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ir(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?XS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tf,charCode:function(e){return e.type==="keypress"?Ir(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ir(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),IS=Ze(QS),ZS=ae({},Wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bh=Ze(ZS),JS=ae({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tf}),WS=Ze(JS),ex=ae({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),tx=Ze(ex),nx=ae({},Wl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sx=Ze(nx),ix=ae({},ws,{newState:0,oldState:0}),ax=Ze(ix),rx=[9,13,27,32],jf=Wt&&"CompositionEvent"in window,la=null;Wt&&"documentMode"in document&&(la=document.documentMode);var lx=Wt&&"TextEvent"in window&&!la,iy=Wt&&(!jf||la&&8<la&&11>=la),_h=" ",Sh=!1;function ay(e,t){switch(e){case"keyup":return rx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ry(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ys=!1;function ox(e,t){switch(e){case"compositionend":return ry(t);case"keypress":return t.which!==32?null:(Sh=!0,_h);case"textInput":return e=t.data,e===_h&&Sh?null:e;default:return null}}function cx(e,t){if(Ys)return e==="compositionend"||!jf&&ay(e,t)?(e=sy(),Qr=wf=wn=null,Ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iy&&t.locale!=="ko"?null:t.data;default:return null}}var ux={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ux[e.type]:t==="textarea"}function ly(e,t,n,s){Gs?ri?ri.push(s):ri=[s]:Gs=s,t=Ml(t,"onChange"),0<t.length&&(n=new Jl("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var oa=null,Ra=null;function fx(e){Wv(e,0)}function eo(e){var t=ta(e);if(Zg(t))return e}function wh(e,t){if(e==="change")return t}var oy=!1;if(Wt){var $o;if(Wt){var Ho="oninput"in document;if(!Ho){var Th=document.createElement("div");Th.setAttribute("oninput","return;"),Ho=typeof Th.oninput=="function"}$o=Ho}else $o=!1;oy=$o&&(!document.documentMode||9<document.documentMode)}function jh(){oa&&(oa.detachEvent("onpropertychange",cy),Ra=oa=null)}function cy(e){if(e.propertyName==="value"&&eo(Ra)){var t=[];ly(t,Ra,e,xf(e)),ny(fx,t)}}function dx(e,t,n){e==="focusin"?(jh(),oa=t,Ra=n,oa.attachEvent("onpropertychange",cy)):e==="focusout"&&jh()}function hx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return eo(Ra)}function mx(e,t){if(e==="click")return eo(t)}function px(e,t){if(e==="input"||e==="change")return eo(t)}function gx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rt=typeof Object.is=="function"?Object.is:gx;function Da(e,t){if(rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!$c.call(t,i)||!rt(e[i],t[i]))return!1}return!0}function Eh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ah(e,t){var n=Eh(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Eh(n)}}function uy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=pl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=pl(e.document)}return t}function Ef(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var yx=Wt&&"documentMode"in document&&11>=document.documentMode,Xs=null,Kc=null,ca=null,Fc=!1;function Ch(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fc||Xs==null||Xs!==pl(s)||(s=Xs,"selectionStart"in s&&Ef(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ca&&Da(ca,s)||(ca=s,s=Ml(Kc,"onSelect"),0<s.length&&(t=new Jl("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Xs)))}function Qn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ks={animationend:Qn("Animation","AnimationEnd"),animationiteration:Qn("Animation","AnimationIteration"),animationstart:Qn("Animation","AnimationStart"),transitionrun:Qn("Transition","TransitionRun"),transitionstart:Qn("Transition","TransitionStart"),transitioncancel:Qn("Transition","TransitionCancel"),transitionend:Qn("Transition","TransitionEnd")},qo={},dy={};Wt&&(dy=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function Ts(e){if(qo[e])return qo[e];if(!Ks[e])return e;var t=Ks[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dy)return qo[e]=t[n];return e}var hy=Ts("animationend"),my=Ts("animationiteration"),py=Ts("animationstart"),vx=Ts("transitionrun"),bx=Ts("transitionstart"),_x=Ts("transitioncancel"),gy=Ts("transitionend"),yy=new Map,Qc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qc.push("scrollEnd");function At(e,t){yy.set(e,t),xs(t,[e])}var Oh=new WeakMap;function gt(e,t){if(typeof e=="object"&&e!==null){var n=Oh.get(e);return n!==void 0?n:(t={value:e,source:t,stack:hh(t)},Oh.set(e,t),t)}return{value:e,source:t,stack:hh(t)}}var ft=[],Fs=0,Af=0;function to(){for(var e=Fs,t=Af=Fs=0;t<e;){var n=ft[t];ft[t++]=null;var s=ft[t];ft[t++]=null;var i=ft[t];ft[t++]=null;var a=ft[t];if(ft[t++]=null,s!==null&&i!==null){var r=s.pending;r===null?i.next=i:(i.next=r.next,r.next=i),s.pending=i}a!==0&&vy(n,i,a)}}function no(e,t,n,s){ft[Fs++]=e,ft[Fs++]=t,ft[Fs++]=n,ft[Fs++]=s,Af|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Cf(e,t,n,s){return no(e,t,n,s),gl(e)}function Oi(e,t){return no(e,null,null,t),gl(e)}function vy(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,s=a.alternate,s!==null&&(s.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-st(n),e=a.hiddenUpdates,s=e[i],s===null?e[i]=[t]:s.push(t),t.lane=n|536870912),a):null}function gl(e){if(50<ba)throw ba=0,gu=null,Error(A(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Qs={};function Sx(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(e,t,n,s){return new Sx(e,t,n,s)}function Of(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zt(e,t){var n=e.alternate;return n===null?(n=tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function by(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Zr(e,t,n,s,i,a){var r=0;if(s=e,typeof e=="function")Of(e)&&(r=1);else if(typeof e=="string")r=ww(e,n,Rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Lc:return e=tt(31,n,t,i),e.elementType=Lc,e.lanes=a,e;case $s:return cs(n.children,i,a,t);case Vg:r=8,i|=24;break;case kc:return e=tt(12,n,t,i|2),e.elementType=kc,e.lanes=a,e;case Uc:return e=tt(13,n,t,i),e.elementType=Uc,e.lanes=a,e;case Pc:return e=tt(19,n,t,i),e.elementType=Pc,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fS:case Xt:r=10;break e;case Bg:r=9;break e;case pf:r=11;break e;case gf:r=14;break e;case mn:r=16,s=null;break e}r=29,n=Error(A(130,e===null?"null":typeof e,"")),s=null}return t=tt(r,n,t,i),t.elementType=e,t.type=s,t.lanes=a,t}function cs(e,t,n,s){return e=tt(7,e,s,t),e.lanes=n,e}function Go(e,t,n){return e=tt(6,e,null,t),e.lanes=n,e}function Yo(e,t,n){return t=tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Is=[],Zs=0,yl=null,vl=0,ht=[],mt=0,us=null,Kt=1,Ft="";function es(e,t){Is[Zs++]=vl,Is[Zs++]=yl,yl=e,vl=t}function _y(e,t,n){ht[mt++]=Kt,ht[mt++]=Ft,ht[mt++]=us,us=e;var s=Kt;e=Ft;var i=32-st(s)-1;s&=~(1<<i),n+=1;var a=32-st(t)+i;if(30<a){var r=i-i%5;a=(s&(1<<r)-1).toString(32),s>>=r,i-=r,Kt=1<<32-st(t)+i|n<<i|s,Ft=a+e}else Kt=1<<a|n<<i|s,Ft=e}function Nf(e){e.return!==null&&(es(e,1),_y(e,1,0))}function Rf(e){for(;e===yl;)yl=Is[--Zs],Is[Zs]=null,vl=Is[--Zs],Is[Zs]=null;for(;e===us;)us=ht[--mt],ht[mt]=null,Ft=ht[--mt],ht[mt]=null,Kt=ht[--mt],ht[mt]=null}var ze=null,me=null,F=!1,fs=null,Ot=!1,Ic=Error(A(519));function vs(e){var t=Error(A(418,""));throw Ma(gt(t,e)),Ic}function Nh(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[Le]=e,t[Ie]=s,n){case"dialog":q("cancel",t),q("close",t);break;case"iframe":case"object":case"embed":q("load",t);break;case"video":case"audio":for(n=0;n<Pa.length;n++)q(Pa[n],t);break;case"source":q("error",t);break;case"img":case"image":case"link":q("error",t),q("load",t);break;case"details":q("toggle",t);break;case"input":q("invalid",t),Jg(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),ml(t);break;case"select":q("invalid",t);break;case"textarea":q("invalid",t),ey(t,s.value,s.defaultValue,s.children),ml(t)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||t0(t.textContent,n)?(s.popover!=null&&(q("beforetoggle",t),q("toggle",t)),s.onScroll!=null&&q("scroll",t),s.onScrollEnd!=null&&q("scrollend",t),s.onClick!=null&&(t.onclick=uo),t=!0):t=!1,t||vs(e)}function Rh(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 13:Ot=!1;return;case 27:case 3:Ot=!0;return;default:ze=ze.return}}function Yi(e){if(e!==ze)return!1;if(!F)return Rh(e),F=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||xu(e.type,e.memoizedProps)),n=!n),n&&me&&vs(e),Rh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){me=Et(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}me=null}}else t===27?(t=me,Hn(e.type)?(e=ju,ju=null,me=e):me=t):me=ze?Et(e.stateNode.nextSibling):null;return!0}function ar(){me=ze=null,F=!1}function Dh(){var e=fs;return e!==null&&(Ke===null?Ke=e:Ke.push.apply(Ke,e),fs=null),e}function Ma(e){fs===null?fs=[e]:fs.push(e)}var Zc=Lt(null),js=null,Qt=null;function yn(e,t,n){ce(Zc,t._currentValue),t._currentValue=n}function Jt(e){e._currentValue=Zc.current,Re(Zc)}function Jc(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Wc(e,t,n,s){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){var r=i.child;a=a.firstContext;e:for(;a!==null;){var l=a;a=i;for(var o=0;o<t.length;o++)if(l.context===t[o]){a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Jc(a.return,n,e),s||(r=null);break e}a=l.next}}else if(i.tag===18){if(r=i.return,r===null)throw Error(A(341));r.lanes|=n,a=r.alternate,a!==null&&(a.lanes|=n),Jc(r,n,e),r=null}else r=i.child;if(r!==null)r.return=i;else for(r=i;r!==null;){if(r===e){r=null;break}if(i=r.sibling,i!==null){i.return=r.return,r=i;break}r=r.return}i=r}}function rr(e,t,n,s){e=null;for(var i=t,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var r=i.alternate;if(r===null)throw Error(A(387));if(r=r.memoizedProps,r!==null){var l=i.type;rt(i.pendingProps.value,r.value)||(e!==null?e.push(l):e=[l])}}else if(i===ul.current){if(r=i.alternate,r===null)throw Error(A(387));r.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Ba):e=[Ba])}i=i.return}e!==null&&Wc(t,e,n,s),t.flags|=262144}function bl(e){for(e=e.firstContext;e!==null;){if(!rt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function bs(e){js=e,Qt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ve(e){return Sy(js,e)}function Or(e,t){return js===null&&bs(e),Sy(e,t)}function Sy(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Qt===null){if(e===null)throw Error(A(308));Qt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Qt=Qt.next=t;return n}var xx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},wx=je.unstable_scheduleCallback,Tx=je.unstable_NormalPriority,we={$$typeof:Xt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Df(){return{controller:new xx,data:new Map,refCount:0}}function lr(e){e.refCount--,e.refCount===0&&wx(Tx,function(){e.controller.abort()})}var ua=null,eu=0,pi=0,li=null;function jx(e,t){if(ua===null){var n=ua=[];eu=0,pi=td(),li={status:"pending",value:void 0,then:function(s){n.push(s)}}}return eu++,t.then(Mh,Mh),t}function Mh(){if(--eu===0&&ua!==null){li!==null&&(li.status="fulfilled");var e=ua;ua=null,pi=0,li=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Ex(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(s.status="rejected",s.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),s}var kh=U.S;U.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&jx(e,t),kh!==null&&kh(e,t)};var ds=Lt(null);function Mf(){var e=ds.current;return e!==null?e:ie.pooledCache}function Jr(e,t){t===null?ce(ds,ds.current):ce(ds,t.pool)}function xy(){var e=Mf();return e===null?null:{parent:we._currentValue,pool:e}}var or=Error(A(460)),wy=Error(A(474)),so=Error(A(542)),tu={then:function(){}};function Uh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Nr(){}function Ty(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Nr,Nr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lh(e),e;default:if(typeof t.status=="string")t.then(Nr,Nr);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(A(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=s}},function(s){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Lh(e),e}throw fa=t,or}}var fa=null;function Ph(){if(fa===null)throw Error(A(459));var e=fa;return fa=null,e}function Lh(e){if(e===or||e===so)throw Error(A(483))}var pn=!1;function kf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Cn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function On(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,J&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,t=gl(e),vy(e,null,n),t}return no(e,s,t,n),gl(e)}function da(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Xg(e,n)}}function Xo(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=r:a=a.next=r,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var su=!1;function ha(){if(su){var e=li;if(e!==null)throw e}}function ma(e,t,n,s){su=!1;var i=e.updateQueue;pn=!1;var a=i.firstBaseUpdate,r=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var o=l,c=o.next;o.next=null,r===null?a=c:r.next=c,r=o;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==r&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=o))}if(a!==null){var f=i.baseState;r=0,u=c=o=null,l=a;do{var d=l.lane&-536870913,m=d!==l.lane;if(m?(X&d)===d:(s&d)===d){d!==0&&d===pi&&(su=!0),u!==null&&(u=u.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var v=e,b=l;d=t;var S=n;switch(b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(S,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,d=typeof v=="function"?v.call(S,f,d):v,d==null)break e;f=ae({},f,d);break e;case 2:pn=!0}}d=l.callback,d!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[d]:m.push(d))}else m={lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=m,o=f):u=u.next=m,r|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);u===null&&(o=f),i.baseState=o,i.firstBaseUpdate=c,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),Vn|=r,e.lanes=r,e.memoizedState=f}}function jy(e,t){if(typeof e!="function")throw Error(A(191,e));e.call(t)}function Ey(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)jy(n[e],t)}var gi=Lt(null),_l=Lt(0);function Vh(e,t){e=nn,ce(_l,e),ce(gi,t),nn=e|t.baseLanes}function iu(){ce(_l,nn),ce(gi,gi.current)}function Uf(){nn=_l.current,Re(gi),Re(_l)}var Pn=0,B=null,ee=null,_e=null,Sl=!1,oi=!1,_s=!1,xl=0,ka=0,ci=null,Ax=0;function ge(){throw Error(A(321))}function Pf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rt(e[n],t[n]))return!1;return!0}function Lf(e,t,n,s,i,a){return Pn=a,B=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?sv:iv,_s=!1,a=n(s,i),_s=!1,oi&&(a=Cy(t,n,s,i)),Ay(e),a}function Ay(e){U.H=wl;var t=ee!==null&&ee.next!==null;if(Pn=0,_e=ee=B=null,Sl=!1,ka=0,ci=null,t)throw Error(A(300));e===null||Ne||(e=e.dependencies,e!==null&&bl(e)&&(Ne=!0))}function Cy(e,t,n,s){B=e;var i=0;do{if(oi&&(ci=null),ka=0,oi=!1,25<=i)throw Error(A(301));if(i+=1,_e=ee=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}U.H=kx,a=t(n,s)}while(oi);return a}function Cx(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?cr(t):t,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(B.flags|=1024),t}function Vf(){var e=xl!==0;return xl=0,e}function Bf(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function zf(e){if(Sl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Sl=!1}Pn=0,_e=ee=B=null,oi=!1,ka=xl=0,ci=null}function Ye(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?B.memoizedState=_e=e:_e=_e.next=e,_e}function Se(){if(ee===null){var e=B.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var t=_e===null?B.memoizedState:_e.next;if(t!==null)_e=t,ee=e;else{if(e===null)throw B.alternate===null?Error(A(467)):Error(A(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},_e===null?B.memoizedState=_e=e:_e=_e.next=e}return _e}function $f(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cr(e){var t=ka;return ka+=1,ci===null&&(ci=[]),e=Ty(ci,e,t),t=B,(_e===null?t.memoizedState:_e.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?sv:iv),e}function io(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cr(e);if(e.$$typeof===Xt)return Ve(e)}throw Error(A(438,String(e)))}function Hf(e){var t=null,n=B.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=B.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=$f(),B.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=dS;return t.index++,n}function en(e,t){return typeof t=="function"?t(e):t}function Wr(e){var t=Se();return qf(t,ee,e)}function qf(e,t,n){var s=e.queue;if(s===null)throw Error(A(311));s.lastRenderedReducer=n;var i=e.baseQueue,a=s.pending;if(a!==null){if(i!==null){var r=i.next;i.next=a.next,a.next=r}t.baseQueue=i=a,s.pending=null}if(a=e.baseState,i===null)e.memoizedState=a;else{t=i.next;var l=r=null,o=null,c=t,u=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(X&f)===f:(Pn&f)===f){var d=c.revertLane;if(d===0)o!==null&&(o=o.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===pi&&(u=!0);else if((Pn&d)===d){c=c.next,d===pi&&(u=!0);continue}else f={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(l=o=f,r=a):o=o.next=f,B.lanes|=d,Vn|=d;f=c.action,_s&&n(a,f),a=c.hasEagerState?c.eagerState:n(a,f)}else d={lane:f,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(l=o=d,r=a):o=o.next=d,B.lanes|=f,Vn|=f;c=c.next}while(c!==null&&c!==t);if(o===null?r=a:o.next=l,!rt(a,e.memoizedState)&&(Ne=!0,u&&(n=li,n!==null)))throw n;e.memoizedState=a,e.baseState=r,e.baseQueue=o,s.lastRenderedState=a}return i===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Ko(e){var t=Se(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var r=i=i.next;do a=e(a,r.action),r=r.next;while(r!==i);rt(a,t.memoizedState)||(Ne=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function Oy(e,t,n){var s=B,i=Se(),a=F;if(a){if(n===void 0)throw Error(A(407));n=n()}else n=t();var r=!rt((ee||i).memoizedState,n);r&&(i.memoizedState=n,Ne=!0),i=i.queue;var l=Dy.bind(null,s,i,e);if(ur(2048,8,l,[e]),i.getSnapshot!==t||r||_e!==null&&_e.memoizedState.tag&1){if(s.flags|=2048,yi(9,ao(),Ry.bind(null,s,i,n,t),null),ie===null)throw Error(A(349));a||Pn&124||Ny(s,t,n)}return n}function Ny(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=B.updateQueue,t===null?(t=$f(),B.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ry(e,t,n,s){t.value=n,t.getSnapshot=s,My(t)&&ky(e)}function Dy(e,t,n){return n(function(){My(t)&&ky(e)})}function My(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rt(e,n)}catch{return!0}}function ky(e){var t=Oi(e,2);t!==null&&at(t,e,2)}function au(e){var t=Ye();if(typeof e=="function"){var n=e;if(e=n(),_s){xn(!0);try{n()}finally{xn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:en,lastRenderedState:e},t}function Uy(e,t,n,s){return e.baseState=n,qf(e,ee,typeof s=="function"?s:en)}function Ox(e,t,n,s,i){if(ro(e))throw Error(A(485));if(e=t.action,e!==null){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){a.listeners.push(r)}};U.T!==null?n(!0):a.isTransition=!1,s(a),n=t.pending,n===null?(a.next=t.pending=a,Py(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Py(e,t){var n=t.action,s=t.payload,i=e.state;if(t.isTransition){var a=U.T,r={};U.T=r;try{var l=n(i,s),o=U.S;o!==null&&o(r,l),Bh(e,t,l)}catch(c){ru(e,t,c)}finally{U.T=a}}else try{a=n(i,s),Bh(e,t,a)}catch(c){ru(e,t,c)}}function Bh(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){zh(e,t,s)},function(s){return ru(e,t,s)}):zh(e,t,n)}function zh(e,t,n){t.status="fulfilled",t.value=n,Ly(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Py(e,n)))}function ru(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,Ly(t),t=t.next;while(t!==s)}e.action=null}function Ly(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Vy(e,t){return t}function $h(e,t){if(F){var n=ie.formState;if(n!==null){e:{var s=B;if(F){if(me){t:{for(var i=me,a=Ot;i.nodeType!==8;){if(!a){i=null;break t}if(i=Et(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){me=Et(i.nextSibling),s=i.data==="F!";break e}}vs(s)}s=!1}s&&(t=n[0])}}return n=Ye(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vy,lastRenderedState:t},n.queue=s,n=ev.bind(null,B,s),s.dispatch=n,s=au(!1),a=Kf.bind(null,B,!1,s.queue),s=Ye(),i={state:t,dispatch:null,action:e,pending:null},s.queue=i,n=Ox.bind(null,B,i,a,n),i.dispatch=n,s.memoizedState=e,[t,n,!1]}function Hh(e){var t=Se();return By(t,ee,e)}function By(e,t,n){if(t=qf(e,t,Vy)[0],e=Wr(en)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=cr(t)}catch(r){throw r===or?so:r}else s=t;t=Se();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(B.flags|=2048,yi(9,ao(),Nx.bind(null,i,n),null)),[s,a,e]}function Nx(e,t){e.action=t}function qh(e){var t=Se(),n=ee;if(n!==null)return By(t,n,e);Se(),t=t.memoizedState,n=Se();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function yi(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=B.updateQueue,t===null&&(t=$f(),B.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function ao(){return{destroy:void 0,resource:void 0}}function zy(){return Se().memoizedState}function el(e,t,n,s){var i=Ye();s=s===void 0?null:s,B.flags|=e,i.memoizedState=yi(1|t,ao(),n,s)}function ur(e,t,n,s){var i=Se();s=s===void 0?null:s;var a=i.memoizedState.inst;ee!==null&&s!==null&&Pf(s,ee.memoizedState.deps)?i.memoizedState=yi(t,a,n,s):(B.flags|=e,i.memoizedState=yi(1|t,a,n,s))}function Gh(e,t){el(8390656,8,e,t)}function $y(e,t){ur(2048,8,e,t)}function Hy(e,t){return ur(4,2,e,t)}function qy(e,t){return ur(4,4,e,t)}function Gy(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yy(e,t,n){n=n!=null?n.concat([e]):null,ur(4,4,Gy.bind(null,t,e),n)}function Gf(){}function Xy(e,t){var n=Se();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&Pf(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Ky(e,t){var n=Se();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&Pf(t,s[1]))return s[0];if(s=e(),_s){xn(!0);try{e()}finally{xn(!1)}}return n.memoizedState=[s,t],s}function Yf(e,t,n){return n===void 0||Pn&1073741824?e.memoizedState=t:(e.memoizedState=n,e=Lv(),B.lanes|=e,Vn|=e,n)}function Fy(e,t,n,s){return rt(n,t)?n:gi.current!==null?(e=Yf(e,n,s),rt(e,t)||(Ne=!0),e):Pn&42?(e=Lv(),B.lanes|=e,Vn|=e,t):(Ne=!0,e.memoizedState=n)}function Qy(e,t,n,s,i){var a=Q.p;Q.p=a!==0&&8>a?a:8;var r=U.T,l={};U.T=l,Kf(e,!1,t,n);try{var o=i(),c=U.S;if(c!==null&&c(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var u=Ex(o,s);pa(e,t,u,it(e))}else pa(e,t,s,it(e))}catch(f){pa(e,t,{then:function(){},status:"rejected",reason:f},it())}finally{Q.p=a,U.T=r}}function Rx(){}function lu(e,t,n,s){if(e.tag!==5)throw Error(A(476));var i=Iy(e).queue;Qy(e,i,t,os,n===null?Rx:function(){return Zy(e),n(s)})}function Iy(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:os,baseState:os,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:en,lastRenderedState:os},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:en,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Zy(e){var t=Iy(e).next.queue;pa(e,t,{},it())}function Xf(){return Ve(Ba)}function Jy(){return Se().memoizedState}function Wy(){return Se().memoizedState}function Dx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=it();e=Cn(n);var s=On(t,e,n);s!==null&&(at(s,t,n),da(s,t,n)),t={cache:Df()},e.payload=t;return}t=t.return}}function Mx(e,t,n){var s=it();n={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ro(e)?tv(t,n):(n=Cf(e,t,n,s),n!==null&&(at(n,e,s),nv(n,t,s)))}function ev(e,t,n){var s=it();pa(e,t,n,s)}function pa(e,t,n,s){var i={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ro(e))tv(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var r=t.lastRenderedState,l=a(r,n);if(i.hasEagerState=!0,i.eagerState=l,rt(l,r))return no(e,t,i,0),ie===null&&to(),!1}catch{}finally{}if(n=Cf(e,t,i,s),n!==null)return at(n,e,s),nv(n,t,s),!0}return!1}function Kf(e,t,n,s){if(s={lane:2,revertLane:td(),action:s,hasEagerState:!1,eagerState:null,next:null},ro(e)){if(t)throw Error(A(479))}else t=Cf(e,n,s,2),t!==null&&at(t,e,2)}function ro(e){var t=e.alternate;return e===B||t!==null&&t===B}function tv(e,t){oi=Sl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nv(e,t,n){if(n&4194048){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Xg(e,n)}}var wl={readContext:Ve,use:io,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},sv={readContext:Ve,use:io,useCallback:function(e,t){return Ye().memoizedState=[e,t===void 0?null:t],e},useContext:Ve,useEffect:Gh,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,el(4194308,4,Gy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return el(4194308,4,e,t)},useInsertionEffect:function(e,t){el(4,2,e,t)},useMemo:function(e,t){var n=Ye();t=t===void 0?null:t;var s=e();if(_s){xn(!0);try{e()}finally{xn(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=Ye();if(n!==void 0){var i=n(t);if(_s){xn(!0);try{n(t)}finally{xn(!1)}}}else i=t;return s.memoizedState=s.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},s.queue=e,e=e.dispatch=Mx.bind(null,B,e),[s.memoizedState,e]},useRef:function(e){var t=Ye();return e={current:e},t.memoizedState=e},useState:function(e){e=au(e);var t=e.queue,n=ev.bind(null,B,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Gf,useDeferredValue:function(e,t){var n=Ye();return Yf(n,e,t)},useTransition:function(){var e=au(!1);return e=Qy.bind(null,B,e.queue,!0,!1),Ye().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=B,i=Ye();if(F){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),ie===null)throw Error(A(349));X&124||Ny(s,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Gh(Dy.bind(null,s,a,e),[e]),s.flags|=2048,yi(9,ao(),Ry.bind(null,s,a,n,t),null),n},useId:function(){var e=Ye(),t=ie.identifierPrefix;if(F){var n=Ft,s=Kt;n=(s&~(1<<32-st(s)-1)).toString(32)+n,t=""+t+"R"+n,n=xl++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=Ax++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Xf,useFormState:$h,useActionState:$h,useOptimistic:function(e){var t=Ye();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Kf.bind(null,B,!0,n),n.dispatch=t,[e,t]},useMemoCache:Hf,useCacheRefresh:function(){return Ye().memoizedState=Dx.bind(null,B)}},iv={readContext:Ve,use:io,useCallback:Xy,useContext:Ve,useEffect:$y,useImperativeHandle:Yy,useInsertionEffect:Hy,useLayoutEffect:qy,useMemo:Ky,useReducer:Wr,useRef:zy,useState:function(){return Wr(en)},useDebugValue:Gf,useDeferredValue:function(e,t){var n=Se();return Fy(n,ee.memoizedState,e,t)},useTransition:function(){var e=Wr(en)[0],t=Se().memoizedState;return[typeof e=="boolean"?e:cr(e),t]},useSyncExternalStore:Oy,useId:Jy,useHostTransitionStatus:Xf,useFormState:Hh,useActionState:Hh,useOptimistic:function(e,t){var n=Se();return Uy(n,ee,e,t)},useMemoCache:Hf,useCacheRefresh:Wy},kx={readContext:Ve,use:io,useCallback:Xy,useContext:Ve,useEffect:$y,useImperativeHandle:Yy,useInsertionEffect:Hy,useLayoutEffect:qy,useMemo:Ky,useReducer:Ko,useRef:zy,useState:function(){return Ko(en)},useDebugValue:Gf,useDeferredValue:function(e,t){var n=Se();return ee===null?Yf(n,e,t):Fy(n,ee.memoizedState,e,t)},useTransition:function(){var e=Ko(en)[0],t=Se().memoizedState;return[typeof e=="boolean"?e:cr(e),t]},useSyncExternalStore:Oy,useId:Jy,useHostTransitionStatus:Xf,useFormState:qh,useActionState:qh,useOptimistic:function(e,t){var n=Se();return ee!==null?Uy(n,ee,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Hf,useCacheRefresh:Wy},ui=null,Ua=0;function Rr(e){var t=Ua;return Ua+=1,ui===null&&(ui=[]),Ty(ui,e,t)}function Xi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Dr(e,t){throw t.$$typeof===uS?Error(A(525)):(e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Yh(e){var t=e._init;return t(e._payload)}function av(e){function t(p,g){if(e){var y=p.deletions;y===null?(p.deletions=[g],p.flags|=16):y.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function s(p){for(var g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(p,g){return p=Zt(p,g),p.index=0,p.sibling=null,p}function a(p,g,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<g?(p.flags|=67108866,g):y):(p.flags|=67108866,g)):(p.flags|=1048576,g)}function r(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function l(p,g,y,_){return g===null||g.tag!==6?(g=Go(y,p.mode,_),g.return=p,g):(g=i(g,y),g.return=p,g)}function o(p,g,y,_){var w=y.type;return w===$s?u(p,g,y.props.children,_,y.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===mn&&Yh(w)===g.type)?(g=i(g,y.props),Xi(g,y),g.return=p,g):(g=Zr(y.type,y.key,y.props,null,p.mode,_),Xi(g,y),g.return=p,g)}function c(p,g,y,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Yo(y,p.mode,_),g.return=p,g):(g=i(g,y.children||[]),g.return=p,g)}function u(p,g,y,_,w){return g===null||g.tag!==7?(g=cs(y,p.mode,_,w),g.return=p,g):(g=i(g,y),g.return=p,g)}function f(p,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=Go(""+g,p.mode,y),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Tr:return y=Zr(g.type,g.key,g.props,null,p.mode,y),Xi(y,g),y.return=p,y;case Wi:return g=Yo(g,p.mode,y),g.return=p,g;case mn:var _=g._init;return g=_(g._payload),f(p,g,y)}if(ea(g)||Hi(g))return g=cs(g,p.mode,y,null),g.return=p,g;if(typeof g.then=="function")return f(p,Rr(g),y);if(g.$$typeof===Xt)return f(p,Or(p,g),y);Dr(p,g)}return null}function d(p,g,y,_){var w=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return w!==null?null:l(p,g,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Tr:return y.key===w?o(p,g,y,_):null;case Wi:return y.key===w?c(p,g,y,_):null;case mn:return w=y._init,y=w(y._payload),d(p,g,y,_)}if(ea(y)||Hi(y))return w!==null?null:u(p,g,y,_,null);if(typeof y.then=="function")return d(p,g,Rr(y),_);if(y.$$typeof===Xt)return d(p,g,Or(p,y),_);Dr(p,y)}return null}function m(p,g,y,_,w){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return p=p.get(y)||null,l(g,p,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Tr:return p=p.get(_.key===null?y:_.key)||null,o(g,p,_,w);case Wi:return p=p.get(_.key===null?y:_.key)||null,c(g,p,_,w);case mn:var E=_._init;return _=E(_._payload),m(p,g,y,_,w)}if(ea(_)||Hi(_))return p=p.get(y)||null,u(g,p,_,w,null);if(typeof _.then=="function")return m(p,g,y,Rr(_),w);if(_.$$typeof===Xt)return m(p,g,y,Or(g,_),w);Dr(g,_)}return null}function v(p,g,y,_){for(var w=null,E=null,x=g,j=g=0,C=null;x!==null&&j<y.length;j++){x.index>j?(C=x,x=null):C=x.sibling;var O=d(p,x,y[j],_);if(O===null){x===null&&(x=C);break}e&&x&&O.alternate===null&&t(p,x),g=a(O,g,j),E===null?w=O:E.sibling=O,E=O,x=C}if(j===y.length)return n(p,x),F&&es(p,j),w;if(x===null){for(;j<y.length;j++)x=f(p,y[j],_),x!==null&&(g=a(x,g,j),E===null?w=x:E.sibling=x,E=x);return F&&es(p,j),w}for(x=s(x);j<y.length;j++)C=m(x,p,j,y[j],_),C!==null&&(e&&C.alternate!==null&&x.delete(C.key===null?j:C.key),g=a(C,g,j),E===null?w=C:E.sibling=C,E=C);return e&&x.forEach(function(P){return t(p,P)}),F&&es(p,j),w}function b(p,g,y,_){if(y==null)throw Error(A(151));for(var w=null,E=null,x=g,j=g=0,C=null,O=y.next();x!==null&&!O.done;j++,O=y.next()){x.index>j?(C=x,x=null):C=x.sibling;var P=d(p,x,O.value,_);if(P===null){x===null&&(x=C);break}e&&x&&P.alternate===null&&t(p,x),g=a(P,g,j),E===null?w=P:E.sibling=P,E=P,x=C}if(O.done)return n(p,x),F&&es(p,j),w;if(x===null){for(;!O.done;j++,O=y.next())O=f(p,O.value,_),O!==null&&(g=a(O,g,j),E===null?w=O:E.sibling=O,E=O);return F&&es(p,j),w}for(x=s(x);!O.done;j++,O=y.next())O=m(x,p,j,O.value,_),O!==null&&(e&&O.alternate!==null&&x.delete(O.key===null?j:O.key),g=a(O,g,j),E===null?w=O:E.sibling=O,E=O);return e&&x.forEach(function(z){return t(p,z)}),F&&es(p,j),w}function S(p,g,y,_){if(typeof y=="object"&&y!==null&&y.type===$s&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Tr:e:{for(var w=y.key;g!==null;){if(g.key===w){if(w=y.type,w===$s){if(g.tag===7){n(p,g.sibling),_=i(g,y.props.children),_.return=p,p=_;break e}}else if(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===mn&&Yh(w)===g.type){n(p,g.sibling),_=i(g,y.props),Xi(_,y),_.return=p,p=_;break e}n(p,g);break}else t(p,g);g=g.sibling}y.type===$s?(_=cs(y.props.children,p.mode,_,y.key),_.return=p,p=_):(_=Zr(y.type,y.key,y.props,null,p.mode,_),Xi(_,y),_.return=p,p=_)}return r(p);case Wi:e:{for(w=y.key;g!==null;){if(g.key===w)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(p,g.sibling),_=i(g,y.children||[]),_.return=p,p=_;break e}else{n(p,g);break}else t(p,g);g=g.sibling}_=Yo(y,p.mode,_),_.return=p,p=_}return r(p);case mn:return w=y._init,y=w(y._payload),S(p,g,y,_)}if(ea(y))return v(p,g,y,_);if(Hi(y)){if(w=Hi(y),typeof w!="function")throw Error(A(150));return y=w.call(y),b(p,g,y,_)}if(typeof y.then=="function")return S(p,g,Rr(y),_);if(y.$$typeof===Xt)return S(p,g,Or(p,y),_);Dr(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(n(p,g.sibling),_=i(g,y),_.return=p,p=_):(n(p,g),_=Go(y,p.mode,_),_.return=p,p=_),r(p)):n(p,g)}return function(p,g,y,_){try{Ua=0;var w=S(p,g,y,_);return ui=null,w}catch(x){if(x===or||x===so)throw x;var E=tt(29,x,null,p.mode);return E.lanes=_,E.return=p,E}finally{}}}var vi=av(!0),rv=av(!1),_t=Lt(null),Mt=null;function vn(e){var t=e.alternate;ce(Te,Te.current&1),ce(_t,e),Mt===null&&(t===null||gi.current!==null||t.memoizedState!==null)&&(Mt=e)}function lv(e){if(e.tag===22){if(ce(Te,Te.current),ce(_t,e),Mt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Mt=e)}}else bn()}function bn(){ce(Te,Te.current),ce(_t,_t.current)}function It(e){Re(_t),Mt===e&&(Mt=null),Re(Te)}var Te=Lt(0);function Tl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Tu(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Fo(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:ae({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ou={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=it(),i=Cn(s);i.payload=t,n!=null&&(i.callback=n),t=On(e,i,s),t!==null&&(at(t,e,s),da(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=it(),i=Cn(s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=On(e,i,s),t!==null&&(at(t,e,s),da(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=it(),s=Cn(n);s.tag=2,t!=null&&(s.callback=t),t=On(e,s,n),t!==null&&(at(t,e,n),da(t,e,n))}};function Xh(e,t,n,s,i,a,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,r):t.prototype&&t.prototype.isPureReactComponent?!Da(n,s)||!Da(i,a):!0}function Kh(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&ou.enqueueReplaceState(t,t.state,null)}function Ss(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=ae({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}var jl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ov(e){jl(e)}function cv(e){console.error(e)}function uv(e){jl(e)}function El(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Fh(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function cu(e,t,n){return n=Cn(n),n.tag=3,n.payload={element:null},n.callback=function(){El(e,t)},n}function fv(e){return e=Cn(e),e.tag=3,e}function dv(e,t,n,s){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=s.value;e.payload=function(){return i(a)},e.callback=function(){Fh(t,n,s)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Fh(t,n,s),typeof i!="function"&&(Nn===null?Nn=new Set([this]):Nn.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})})}function Ux(e,t,n,s,i){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&rr(t,n,i,!0),n=_t.current,n!==null){switch(n.tag){case 13:return Mt===null?yu():n.alternate===null&&pe===0&&(pe=3),n.flags&=-257,n.flags|=65536,n.lanes=i,s===tu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),ac(e,s,i)),!1;case 22:return n.flags|=65536,s===tu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),ac(e,s,i)),!1}throw Error(A(435,n.tag))}return ac(e,s,i),yu(),!1}if(F)return t=_t.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,s!==Ic&&(e=Error(A(422),{cause:s}),Ma(gt(e,n)))):(s!==Ic&&(t=Error(A(423),{cause:s}),Ma(gt(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,s=gt(s,n),i=cu(e.stateNode,s,i),Xo(e,i),pe!==4&&(pe=2)),!1;var a=Error(A(520),{cause:s});if(a=gt(a,n),va===null?va=[a]:va.push(a),pe!==4&&(pe=2),t===null)return!0;s=gt(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=cu(n.stateNode,s,e),Xo(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Nn===null||!Nn.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=fv(i),dv(i,e,n,s),Xo(n,i),!1}n=n.return}while(n!==null);return!1}var hv=Error(A(461)),Ne=!1;function Me(e,t,n,s){t.child=e===null?rv(t,null,n,s):vi(t,e.child,n,s)}function Qh(e,t,n,s,i){n=n.render;var a=t.ref;if("ref"in s){var r={};for(var l in s)l!=="ref"&&(r[l]=s[l])}else r=s;return bs(t),s=Lf(e,t,n,r,a,i),l=Vf(),e!==null&&!Ne?(Bf(e,t,i),tn(e,t,i)):(F&&l&&Nf(t),t.flags|=1,Me(e,t,s,i),t.child)}function Ih(e,t,n,s,i){if(e===null){var a=n.type;return typeof a=="function"&&!Of(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,mv(e,t,a,s,i)):(e=Zr(n.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Ff(e,i)){var r=a.memoizedProps;if(n=n.compare,n=n!==null?n:Da,n(r,s)&&e.ref===t.ref)return tn(e,t,i)}return t.flags|=1,e=Zt(a,s),e.ref=t.ref,e.return=t,t.child=e}function mv(e,t,n,s,i){if(e!==null){var a=e.memoizedProps;if(Da(a,s)&&e.ref===t.ref)if(Ne=!1,t.pendingProps=s=a,Ff(e,i))e.flags&131072&&(Ne=!0);else return t.lanes=e.lanes,tn(e,t,i)}return uu(e,t,n,s,i)}function pv(e,t,n){var s=t.pendingProps,i=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if(t.flags&128){if(s=a!==null?a.baseLanes|n:n,e!==null){for(i=t.child=e.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~s}else t.childLanes=0,t.child=null;return Zh(e,t,s,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Jr(t,a!==null?a.cachePool:null),a!==null?Vh(t,a):iu(),lv(t);else return t.lanes=t.childLanes=536870912,Zh(e,t,a!==null?a.baseLanes|n:n,n)}else a!==null?(Jr(t,a.cachePool),Vh(t,a),bn(),t.memoizedState=null):(e!==null&&Jr(t,null),iu(),bn());return Me(e,t,i,n),t.child}function Zh(e,t,n,s){var i=Mf();return i=i===null?null:{parent:we._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&Jr(t,null),iu(),lv(t),e!==null&&rr(e,t,s,!0),null}function tl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(A(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function uu(e,t,n,s,i){return bs(t),n=Lf(e,t,n,s,void 0,i),s=Vf(),e!==null&&!Ne?(Bf(e,t,i),tn(e,t,i)):(F&&s&&Nf(t),t.flags|=1,Me(e,t,n,i),t.child)}function Jh(e,t,n,s,i,a){return bs(t),t.updateQueue=null,n=Cy(t,s,n,i),Ay(e),s=Vf(),e!==null&&!Ne?(Bf(e,t,a),tn(e,t,a)):(F&&s&&Nf(t),t.flags|=1,Me(e,t,n,a),t.child)}function Wh(e,t,n,s,i){if(bs(t),t.stateNode===null){var a=Qs,r=n.contextType;typeof r=="object"&&r!==null&&(a=Ve(r)),a=new n(s,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=ou,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=s,a.state=t.memoizedState,a.refs={},kf(t),r=n.contextType,a.context=typeof r=="object"&&r!==null?Ve(r):Qs,a.state=t.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(Fo(t,n,r,s),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&ou.enqueueReplaceState(a,a.state,null),ma(t,s,a,i),ha(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){a=t.stateNode;var l=t.memoizedProps,o=Ss(n,l);a.props=o;var c=a.context,u=n.contextType;r=Qs,typeof u=="object"&&u!==null&&(r=Ve(u));var f=n.getDerivedStateFromProps;u=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l||c!==r)&&Kh(t,a,s,r),pn=!1;var d=t.memoizedState;a.state=d,ma(t,s,a,i),ha(),c=t.memoizedState,l||d!==c||pn?(typeof f=="function"&&(Fo(t,n,f,s),c=t.memoizedState),(o=pn||Xh(t,n,o,s,d,c,r))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),a.props=s,a.state=c,a.context=r,s=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{a=t.stateNode,nu(e,t),r=t.memoizedProps,u=Ss(n,r),a.props=u,f=t.pendingProps,d=a.context,c=n.contextType,o=Qs,typeof c=="object"&&c!==null&&(o=Ve(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(r!==f||d!==o)&&Kh(t,a,s,o),pn=!1,d=t.memoizedState,a.state=d,ma(t,s,a,i),ha();var m=t.memoizedState;r!==f||d!==m||pn||e!==null&&e.dependencies!==null&&bl(e.dependencies)?(typeof l=="function"&&(Fo(t,n,l,s),m=t.memoizedState),(u=pn||Xh(t,n,u,s,d,m,o)||e!==null&&e.dependencies!==null&&bl(e.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,m,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,m,o)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||r===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=m),a.props=s,a.state=m,a.context=o,s=u):(typeof a.componentDidUpdate!="function"||r===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),s=!1)}return a=s,tl(e,t),s=(t.flags&128)!==0,a||s?(a=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&s?(t.child=vi(t,e.child,null,i),t.child=vi(t,null,n,i)):Me(e,t,n,i),t.memoizedState=a.state,e=t.child):e=tn(e,t,i),e}function em(e,t,n,s){return ar(),t.flags|=256,Me(e,t,n,s),t.child}var Qo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Io(e){return{baseLanes:e,cachePool:xy()}}function Zo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=yt),e}function gv(e,t,n){var s=t.pendingProps,i=!1,a=(t.flags&128)!==0,r;if((r=a)||(r=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),r&&(i=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(F){if(i?vn(t):bn(),F){var l=me,o;if(o=l){e:{for(o=l,l=Ot;o.nodeType!==8;){if(!l){l=null;break e}if(o=Et(o.nextSibling),o===null){l=null;break e}}l=o}l!==null?(t.memoizedState={dehydrated:l,treeContext:us!==null?{id:Kt,overflow:Ft}:null,retryLane:536870912,hydrationErrors:null},o=tt(18,null,null,0),o.stateNode=l,o.return=t,t.child=o,ze=t,me=null,o=!0):o=!1}o||vs(t)}if(l=t.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return Tu(l)?t.lanes=32:t.lanes=536870912,null;It(t)}return l=s.children,s=s.fallback,i?(bn(),i=t.mode,l=Al({mode:"hidden",children:l},i),s=cs(s,i,n,null),l.return=t,s.return=t,l.sibling=s,t.child=l,i=t.child,i.memoizedState=Io(n),i.childLanes=Zo(e,r,n),t.memoizedState=Qo,s):(vn(t),fu(t,l))}if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null)){if(a)t.flags&256?(vn(t),t.flags&=-257,t=Jo(e,t,n)):t.memoizedState!==null?(bn(),t.child=e.child,t.flags|=128,t=null):(bn(),i=s.fallback,l=t.mode,s=Al({mode:"visible",children:s.children},l),i=cs(i,l,n,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,vi(t,e.child,null,n),s=t.child,s.memoizedState=Io(n),s.childLanes=Zo(e,r,n),t.memoizedState=Qo,t=i);else if(vn(t),Tu(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var c=r.dgst;r=c,s=Error(A(419)),s.stack="",s.digest=r,Ma({value:s,source:null,stack:null}),t=Jo(e,t,n)}else if(Ne||rr(e,t,n,!1),r=(n&e.childLanes)!==0,Ne||r){if(r=ie,r!==null&&(s=n&-n,s=s&42?1:vf(s),s=s&(r.suspendedLanes|n)?0:s,s!==0&&s!==o.retryLane))throw o.retryLane=s,Oi(e,s),at(r,e,s),hv;l.data==="$?"||yu(),t=Jo(e,t,n)}else l.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,me=Et(l.nextSibling),ze=t,F=!0,fs=null,Ot=!1,e!==null&&(ht[mt++]=Kt,ht[mt++]=Ft,ht[mt++]=us,Kt=e.id,Ft=e.overflow,us=t),t=fu(t,s.children),t.flags|=4096);return t}return i?(bn(),i=s.fallback,l=t.mode,o=e.child,c=o.sibling,s=Zt(o,{mode:"hidden",children:s.children}),s.subtreeFlags=o.subtreeFlags&65011712,c!==null?i=Zt(c,i):(i=cs(i,l,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,l=e.child.memoizedState,l===null?l=Io(n):(o=l.cachePool,o!==null?(c=we._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=xy(),l={baseLanes:l.baseLanes|n,cachePool:o}),i.memoizedState=l,i.childLanes=Zo(e,r,n),t.memoizedState=Qo,s):(vn(t),n=e.child,e=n.sibling,n=Zt(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function fu(e,t){return t=Al({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Al(e,t){return e=tt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Jo(e,t,n){return vi(t,e.child,null,n),e=fu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tm(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Jc(e.return,t,n)}function Wo(e,t,n,s,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i)}function yv(e,t,n){var s=t.pendingProps,i=s.revealOrder,a=s.tail;if(Me(e,t,s.children,n),s=Te.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tm(e,n,t);else if(e.tag===19)tm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(ce(Te,s),i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Tl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Tl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wo(t,!0,n,null,a);break;case"together":Wo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function tn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vn|=t.lanes,!(n&t.childLanes))if(e!==null){if(rr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=Zt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ff(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&bl(e)))}function Px(e,t,n){switch(t.tag){case 3:fl(t,t.stateNode.containerInfo),yn(t,we,e.memoizedState.cache),ar();break;case 27:case 5:zc(t);break;case 4:fl(t,t.stateNode.containerInfo);break;case 10:yn(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(vn(t),t.flags|=128,null):n&t.child.childLanes?gv(e,t,n):(vn(t),e=tn(e,t,n),e!==null?e.sibling:null);vn(t);break;case 19:var i=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(rr(e,t,n,!1),s=(n&t.childLanes)!==0),i){if(s)return yv(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(Te,Te.current),s)break;return null;case 22:case 23:return t.lanes=0,pv(e,t,n);case 24:yn(t,we,e.memoizedState.cache)}return tn(e,t,n)}function vv(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ne=!0;else{if(!Ff(e,n)&&!(t.flags&128))return Ne=!1,Px(e,t,n);Ne=!!(e.flags&131072)}else Ne=!1,F&&t.flags&1048576&&_y(t,vl,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,i=s._init;if(s=i(s._payload),t.type=s,typeof s=="function")Of(s)?(e=Ss(s,e),t.tag=1,t=Wh(null,t,s,e,n)):(t.tag=0,t=uu(null,t,s,e,n));else{if(s!=null){if(i=s.$$typeof,i===pf){t.tag=11,t=Qh(null,t,s,e,n);break e}else if(i===gf){t.tag=14,t=Ih(null,t,s,e,n);break e}}throw t=Vc(s)||s,Error(A(306,t,""))}}return t;case 0:return uu(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,i=Ss(s,t.pendingProps),Wh(e,t,s,i,n);case 3:e:{if(fl(t,t.stateNode.containerInfo),e===null)throw Error(A(387));s=t.pendingProps;var a=t.memoizedState;i=a.element,nu(e,t),ma(t,s,null,n);var r=t.memoizedState;if(s=r.cache,yn(t,we,s),s!==a.cache&&Wc(t,[we],n,!0),ha(),s=r.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=em(e,t,s,n);break e}else if(s!==i){i=gt(Error(A(424)),t),Ma(i),t=em(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(me=Et(e.firstChild),ze=t,F=!0,fs=null,Ot=!0,n=rv(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ar(),s===i){t=tn(e,t,n);break e}Me(e,t,s,n)}t=t.child}return t;case 26:return tl(e,t),e===null?(n=vm(t.type,null,t.pendingProps,null))?t.memoizedState=n:F||(n=t.type,e=t.pendingProps,s=kl(An.current).createElement(n),s[Le]=t,s[Ie]=e,Ue(s,n,e),Oe(s),t.stateNode=s):t.memoizedState=vm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return zc(t),e===null&&F&&(s=t.stateNode=i0(t.type,t.pendingProps,An.current),ze=t,Ot=!0,i=me,Hn(t.type)?(ju=i,me=Et(s.firstChild)):me=i),Me(e,t,t.pendingProps.children,n),tl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&F&&((i=s=me)&&(s=uw(s,t.type,t.pendingProps,Ot),s!==null?(t.stateNode=s,ze=t,me=Et(s.firstChild),Ot=!1,i=!0):i=!1),i||vs(t)),zc(t),i=t.type,a=t.pendingProps,r=e!==null?e.memoizedProps:null,s=a.children,xu(i,a)?s=null:r!==null&&xu(i,r)&&(t.flags|=32),t.memoizedState!==null&&(i=Lf(e,t,Cx,null,null,n),Ba._currentValue=i),tl(e,t),Me(e,t,s,n),t.child;case 6:return e===null&&F&&((e=n=me)&&(n=fw(n,t.pendingProps,Ot),n!==null?(t.stateNode=n,ze=t,me=null,e=!0):e=!1),e||vs(t)),null;case 13:return gv(e,t,n);case 4:return fl(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=vi(t,null,s,n):Me(e,t,s,n),t.child;case 11:return Qh(e,t,t.type,t.pendingProps,n);case 7:return Me(e,t,t.pendingProps,n),t.child;case 8:return Me(e,t,t.pendingProps.children,n),t.child;case 12:return Me(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,yn(t,t.type,s.value),Me(e,t,s.children,n),t.child;case 9:return i=t.type._context,s=t.pendingProps.children,bs(t),i=Ve(i),s=s(i),t.flags|=1,Me(e,t,s,n),t.child;case 14:return Ih(e,t,t.type,t.pendingProps,n);case 15:return mv(e,t,t.type,t.pendingProps,n);case 19:return yv(e,t,n);case 31:return s=t.pendingProps,n=t.mode,s={mode:s.mode,children:s.children},e===null?(n=Al(s,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Zt(e.child,s),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return pv(e,t,n);case 24:return bs(t),s=Ve(we),e===null?(i=Mf(),i===null&&(i=ie,a=Df(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:s,cache:i},kf(t),yn(t,we,i)):(e.lanes&n&&(nu(e,t),ma(t,null,null,n),ha()),i=e.memoizedState,a=t.memoizedState,i.parent!==s?(i={parent:s,cache:s},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),yn(t,we,s)):(s=a.cache,yn(t,we,s),s!==i.cache&&Wc(t,[we],n,!0))),Me(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(A(156,t.tag))}function zt(e){e.flags|=4}function nm(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!l0(t)){if(t=_t.current,t!==null&&((X&4194048)===X?Mt!==null:(X&62914560)!==X&&!(X&536870912)||t!==Mt))throw fa=tu,wy;e.flags|=8192}}function Mr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Gg():536870912,e.lanes|=t,bi|=t)}function Ki(e,t){if(!F)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&65011712,s|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Lx(e,t,n){var s=t.pendingProps;switch(Rf(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(t),null;case 1:return fe(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Jt(we),di(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Yi(t)?zt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dh())),fe(t),null;case 26:return n=t.memoizedState,e===null?(zt(t),n!==null?(fe(t),nm(t,n)):(fe(t),t.flags&=-16777217)):n?n!==e.memoizedState?(zt(t),fe(t),nm(t,n)):(fe(t),t.flags&=-16777217):(e.memoizedProps!==s&&zt(t),fe(t),t.flags&=-16777217),null;case 27:dl(t),n=An.current;var i=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&zt(t);else{if(!s){if(t.stateNode===null)throw Error(A(166));return fe(t),null}e=Rt.current,Yi(t)?Nh(t):(e=i0(i,s,n),t.stateNode=e,zt(t))}return fe(t),null;case 5:if(dl(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&zt(t);else{if(!s){if(t.stateNode===null)throw Error(A(166));return fe(t),null}if(e=Rt.current,Yi(t))Nh(t);else{switch(i=kl(An.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?i.createElement("select",{is:s.is}):i.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?i.createElement(n,{is:s.is}):i.createElement(n)}}e[Le]=t,e[Ie]=s;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Ue(e,n,s),n){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&zt(t)}}return fe(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&zt(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(A(166));if(e=An.current,Yi(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,i=ze,i!==null)switch(i.tag){case 27:case 5:s=i.memoizedProps}e[Le]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||t0(e.nodeValue,n)),e||vs(t)}else e=kl(e).createTextNode(s),e[Le]=t,t.stateNode=e}return fe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=Yi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(A(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[Le]=t}else ar(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fe(t),i=!1}else i=Dh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(It(t),t):(It(t),null)}if(It(t),t.flags&128)return t.lanes=n,t;if(n=s!==null,e=e!==null&&e.memoizedState!==null,n){s=t.child,i=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(i=s.alternate.memoizedState.cachePool.pool);var a=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==i&&(s.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Mr(t,t.updateQueue),fe(t),null;case 4:return di(),e===null&&nd(t.stateNode.containerInfo),fe(t),null;case 10:return Jt(t.type),fe(t),null;case 19:if(Re(Te),i=t.memoizedState,i===null)return fe(t),null;if(s=(t.flags&128)!==0,a=i.rendering,a===null)if(s)Ki(i,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Tl(e),a!==null){for(t.flags|=128,Ki(i,!1),e=a.updateQueue,t.updateQueue=e,Mr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)by(n,e),n=n.sibling;return ce(Te,Te.current&1|2),t.child}e=e.sibling}i.tail!==null&&Dt()>Ol&&(t.flags|=128,s=!0,Ki(i,!1),t.lanes=4194304)}else{if(!s)if(e=Tl(a),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Mr(t,e),Ki(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!F)return fe(t),null}else 2*Dt()-i.renderingStartTime>Ol&&n!==536870912&&(t.flags|=128,s=!0,Ki(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(e=i.last,e!==null?e.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Dt(),t.sibling=null,e=Te.current,ce(Te,s?e&1|2:e&1),t):(fe(t),null);case 22:case 23:return It(t),Uf(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?n&536870912&&!(t.flags&128)&&(fe(t),t.subtreeFlags&6&&(t.flags|=8192)):fe(t),n=t.updateQueue,n!==null&&Mr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&Re(ds),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Jt(we),fe(t),null;case 25:return null;case 30:return null}throw Error(A(156,t.tag))}function Vx(e,t){switch(Rf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jt(we),di(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return dl(t),null;case 13:if(It(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));ar()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Re(Te),null;case 4:return di(),null;case 10:return Jt(t.type),null;case 22:case 23:return It(t),Uf(),e!==null&&Re(ds),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Jt(we),null;case 25:return null;default:return null}}function bv(e,t){switch(Rf(t),t.tag){case 3:Jt(we),di();break;case 26:case 27:case 5:dl(t);break;case 4:di();break;case 13:It(t);break;case 19:Re(Te);break;case 10:Jt(t.type);break;case 22:case 23:It(t),Uf(),e!==null&&Re(ds);break;case 24:Jt(we)}}function fr(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var i=s.next;n=i;do{if((n.tag&e)===e){s=void 0;var a=n.create,r=n.inst;s=a(),r.destroy=s}n=n.next}while(n!==i)}}catch(l){ne(t,t.return,l)}}function Ln(e,t,n){try{var s=t.updateQueue,i=s!==null?s.lastEffect:null;if(i!==null){var a=i.next;s=a;do{if((s.tag&e)===e){var r=s.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,i=t;var o=n,c=l;try{c()}catch(u){ne(i,o,u)}}}s=s.next}while(s!==a)}}catch(u){ne(t,t.return,u)}}function _v(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ey(t,n)}catch(s){ne(e,e.return,s)}}}function Sv(e,t,n){n.props=Ss(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){ne(e,t,s)}}function ga(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(i){ne(e,t,i)}}function Nt(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(i){ne(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){ne(e,t,i)}else n.current=null}function xv(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(i){ne(e,e.return,i)}}function ec(e,t,n){try{var s=e.stateNode;aw(s,e.type,n,t),s[Ie]=t}catch(i){ne(e,e.return,i)}}function wv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hn(e.type)||e.tag===4}function tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function du(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=uo));else if(s!==4&&(s===27&&Hn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(du(e,t,n),e=e.sibling;e!==null;)du(e,t,n),e=e.sibling}function Cl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&Hn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Cl(e,t,n),e=e.sibling;e!==null;)Cl(e,t,n),e=e.sibling}function Tv(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ue(t,s,n),t[Le]=e,t[Ie]=n}catch(a){ne(e,e.return,a)}}var Yt=!1,ve=!1,nc=!1,sm=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Bx(e,t){if(e=e.containerInfo,_u=Vl,e=fy(e),Ef(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var r=0,l=-1,o=-1,c=0,u=0,f=e,d=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(l=r+i),f!==a||s!==0&&f.nodeType!==3||(o=r+s),f.nodeType===3&&(r+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===e)break t;if(d===n&&++c===i&&(l=r),d===a&&++u===s&&(o=r),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Su={focusedElem:e,selectionRange:n},Vl=!1,Ce=t;Ce!==null;)if(t=Ce,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ce=e;else for(;Ce!==null;){switch(t=Ce,a=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,s=n.stateNode;try{var v=Ss(n.type,i,n.elementType===n.type);e=s.getSnapshotBeforeUpdate(v,a),s.__reactInternalSnapshotBeforeUpdate=e}catch(b){ne(n,n.return,b)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)wu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(A(163))}if(e=t.sibling,e!==null){e.return=t.return,Ce=e;break}Ce=t.return}}function jv(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:on(e,n),s&4&&fr(5,n);break;case 1:if(on(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(r){ne(n,n.return,r)}else{var i=Ss(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){ne(n,n.return,r)}}s&64&&_v(n),s&512&&ga(n,n.return);break;case 3:if(on(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ey(e,t)}catch(r){ne(n,n.return,r)}}break;case 27:t===null&&s&4&&Tv(n);case 26:case 5:on(e,n),t===null&&s&4&&xv(n),s&512&&ga(n,n.return);break;case 12:on(e,n);break;case 13:on(e,n),s&4&&Cv(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Fx.bind(null,n),dw(e,n))));break;case 22:if(s=n.memoizedState!==null||Yt,!s){t=t!==null&&t.memoizedState!==null||ve,i=Yt;var a=ve;Yt=s,(ve=t)&&!a?fn(e,n,(n.subtreeFlags&8772)!==0):on(e,n),Yt=i,ve=a}break;case 30:break;default:on(e,n)}}function Ev(e){var t=e.alternate;t!==null&&(e.alternate=null,Ev(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&_f(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,Xe=!1;function $t(e,t,n){for(n=n.child;n!==null;)Av(e,t,n),n=n.sibling}function Av(e,t,n){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(er,n)}catch{}switch(n.tag){case 26:ve||Nt(n,t),$t(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ve||Nt(n,t);var s=le,i=Xe;Hn(n.type)&&(le=n.stateNode,Xe=!1),$t(e,t,n),_a(n.stateNode),le=s,Xe=i;break;case 5:ve||Nt(n,t);case 6:if(s=le,i=Xe,le=null,$t(e,t,n),le=s,Xe=i,le!==null)if(Xe)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(n.stateNode)}catch(a){ne(n,t,a)}else try{le.removeChild(n.stateNode)}catch(a){ne(n,t,a)}break;case 18:le!==null&&(Xe?(e=le,pm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ha(e)):pm(le,n.stateNode));break;case 4:s=le,i=Xe,le=n.stateNode.containerInfo,Xe=!0,$t(e,t,n),le=s,Xe=i;break;case 0:case 11:case 14:case 15:ve||Ln(2,n,t),ve||Ln(4,n,t),$t(e,t,n);break;case 1:ve||(Nt(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&Sv(n,t,s)),$t(e,t,n);break;case 21:$t(e,t,n);break;case 22:ve=(s=ve)||n.memoizedState!==null,$t(e,t,n),ve=s;break;default:$t(e,t,n)}}function Cv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ha(e)}catch(n){ne(t,t.return,n)}}function zx(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new sm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new sm),t;default:throw Error(A(435,e.tag))}}function sc(e,t){var n=zx(e);t.forEach(function(s){var i=Qx.bind(null,e,s);n.has(s)||(n.add(s),s.then(i,i))})}function Je(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s],a=e,r=t,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(Hn(l.type)){le=l.stateNode,Xe=!1;break e}break;case 5:le=l.stateNode,Xe=!1;break e;case 3:case 4:le=l.stateNode.containerInfo,Xe=!0;break e}l=l.return}if(le===null)throw Error(A(160));Av(a,r,i),le=null,Xe=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Ov(t,e),t=t.sibling}var Tt=null;function Ov(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Je(t,e),We(e),s&4&&(Ln(3,e,e.return),fr(3,e),Ln(5,e,e.return));break;case 1:Je(t,e),We(e),s&512&&(ve||n===null||Nt(n,n.return)),s&64&&Yt&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var i=Tt;if(Je(t,e),We(e),s&512&&(ve||n===null||Nt(n,n.return)),s&4){var a=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(s){case"title":a=i.getElementsByTagName("title")[0],(!a||a[sr]||a[Le]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(s),i.head.insertBefore(a,i.querySelector("head > title"))),Ue(a,s,n),a[Le]=e,Oe(a),s=a;break e;case"link":var r=_m("link","href",i).get(s+(n.href||""));if(r){for(var l=0;l<r.length;l++)if(a=r[l],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(l,1);break t}}a=i.createElement(s),Ue(a,s,n),i.head.appendChild(a);break;case"meta":if(r=_m("meta","content",i).get(s+(n.content||""))){for(l=0;l<r.length;l++)if(a=r[l],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(l,1);break t}}a=i.createElement(s),Ue(a,s,n),i.head.appendChild(a);break;default:throw Error(A(468,s))}a[Le]=e,Oe(a),s=a}e.stateNode=s}else Sm(i,e.type,e.stateNode);else e.stateNode=bm(i,s,e.memoizedProps);else a!==s?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,s===null?Sm(i,e.type,e.stateNode):bm(i,s,e.memoizedProps)):s===null&&e.stateNode!==null&&ec(e,e.memoizedProps,n.memoizedProps)}break;case 27:Je(t,e),We(e),s&512&&(ve||n===null||Nt(n,n.return)),n!==null&&s&4&&ec(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Je(t,e),We(e),s&512&&(ve||n===null||Nt(n,n.return)),e.flags&32){i=e.stateNode;try{mi(i,"")}catch(m){ne(e,e.return,m)}}s&4&&e.stateNode!=null&&(i=e.memoizedProps,ec(e,i,n!==null?n.memoizedProps:i)),s&1024&&(nc=!0);break;case 6:if(Je(t,e),We(e),s&4){if(e.stateNode===null)throw Error(A(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(m){ne(e,e.return,m)}}break;case 3:if(il=null,i=Tt,Tt=Ul(t.containerInfo),Je(t,e),Tt=i,We(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Ha(t.containerInfo)}catch(m){ne(e,e.return,m)}nc&&(nc=!1,Nv(e));break;case 4:s=Tt,Tt=Ul(e.stateNode.containerInfo),Je(t,e),We(e),Tt=s;break;case 12:Je(t,e),We(e);break;case 13:Je(t,e),We(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Wf=Dt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,sc(e,s)));break;case 22:i=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,c=Yt,u=ve;if(Yt=c||i,ve=u||o,Je(t,e),ve=u,Yt=c,We(e),s&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||o||Yt||ve||ts(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(a=o.stateNode,i)r=a.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=o.stateNode;var f=o.memoizedProps.style,d=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=d==null||typeof d=="boolean"?"":(""+d).trim()}}catch(m){ne(o,o.return,m)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=i?"":o.memoizedProps}catch(m){ne(o,o.return,m)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,sc(e,n))));break;case 19:Je(t,e),We(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,sc(e,s)));break;case 30:break;case 21:break;default:Je(t,e),We(e)}}function We(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(wv(s)){n=s;break}s=s.return}if(n==null)throw Error(A(160));switch(n.tag){case 27:var i=n.stateNode,a=tc(e);Cl(e,a,i);break;case 5:var r=n.stateNode;n.flags&32&&(mi(r,""),n.flags&=-33);var l=tc(e);Cl(e,l,r);break;case 3:case 4:var o=n.stateNode.containerInfo,c=tc(e);du(e,c,o);break;default:throw Error(A(161))}}catch(u){ne(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Nv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Nv(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function on(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)jv(e,t.alternate,t),t=t.sibling}function ts(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ln(4,t,t.return),ts(t);break;case 1:Nt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Sv(t,t.return,n),ts(t);break;case 27:_a(t.stateNode);case 26:case 5:Nt(t,t.return),ts(t);break;case 22:t.memoizedState===null&&ts(t);break;case 30:ts(t);break;default:ts(t)}e=e.sibling}}function fn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,i=e,a=t,r=a.flags;switch(a.tag){case 0:case 11:case 15:fn(i,a,n),fr(4,a);break;case 1:if(fn(i,a,n),s=a,i=s.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){ne(s,s.return,c)}if(s=a,i=s.updateQueue,i!==null){var l=s.stateNode;try{var o=i.shared.hiddenCallbacks;if(o!==null)for(i.shared.hiddenCallbacks=null,i=0;i<o.length;i++)jy(o[i],l)}catch(c){ne(s,s.return,c)}}n&&r&64&&_v(a),ga(a,a.return);break;case 27:Tv(a);case 26:case 5:fn(i,a,n),n&&s===null&&r&4&&xv(a),ga(a,a.return);break;case 12:fn(i,a,n);break;case 13:fn(i,a,n),n&&r&4&&Cv(i,a);break;case 22:a.memoizedState===null&&fn(i,a,n),ga(a,a.return);break;case 30:break;default:fn(i,a,n)}t=t.sibling}}function Qf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&lr(n))}function If(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&lr(e))}function Ct(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rv(e,t,n,s),t=t.sibling}function Rv(e,t,n,s){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Ct(e,t,n,s),i&2048&&fr(9,t);break;case 1:Ct(e,t,n,s);break;case 3:Ct(e,t,n,s),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&lr(e)));break;case 12:if(i&2048){Ct(e,t,n,s),e=t.stateNode;try{var a=t.memoizedProps,r=a.id,l=a.onPostCommit;typeof l=="function"&&l(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){ne(t,t.return,o)}}else Ct(e,t,n,s);break;case 13:Ct(e,t,n,s);break;case 23:break;case 22:a=t.stateNode,r=t.alternate,t.memoizedState!==null?a._visibility&2?Ct(e,t,n,s):ya(e,t):a._visibility&2?Ct(e,t,n,s):(a._visibility|=2,Ls(e,t,n,s,(t.subtreeFlags&10256)!==0)),i&2048&&Qf(r,t);break;case 24:Ct(e,t,n,s),i&2048&&If(t.alternate,t);break;default:Ct(e,t,n,s)}}function Ls(e,t,n,s,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var a=e,r=t,l=n,o=s,c=r.flags;switch(r.tag){case 0:case 11:case 15:Ls(a,r,l,o,i),fr(8,r);break;case 23:break;case 22:var u=r.stateNode;r.memoizedState!==null?u._visibility&2?Ls(a,r,l,o,i):ya(a,r):(u._visibility|=2,Ls(a,r,l,o,i)),i&&c&2048&&Qf(r.alternate,r);break;case 24:Ls(a,r,l,o,i),i&&c&2048&&If(r.alternate,r);break;default:Ls(a,r,l,o,i)}t=t.sibling}}function ya(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,i=s.flags;switch(s.tag){case 22:ya(n,s),i&2048&&Qf(s.alternate,s);break;case 24:ya(n,s),i&2048&&If(s.alternate,s);break;default:ya(n,s)}t=t.sibling}}var na=8192;function Cs(e){if(e.subtreeFlags&na)for(e=e.child;e!==null;)Dv(e),e=e.sibling}function Dv(e){switch(e.tag){case 26:Cs(e),e.flags&na&&e.memoizedState!==null&&jw(Tt,e.memoizedState,e.memoizedProps);break;case 5:Cs(e);break;case 3:case 4:var t=Tt;Tt=Ul(e.stateNode.containerInfo),Cs(e),Tt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=na,na=16777216,Cs(e),na=t):Cs(e));break;default:Cs(e)}}function Mv(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fi(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];Ce=s,Uv(s,e)}Mv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)kv(e),e=e.sibling}function kv(e){switch(e.tag){case 0:case 11:case 15:Fi(e),e.flags&2048&&Ln(9,e,e.return);break;case 3:Fi(e);break;case 12:Fi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,nl(e)):Fi(e);break;default:Fi(e)}}function nl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];Ce=s,Uv(s,e)}Mv(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ln(8,t,t.return),nl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,nl(t));break;default:nl(t)}e=e.sibling}}function Uv(e,t){for(;Ce!==null;){var n=Ce;switch(n.tag){case 0:case 11:case 15:Ln(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:lr(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,Ce=s;else e:for(n=e;Ce!==null;){s=Ce;var i=s.sibling,a=s.return;if(Ev(s),s===n){Ce=null;break e}if(i!==null){i.return=a,Ce=i;break e}Ce=a}}}var $x={getCacheForType:function(e){var t=Ve(we),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Hx=typeof WeakMap=="function"?WeakMap:Map,J=0,ie=null,G=null,X=0,Z=0,et=null,Tn=!1,Ni=!1,Zf=!1,nn=0,pe=0,Vn=0,hs=0,Jf=0,yt=0,bi=0,va=null,Ke=null,hu=!1,Wf=0,Ol=1/0,Nl=null,Nn=null,ke=0,Rn=null,_i=null,fi=0,mu=0,pu=null,Pv=null,ba=0,gu=null;function it(){if(J&2&&X!==0)return X&-X;if(U.T!==null){var e=pi;return e!==0?e:td()}return Kg()}function Lv(){yt===0&&(yt=!(X&536870912)||F?qg():536870912);var e=_t.current;return e!==null&&(e.flags|=32),yt}function at(e,t,n){(e===ie&&(Z===2||Z===9)||e.cancelPendingCommit!==null)&&(Si(e,0),jn(e,X,yt,!1)),nr(e,n),(!(J&2)||e!==ie)&&(e===ie&&(!(J&2)&&(hs|=n),pe===4&&jn(e,X,yt,!1)),Vt(e))}function Vv(e,t,n){if(J&6)throw Error(A(327));var s=!n&&(t&124)===0&&(t&e.expiredLanes)===0||tr(e,t),i=s?Yx(e,t):ic(e,t,!0),a=s;do{if(i===0){Ni&&!s&&jn(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!qx(n)){i=ic(e,t,!1),a=!1;continue}if(i===2){if(a=t,e.errorRecoveryDisabledLanes&a)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var l=e;i=va;var o=l.current.memoizedState.isDehydrated;if(o&&(Si(l,r).flags|=256),r=ic(l,r,!1),r!==2){if(Zf&&!o){l.errorRecoveryDisabledLanes|=a,hs|=a,i=4;break e}a=Ke,Ke=i,a!==null&&(Ke===null?Ke=a:Ke.push.apply(Ke,a))}i=r}if(a=!1,i!==2)continue}}if(i===1){Si(e,0),jn(e,t,0,!0);break}e:{switch(s=e,a=i,a){case 0:case 1:throw Error(A(345));case 4:if((t&4194048)!==t)break;case 6:jn(s,t,yt,!Tn);break e;case 2:Ke=null;break;case 3:case 5:break;default:throw Error(A(329))}if((t&62914560)===t&&(i=Wf+300-Dt(),10<i)){if(jn(s,t,yt,!Tn),Zl(s,0,!0)!==0)break e;s.timeoutHandle=s0(im.bind(null,s,n,Ke,Nl,hu,t,yt,hs,bi,Tn,a,2,-0,0),i);break e}im(s,n,Ke,Nl,hu,t,yt,hs,bi,Tn,a,0,-0,0)}}break}while(!0);Vt(e)}function im(e,t,n,s,i,a,r,l,o,c,u,f,d,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Va={stylesheets:null,count:0,unsuspend:Tw},Dv(t),f=Ew(),f!==null)){e.cancelPendingCommit=f(rm.bind(null,e,t,a,n,s,i,r,l,o,u,1,d,m)),jn(e,a,r,!c);return}rm(e,t,a,n,s,i,r,l,o)}function qx(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var i=n[s],a=i.getSnapshot;i=i.value;try{if(!rt(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jn(e,t,n,s){t&=~Jf,t&=~hs,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var i=t;0<i;){var a=31-st(i),r=1<<a;s[a]=-1,i&=~r}n!==0&&Yg(e,n,t)}function lo(){return J&6?!0:(dr(0),!1)}function ed(){if(G!==null){if(Z===0)var e=G.return;else e=G,Qt=js=null,zf(e),ui=null,Ua=0,e=G;for(;e!==null;)bv(e.alternate,e),e=e.return;G=null}}function Si(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,lw(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ed(),ie=e,G=n=Zt(e.current,null),X=t,Z=0,et=null,Tn=!1,Ni=tr(e,t),Zf=!1,bi=yt=Jf=hs=Vn=pe=0,Ke=va=null,hu=!1,t&8&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var i=31-st(s),a=1<<i;t|=e[i],s&=~a}return nn=t,to(),n}function Bv(e,t){B=null,U.H=wl,t===or||t===so?(t=Ph(),Z=3):t===wy?(t=Ph(),Z=4):Z=t===hv?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,et=t,G===null&&(pe=1,El(e,gt(t,e.current)))}function zv(){var e=U.H;return U.H=wl,e===null?wl:e}function $v(){var e=U.A;return U.A=$x,e}function yu(){pe=4,Tn||(X&4194048)!==X&&_t.current!==null||(Ni=!0),!(Vn&134217727)&&!(hs&134217727)||ie===null||jn(ie,X,yt,!1)}function ic(e,t,n){var s=J;J|=2;var i=zv(),a=$v();(ie!==e||X!==t)&&(Nl=null,Si(e,t)),t=!1;var r=pe;e:do try{if(Z!==0&&G!==null){var l=G,o=et;switch(Z){case 8:ed(),r=6;break e;case 3:case 2:case 9:case 6:_t.current===null&&(t=!0);var c=Z;if(Z=0,et=null,Js(e,l,o,c),n&&Ni){r=0;break e}break;default:c=Z,Z=0,et=null,Js(e,l,o,c)}}Gx(),r=pe;break}catch(u){Bv(e,u)}while(!0);return t&&e.shellSuspendCounter++,Qt=js=null,J=s,U.H=i,U.A=a,G===null&&(ie=null,X=0,to()),r}function Gx(){for(;G!==null;)Hv(G)}function Yx(e,t){var n=J;J|=2;var s=zv(),i=$v();ie!==e||X!==t?(Nl=null,Ol=Dt()+500,Si(e,t)):Ni=tr(e,t);e:do try{if(Z!==0&&G!==null){t=G;var a=et;t:switch(Z){case 1:Z=0,et=null,Js(e,t,a,1);break;case 2:case 9:if(Uh(a)){Z=0,et=null,am(t);break}t=function(){Z!==2&&Z!==9||ie!==e||(Z=7),Vt(e)},a.then(t,t);break e;case 3:Z=7;break e;case 4:Z=5;break e;case 7:Uh(a)?(Z=0,et=null,am(t)):(Z=0,et=null,Js(e,t,a,7));break;case 5:var r=null;switch(G.tag){case 26:r=G.memoizedState;case 5:case 27:var l=G;if(!r||l0(r)){Z=0,et=null;var o=l.sibling;if(o!==null)G=o;else{var c=l.return;c!==null?(G=c,oo(c)):G=null}break t}}Z=0,et=null,Js(e,t,a,5);break;case 6:Z=0,et=null,Js(e,t,a,6);break;case 8:ed(),pe=6;break e;default:throw Error(A(462))}}Xx();break}catch(u){Bv(e,u)}while(!0);return Qt=js=null,U.H=s,U.A=i,J=n,G!==null?0:(ie=null,X=0,to(),pe)}function Xx(){for(;G!==null&&!mS();)Hv(G)}function Hv(e){var t=vv(e.alternate,e,nn);e.memoizedProps=e.pendingProps,t===null?oo(e):G=t}function am(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Jh(n,t,t.pendingProps,t.type,void 0,X);break;case 11:t=Jh(n,t,t.pendingProps,t.type.render,t.ref,X);break;case 5:zf(t);default:bv(n,t),t=G=by(t,nn),t=vv(n,t,nn)}e.memoizedProps=e.pendingProps,t===null?oo(e):G=t}function Js(e,t,n,s){Qt=js=null,zf(t),ui=null,Ua=0;var i=t.return;try{if(Ux(e,i,t,n,X)){pe=1,El(e,gt(n,e.current)),G=null;return}}catch(a){if(i!==null)throw G=i,a;pe=1,El(e,gt(n,e.current)),G=null;return}t.flags&32768?(F||s===1?e=!0:Ni||X&536870912?e=!1:(Tn=e=!0,(s===2||s===9||s===3||s===6)&&(s=_t.current,s!==null&&s.tag===13&&(s.flags|=16384))),qv(t,e)):oo(t)}function oo(e){var t=e;do{if(t.flags&32768){qv(t,Tn);return}e=t.return;var n=Lx(t.alternate,t,nn);if(n!==null){G=n;return}if(t=t.sibling,t!==null){G=t;return}G=t=e}while(t!==null);pe===0&&(pe=5)}function qv(e,t){do{var n=Vx(e.alternate,e);if(n!==null){n.flags&=32767,G=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){G=e;return}G=e=n}while(e!==null);pe=6,G=null}function rm(e,t,n,s,i,a,r,l,o){e.cancelPendingCommit=null;do co();while(ke!==0);if(J&6)throw Error(A(327));if(t!==null){if(t===e.current)throw Error(A(177));if(a=t.lanes|t.childLanes,a|=Af,TS(e,n,a,r,l,o),e===ie&&(G=ie=null,X=0),_i=t,Rn=e,fi=n,mu=a,pu=i,Pv=s,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Ix(hl,function(){return Fv(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,t.subtreeFlags&13878||s){s=U.T,U.T=null,i=Q.p,Q.p=2,r=J,J|=4;try{Bx(e,t,n)}finally{J=r,Q.p=i,U.T=s}}ke=1,Gv(),Yv(),Xv()}}function Gv(){if(ke===1){ke=0;var e=Rn,t=_i,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=U.T,U.T=null;var s=Q.p;Q.p=2;var i=J;J|=4;try{Ov(t,e);var a=Su,r=fy(e.containerInfo),l=a.focusedElem,o=a.selectionRange;if(r!==l&&l&&l.ownerDocument&&uy(l.ownerDocument.documentElement,l)){if(o!==null&&Ef(l)){var c=o.start,u=o.end;if(u===void 0&&(u=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(u,l.value.length);else{var f=l.ownerDocument||document,d=f&&f.defaultView||window;if(d.getSelection){var m=d.getSelection(),v=l.textContent.length,b=Math.min(o.start,v),S=o.end===void 0?b:Math.min(o.end,v);!m.extend&&b>S&&(r=S,S=b,b=r);var p=Ah(l,b),g=Ah(l,S);if(p&&g&&(m.rangeCount!==1||m.anchorNode!==p.node||m.anchorOffset!==p.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var y=f.createRange();y.setStart(p.node,p.offset),m.removeAllRanges(),b>S?(m.addRange(y),m.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),m.addRange(y))}}}}for(f=[],m=l;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var _=f[l];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}Vl=!!_u,Su=_u=null}finally{J=i,Q.p=s,U.T=n}}e.current=t,ke=2}}function Yv(){if(ke===2){ke=0;var e=Rn,t=_i,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=U.T,U.T=null;var s=Q.p;Q.p=2;var i=J;J|=4;try{jv(e,t.alternate,t)}finally{J=i,Q.p=s,U.T=n}}ke=3}}function Xv(){if(ke===4||ke===3){ke=0,pS();var e=Rn,t=_i,n=fi,s=Pv;t.subtreeFlags&10256||t.flags&10256?ke=5:(ke=0,_i=Rn=null,Kv(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Nn=null),bf(n),t=t.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(er,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=U.T,i=Q.p,Q.p=2,U.T=null;try{for(var a=e.onRecoverableError,r=0;r<s.length;r++){var l=s[r];a(l.value,{componentStack:l.stack})}}finally{U.T=t,Q.p=i}}fi&3&&co(),Vt(e),i=e.pendingLanes,n&4194090&&i&42?e===gu?ba++:(ba=0,gu=e):ba=0,dr(0)}}function Kv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,lr(t)))}function co(e){return Gv(),Yv(),Xv(),Fv()}function Fv(){if(ke!==5)return!1;var e=Rn,t=mu;mu=0;var n=bf(fi),s=U.T,i=Q.p;try{Q.p=32>n?32:n,U.T=null,n=pu,pu=null;var a=Rn,r=fi;if(ke=0,_i=Rn=null,fi=0,J&6)throw Error(A(331));var l=J;if(J|=4,kv(a.current),Rv(a,a.current,r,n),J=l,dr(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(er,a)}catch{}return!0}finally{Q.p=i,U.T=s,Kv(e,t)}}function lm(e,t,n){t=gt(n,t),t=cu(e.stateNode,t,2),e=On(e,t,2),e!==null&&(nr(e,2),Vt(e))}function ne(e,t,n){if(e.tag===3)lm(e,e,n);else for(;t!==null;){if(t.tag===3){lm(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Nn===null||!Nn.has(s))){e=gt(n,e),n=fv(2),s=On(t,n,2),s!==null&&(dv(n,s,t,e),nr(s,2),Vt(s));break}}t=t.return}}function ac(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Hx;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(n)||(Zf=!0,i.add(n),e=Kx.bind(null,e,t,n),t.then(e,e))}function Kx(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ie===e&&(X&n)===n&&(pe===4||pe===3&&(X&62914560)===X&&300>Dt()-Wf?!(J&2)&&Si(e,0):Jf|=n,bi===X&&(bi=0)),Vt(e)}function Qv(e,t){t===0&&(t=Gg()),e=Oi(e,t),e!==null&&(nr(e,t),Vt(e))}function Fx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Qv(e,n)}function Qx(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(A(314))}s!==null&&s.delete(t),Qv(e,n)}function Ix(e,t){return yf(e,t)}var Rl=null,Vs=null,vu=!1,Dl=!1,rc=!1,ms=0;function Vt(e){e!==Vs&&e.next===null&&(Vs===null?Rl=Vs=e:Vs=Vs.next=e),Dl=!0,vu||(vu=!0,Jx())}function dr(e,t){if(!rc&&Dl){rc=!0;do for(var n=!1,s=Rl;s!==null;){if(e!==0){var i=s.pendingLanes;if(i===0)var a=0;else{var r=s.suspendedLanes,l=s.pingedLanes;a=(1<<31-st(42|e)+1)-1,a&=i&~(r&~l),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,om(s,a))}else a=X,a=Zl(s,s===ie?a:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(a&3)||tr(s,a)||(n=!0,om(s,a));s=s.next}while(n);rc=!1}}function Zx(){Iv()}function Iv(){Dl=vu=!1;var e=0;ms!==0&&(rw()&&(e=ms),ms=0);for(var t=Dt(),n=null,s=Rl;s!==null;){var i=s.next,a=Zv(s,t);a===0?(s.next=null,n===null?Rl=i:n.next=i,i===null&&(Vs=n)):(n=s,(e!==0||a&3)&&(Dl=!0)),s=i}dr(e)}function Zv(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var r=31-st(a),l=1<<r,o=i[r];o===-1?(!(l&n)||l&s)&&(i[r]=wS(l,t)):o<=t&&(e.expiredLanes|=l),a&=~l}if(t=ie,n=X,n=Zl(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(Z===2||Z===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Do(s),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||tr(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&Do(s),bf(n)){case 2:case 8:n=$g;break;case 32:n=hl;break;case 268435456:n=Hg;break;default:n=hl}return s=Jv.bind(null,e),n=yf(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&Do(s),e.callbackPriority=2,e.callbackNode=null,2}function Jv(e,t){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(co()&&e.callbackNode!==n)return null;var s=X;return s=Zl(e,e===ie?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Vv(e,s,t),Zv(e,Dt()),e.callbackNode!=null&&e.callbackNode===n?Jv.bind(null,e):null)}function om(e,t){if(co())return null;Vv(e,t,!0)}function Jx(){ow(function(){J&6?yf(zg,Zx):Iv()})}function td(){return ms===0&&(ms=qg()),ms}function cm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fr(""+e)}function um(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Wx(e,t,n,s,i){if(t==="submit"&&n&&n.stateNode===i){var a=cm((i[Ie]||null).action),r=s.submitter;r&&(t=(t=r[Ie]||null)?cm(t.formAction):r.getAttribute("formAction"),t!==null&&(a=t,r=null));var l=new Jl("action","action",null,s,i);e.push({event:l,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(ms!==0){var o=r?um(i,r):new FormData(i);lu(n,{pending:!0,data:o,method:i.method,action:a},null,o)}}else typeof a=="function"&&(l.preventDefault(),o=r?um(i,r):new FormData(i),lu(n,{pending:!0,data:o,method:i.method,action:a},a,o))},currentTarget:i}]})}}for(var lc=0;lc<Qc.length;lc++){var oc=Qc[lc],ew=oc.toLowerCase(),tw=oc[0].toUpperCase()+oc.slice(1);At(ew,"on"+tw)}At(hy,"onAnimationEnd");At(my,"onAnimationIteration");At(py,"onAnimationStart");At("dblclick","onDoubleClick");At("focusin","onFocus");At("focusout","onBlur");At(vx,"onTransitionRun");At(bx,"onTransitionStart");At(_x,"onTransitionCancel");At(gy,"onTransitionEnd");hi("onMouseEnter",["mouseout","mouseover"]);hi("onMouseLeave",["mouseout","mouseover"]);hi("onPointerEnter",["pointerout","pointerover"]);hi("onPointerLeave",["pointerout","pointerover"]);xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pa));function Wv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var r=s.length-1;0<=r;r--){var l=s[r],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==a&&i.isPropagationStopped())break e;a=l,i.currentTarget=c;try{a(i)}catch(u){jl(u)}i.currentTarget=null,a=o}else for(r=0;r<s.length;r++){if(l=s[r],o=l.instance,c=l.currentTarget,l=l.listener,o!==a&&i.isPropagationStopped())break e;a=l,i.currentTarget=c;try{a(i)}catch(u){jl(u)}i.currentTarget=null,a=o}}}}function q(e,t){var n=t[Hc];n===void 0&&(n=t[Hc]=new Set);var s=e+"__bubble";n.has(s)||(e0(t,e,2,!1),n.add(s))}function cc(e,t,n){var s=0;t&&(s|=4),e0(n,e,s,t)}var kr="_reactListening"+Math.random().toString(36).slice(2);function nd(e){if(!e[kr]){e[kr]=!0,Fg.forEach(function(n){n!=="selectionchange"&&(nw.has(n)||cc(n,!1,e),cc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kr]||(t[kr]=!0,cc("selectionchange",!1,t))}}function e0(e,t,n,s){switch(d0(t)){case 2:var i=Ow;break;case 8:i=Nw;break;default:i=rd}n=i.bind(null,t,n,e),i=void 0,!Xc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function uc(e,t,n,s,i){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var r=s.tag;if(r===3||r===4){var l=s.stateNode.containerInfo;if(l===i)break;if(r===4)for(r=s.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===i)return;r=r.return}for(;l!==null;){if(r=qs(l),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){s=a=r;continue e}l=l.parentNode}}s=s.return}ny(function(){var c=a,u=xf(n),f=[];e:{var d=yy.get(e);if(d!==void 0){var m=Jl,v=e;switch(e){case"keypress":if(Ir(n)===0)break e;case"keydown":case"keyup":m=IS;break;case"focusin":v="focus",m=zo;break;case"focusout":v="blur",m=zo;break;case"beforeblur":case"afterblur":m=zo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=yh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=VS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=WS;break;case hy:case my:case py:m=$S;break;case gy:m=tx;break;case"scroll":case"scrollend":m=PS;break;case"wheel":m=sx;break;case"copy":case"cut":case"paste":m=qS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=bh;break;case"toggle":case"beforetoggle":m=ax}var b=(t&4)!==0,S=!b&&(e==="scroll"||e==="scrollend"),p=b?d!==null?d+"Capture":null:d;b=[];for(var g=c,y;g!==null;){var _=g;if(y=_.stateNode,_=_.tag,_!==5&&_!==26&&_!==27||y===null||p===null||(_=Na(g,p),_!=null&&b.push(La(g,_,y))),S)break;g=g.return}0<b.length&&(d=new m(d,v,null,n,u),f.push({event:d,listeners:b}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",d&&n!==Yc&&(v=n.relatedTarget||n.fromElement)&&(qs(v)||v[Ai]))break e;if((m||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?qs(v):null,v!==null&&(S=Wa(v),b=v.tag,v!==S||b!==5&&b!==27&&b!==6)&&(v=null)):(m=null,v=c),m!==v)){if(b=yh,_="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(b=bh,_="onPointerLeave",p="onPointerEnter",g="pointer"),S=m==null?d:ta(m),y=v==null?d:ta(v),d=new b(_,g+"leave",m,n,u),d.target=S,d.relatedTarget=y,_=null,qs(u)===c&&(b=new b(p,g+"enter",v,n,u),b.target=y,b.relatedTarget=S,_=b),S=_,m&&v)t:{for(b=m,p=v,g=0,y=b;y;y=Os(y))g++;for(y=0,_=p;_;_=Os(_))y++;for(;0<g-y;)b=Os(b),g--;for(;0<y-g;)p=Os(p),y--;for(;g--;){if(b===p||p!==null&&b===p.alternate)break t;b=Os(b),p=Os(p)}b=null}else b=null;m!==null&&fm(f,d,m,b,!1),v!==null&&S!==null&&fm(f,S,v,b,!0)}}e:{if(d=c?ta(c):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var w=wh;else if(xh(d))if(oy)w=px;else{w=hx;var E=dx}else m=d.nodeName,!m||m.toLowerCase()!=="input"||d.type!=="checkbox"&&d.type!=="radio"?c&&Sf(c.elementType)&&(w=wh):w=mx;if(w&&(w=w(e,c))){ly(f,w,n,u);break e}E&&E(e,d,c),e==="focusout"&&c&&d.type==="number"&&c.memoizedProps.value!=null&&Gc(d,"number",d.value)}switch(E=c?ta(c):window,e){case"focusin":(xh(E)||E.contentEditable==="true")&&(Xs=E,Kc=c,ca=null);break;case"focusout":ca=Kc=Xs=null;break;case"mousedown":Fc=!0;break;case"contextmenu":case"mouseup":case"dragend":Fc=!1,Ch(f,n,u);break;case"selectionchange":if(yx)break;case"keydown":case"keyup":Ch(f,n,u)}var x;if(jf)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Ys?ay(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(iy&&n.locale!=="ko"&&(Ys||j!=="onCompositionStart"?j==="onCompositionEnd"&&Ys&&(x=sy()):(wn=u,wf="value"in wn?wn.value:wn.textContent,Ys=!0)),E=Ml(c,j),0<E.length&&(j=new vh(j,e,null,n,u),f.push({event:j,listeners:E}),x?j.data=x:(x=ry(n),x!==null&&(j.data=x)))),(x=lx?ox(e,n):cx(e,n))&&(j=Ml(c,"onBeforeInput"),0<j.length&&(E=new vh("onBeforeInput","beforeinput",null,n,u),f.push({event:E,listeners:j}),E.data=x)),Wx(f,e,c,n,u)}Wv(f,t)})}function La(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ml(e,t){for(var n=t+"Capture",s=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Na(e,n),i!=null&&s.unshift(La(e,i,a)),i=Na(e,t),i!=null&&s.push(La(e,i,a))),e.tag===3)return s;e=e.return}return[]}function Os(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function fm(e,t,n,s,i){for(var a=t._reactName,r=[];n!==null&&n!==s;){var l=n,o=l.alternate,c=l.stateNode;if(l=l.tag,o!==null&&o===s)break;l!==5&&l!==26&&l!==27||c===null||(o=c,i?(c=Na(n,a),c!=null&&r.unshift(La(n,c,o))):i||(c=Na(n,a),c!=null&&r.push(La(n,c,o)))),n=n.return}r.length!==0&&e.push({event:t,listeners:r})}var sw=/\r\n?/g,iw=/\u0000|\uFFFD/g;function dm(e){return(typeof e=="string"?e:""+e).replace(sw,`
`).replace(iw,"")}function t0(e,t){return t=dm(t),dm(e)===t}function uo(){}function W(e,t,n,s,i,a){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||mi(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&mi(e,""+s);break;case"className":Ar(e,"class",s);break;case"tabIndex":Ar(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ar(e,n,s);break;case"style":ty(e,s,a);break;case"data":if(t!=="object"){Ar(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Fr(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&W(e,t,"name",i.name,i,null),W(e,t,"formEncType",i.formEncType,i,null),W(e,t,"formMethod",i.formMethod,i,null),W(e,t,"formTarget",i.formTarget,i,null)):(W(e,t,"encType",i.encType,i,null),W(e,t,"method",i.method,i,null),W(e,t,"target",i.target,i,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Fr(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=uo);break;case"onScroll":s!=null&&q("scroll",e);break;case"onScrollEnd":s!=null&&q("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(A(61));if(n=s.__html,n!=null){if(i.children!=null)throw Error(A(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=Fr(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":q("beforetoggle",e),q("toggle",e),Kr(e,"popover",s);break;case"xlinkActuate":Bt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Bt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Bt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Bt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Bt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Bt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Bt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Bt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Bt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Kr(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=kS.get(n)||n,Kr(e,n,s))}}function bu(e,t,n,s,i,a){switch(n){case"style":ty(e,s,a);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(A(61));if(n=s.__html,n!=null){if(i.children!=null)throw Error(A(60));e.innerHTML=n}}break;case"children":typeof s=="string"?mi(e,s):(typeof s=="number"||typeof s=="bigint")&&mi(e,""+s);break;case"onScroll":s!=null&&q("scroll",e);break;case"onScrollEnd":s!=null&&q("scrollend",e);break;case"onClick":s!=null&&(e.onclick=uo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qg.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),a=e[Ie]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,i),typeof s=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,i);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):Kr(e,n,s)}}}function Ue(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":q("error",e),q("load",e);var s=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var r=n[a];if(r!=null)switch(a){case"src":s=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(A(137,t));default:W(e,t,a,r,n,null)}}i&&W(e,t,"srcSet",n.srcSet,n,null),s&&W(e,t,"src",n.src,n,null);return;case"input":q("invalid",e);var l=a=r=i=null,o=null,c=null;for(s in n)if(n.hasOwnProperty(s)){var u=n[s];if(u!=null)switch(s){case"name":i=u;break;case"type":r=u;break;case"checked":o=u;break;case"defaultChecked":c=u;break;case"value":a=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(A(137,t));break;default:W(e,t,s,u,n,null)}}Jg(e,a,l,o,c,r,i,!1),ml(e);return;case"select":q("invalid",e),s=r=a=null;for(i in n)if(n.hasOwnProperty(i)&&(l=n[i],l!=null))switch(i){case"value":a=l;break;case"defaultValue":r=l;break;case"multiple":s=l;default:W(e,t,i,l,n,null)}t=a,n=r,e.multiple=!!s,t!=null?ai(e,!!s,t,!1):n!=null&&ai(e,!!s,n,!0);return;case"textarea":q("invalid",e),a=i=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":i=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(A(91));break;default:W(e,t,r,l,n,null)}ey(e,s,i,a),ml(e);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(s=n[o],s!=null))switch(o){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:W(e,t,o,s,n,null)}return;case"dialog":q("beforetoggle",e),q("toggle",e),q("cancel",e),q("close",e);break;case"iframe":case"object":q("load",e);break;case"video":case"audio":for(s=0;s<Pa.length;s++)q(Pa[s],e);break;case"image":q("error",e),q("load",e);break;case"details":q("toggle",e);break;case"embed":case"source":case"link":q("error",e),q("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(s=n[c],s!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(A(137,t));default:W(e,t,c,s,n,null)}return;default:if(Sf(t)){for(u in n)n.hasOwnProperty(u)&&(s=n[u],s!==void 0&&bu(e,t,u,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(s=n[l],s!=null&&W(e,t,l,s,n,null))}function aw(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,r=null,l=null,o=null,c=null,u=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":o=f;default:s.hasOwnProperty(m)||W(e,t,m,null,s,f)}}for(var d in s){var m=s[d];if(f=n[d],s.hasOwnProperty(d)&&(m!=null||f!=null))switch(d){case"type":a=m;break;case"name":i=m;break;case"checked":c=m;break;case"defaultChecked":u=m;break;case"value":r=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(A(137,t));break;default:m!==f&&W(e,t,d,m,s,f)}}qc(e,r,l,o,c,u,a,i);return;case"select":m=r=l=d=null;for(a in n)if(o=n[a],n.hasOwnProperty(a)&&o!=null)switch(a){case"value":break;case"multiple":m=o;default:s.hasOwnProperty(a)||W(e,t,a,null,s,o)}for(i in s)if(a=s[i],o=n[i],s.hasOwnProperty(i)&&(a!=null||o!=null))switch(i){case"value":d=a;break;case"defaultValue":l=a;break;case"multiple":r=a;default:a!==o&&W(e,t,i,a,s,o)}t=l,n=r,s=m,d!=null?ai(e,!!n,d,!1):!!s!=!!n&&(t!=null?ai(e,!!n,t,!0):ai(e,!!n,n?[]:"",!1));return;case"textarea":m=d=null;for(l in n)if(i=n[l],n.hasOwnProperty(l)&&i!=null&&!s.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:W(e,t,l,null,s,i)}for(r in s)if(i=s[r],a=n[r],s.hasOwnProperty(r)&&(i!=null||a!=null))switch(r){case"value":d=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(A(91));break;default:i!==a&&W(e,t,r,i,s,a)}Wg(e,d,m);return;case"option":for(var v in n)if(d=n[v],n.hasOwnProperty(v)&&d!=null&&!s.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:W(e,t,v,null,s,d)}for(o in s)if(d=s[o],m=n[o],s.hasOwnProperty(o)&&d!==m&&(d!=null||m!=null))switch(o){case"selected":e.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:W(e,t,o,d,s,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)d=n[b],n.hasOwnProperty(b)&&d!=null&&!s.hasOwnProperty(b)&&W(e,t,b,null,s,d);for(c in s)if(d=s[c],m=n[c],s.hasOwnProperty(c)&&d!==m&&(d!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(A(137,t));break;default:W(e,t,c,d,s,m)}return;default:if(Sf(t)){for(var S in n)d=n[S],n.hasOwnProperty(S)&&d!==void 0&&!s.hasOwnProperty(S)&&bu(e,t,S,void 0,s,d);for(u in s)d=s[u],m=n[u],!s.hasOwnProperty(u)||d===m||d===void 0&&m===void 0||bu(e,t,u,d,s,m);return}}for(var p in n)d=n[p],n.hasOwnProperty(p)&&d!=null&&!s.hasOwnProperty(p)&&W(e,t,p,null,s,d);for(f in s)d=s[f],m=n[f],!s.hasOwnProperty(f)||d===m||d==null&&m==null||W(e,t,f,d,s,m)}var _u=null,Su=null;function kl(e){return e.nodeType===9?e:e.ownerDocument}function hm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function xu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fc=null;function rw(){var e=window.event;return e&&e.type==="popstate"?e===fc?!1:(fc=e,!0):(fc=null,!1)}var s0=typeof setTimeout=="function"?setTimeout:void 0,lw=typeof clearTimeout=="function"?clearTimeout:void 0,mm=typeof Promise=="function"?Promise:void 0,ow=typeof queueMicrotask=="function"?queueMicrotask:typeof mm<"u"?function(e){return mm.resolve(null).then(e).catch(cw)}:s0;function cw(e){setTimeout(function(){throw e})}function Hn(e){return e==="head"}function pm(e,t){var n=t,s=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<s&&8>s){n=s;var r=e.ownerDocument;if(n&1&&_a(r.documentElement),n&2&&_a(r.body),n&4)for(n=r.head,_a(n),r=n.firstChild;r;){var l=r.nextSibling,o=r.nodeName;r[sr]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=l}}if(i===0){e.removeChild(a),Ha(t);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:s=n.charCodeAt(0)-48;else s=0;n=a}while(n);Ha(t)}function wu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":wu(n),_f(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function uw(e,t,n,s){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[sr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=Et(e.nextSibling),e===null)break}return null}function fw(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Et(e.nextSibling),e===null))return null;return e}function Tu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function dw(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Et(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var ju=null;function gm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function i0(e,t,n){switch(t=kl(n),e){case"html":if(e=t.documentElement,!e)throw Error(A(452));return e;case"head":if(e=t.head,!e)throw Error(A(453));return e;case"body":if(e=t.body,!e)throw Error(A(454));return e;default:throw Error(A(451))}}function _a(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);_f(e)}var St=new Map,ym=new Set;function Ul(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var rn=Q.d;Q.d={f:hw,r:mw,D:pw,C:gw,L:yw,m:vw,X:_w,S:bw,M:Sw};function hw(){var e=rn.f(),t=lo();return e||t}function mw(e){var t=Ci(e);t!==null&&t.tag===5&&t.type==="form"?Zy(t):rn.r(e)}var Ri=typeof document>"u"?null:document;function a0(e,t,n){var s=Ri;if(s&&typeof t=="string"&&t){var i=pt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),ym.has(i)||(ym.add(i),e={rel:e,crossOrigin:n,href:t},s.querySelector(i)===null&&(t=s.createElement("link"),Ue(t,"link",e),Oe(t),s.head.appendChild(t)))}}function pw(e){rn.D(e),a0("dns-prefetch",e,null)}function gw(e,t){rn.C(e,t),a0("preconnect",e,t)}function yw(e,t,n){rn.L(e,t,n);var s=Ri;if(s&&e&&t){var i='link[rel="preload"][as="'+pt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+pt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+pt(n.imageSizes)+'"]')):i+='[href="'+pt(e)+'"]';var a=i;switch(t){case"style":a=xi(e);break;case"script":a=Di(e)}St.has(a)||(e=ae({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),St.set(a,e),s.querySelector(i)!==null||t==="style"&&s.querySelector(hr(a))||t==="script"&&s.querySelector(mr(a))||(t=s.createElement("link"),Ue(t,"link",e),Oe(t),s.head.appendChild(t)))}}function vw(e,t){rn.m(e,t);var n=Ri;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+pt(s)+'"][href="'+pt(e)+'"]',a=i;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Di(e)}if(!St.has(a)&&(e=ae({rel:"modulepreload",href:e},t),St.set(a,e),n.querySelector(i)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(mr(a)))return}s=n.createElement("link"),Ue(s,"link",e),Oe(s),n.head.appendChild(s)}}}function bw(e,t,n){rn.S(e,t,n);var s=Ri;if(s&&e){var i=ii(s).hoistableStyles,a=xi(e);t=t||"default";var r=i.get(a);if(!r){var l={loading:0,preload:null};if(r=s.querySelector(hr(a)))l.loading=5;else{e=ae({rel:"stylesheet",href:e,"data-precedence":t},n),(n=St.get(a))&&sd(e,n);var o=r=s.createElement("link");Oe(o),Ue(o,"link",e),o._p=new Promise(function(c,u){o.onload=c,o.onerror=u}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,sl(r,t,s)}r={type:"stylesheet",instance:r,count:1,state:l},i.set(a,r)}}}function _w(e,t){rn.X(e,t);var n=Ri;if(n&&e){var s=ii(n).hoistableScripts,i=Di(e),a=s.get(i);a||(a=n.querySelector(mr(i)),a||(e=ae({src:e,async:!0},t),(t=St.get(i))&&id(e,t),a=n.createElement("script"),Oe(a),Ue(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},s.set(i,a))}}function Sw(e,t){rn.M(e,t);var n=Ri;if(n&&e){var s=ii(n).hoistableScripts,i=Di(e),a=s.get(i);a||(a=n.querySelector(mr(i)),a||(e=ae({src:e,async:!0,type:"module"},t),(t=St.get(i))&&id(e,t),a=n.createElement("script"),Oe(a),Ue(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},s.set(i,a))}}function vm(e,t,n,s){var i=(i=An.current)?Ul(i):null;if(!i)throw Error(A(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=xi(n.href),n=ii(i).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=xi(n.href);var a=ii(i).hoistableStyles,r=a.get(e);if(r||(i=i.ownerDocument||i,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,r),(a=i.querySelector(hr(e)))&&!a._p&&(r.instance=a,r.state.loading=5),St.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},St.set(e,n),a||xw(i,e,n,r.state))),t&&s===null)throw Error(A(528,""));return r}if(t&&s!==null)throw Error(A(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Di(n),n=ii(i).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(A(444,e))}}function xi(e){return'href="'+pt(e)+'"'}function hr(e){return'link[rel="stylesheet"]['+e+"]"}function r0(e){return ae({},e,{"data-precedence":e.precedence,precedence:null})}function xw(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Ue(t,"link",n),Oe(t),e.head.appendChild(t))}function Di(e){return'[src="'+pt(e)+'"]'}function mr(e){return"script[async]"+e}function bm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+pt(n.href)+'"]');if(s)return t.instance=s,Oe(s),s;var i=ae({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Oe(s),Ue(s,"style",i),sl(s,n.precedence,e),t.instance=s;case"stylesheet":i=xi(n.href);var a=e.querySelector(hr(i));if(a)return t.state.loading|=4,t.instance=a,Oe(a),a;s=r0(n),(i=St.get(i))&&sd(s,i),a=(e.ownerDocument||e).createElement("link"),Oe(a);var r=a;return r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Ue(a,"link",s),t.state.loading|=4,sl(a,n.precedence,e),t.instance=a;case"script":return a=Di(n.src),(i=e.querySelector(mr(a)))?(t.instance=i,Oe(i),i):(s=n,(i=St.get(a))&&(s=ae({},n),id(s,i)),e=e.ownerDocument||e,i=e.createElement("script"),Oe(i),Ue(i,"link",s),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(A(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(s=t.instance,t.state.loading|=4,sl(s,n.precedence,e));return t.instance}function sl(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=s.length?s[s.length-1]:null,a=i,r=0;r<s.length;r++){var l=s[r];if(l.dataset.precedence===t)a=l;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function sd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function id(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var il=null;function _m(e,t,n){if(il===null){var s=new Map,i=il=new Map;i.set(n,s)}else i=il,s=i.get(n),s||(s=new Map,i.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[sr]||a[Le]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var r=a.getAttribute(t)||"";r=e+r;var l=s.get(r);l?l.push(a):s.set(r,[a])}}return s}function Sm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function ww(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function l0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Va=null;function Tw(){}function jw(e,t,n){if(Va===null)throw Error(A(475));var s=Va;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var i=xi(n.href),a=e.querySelector(hr(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=Pl.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=a,Oe(a);return}a=e.ownerDocument||e,n=r0(n),(i=St.get(i))&&sd(n,i),a=a.createElement("link"),Oe(a);var r=a;r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Ue(a,"link",n),t.instance=a}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(s.count++,t=Pl.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function Ew(){if(Va===null)throw Error(A(475));var e=Va;return e.stylesheets&&e.count===0&&Eu(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Eu(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Pl(){if(this.count--,this.count===0){if(this.stylesheets)Eu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ll=null;function Eu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ll=new Map,t.forEach(Aw,e),Ll=null,Pl.call(e))}function Aw(e,t){if(!(t.state.loading&4)){var n=Ll.get(e);if(n)var s=n.get(null);else{n=new Map,Ll.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var r=i[a];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),s=r)}s&&n.set(null,s)}i=t.instance,r=i.getAttribute("data-precedence"),a=n.get(r)||s,a===s&&n.set(null,i),n.set(r,i),this.count++,s=Pl.bind(this),i.addEventListener("load",s),i.addEventListener("error",s),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Ba={$$typeof:Xt,Provider:null,Consumer:null,_currentValue:os,_currentValue2:os,_threadCount:0};function Cw(e,t,n,s,i,a,r,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mo(0),this.hiddenUpdates=Mo(null),this.identifierPrefix=s,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function o0(e,t,n,s,i,a,r,l,o,c,u,f){return e=new Cw(e,t,n,r,l,o,c,f),t=1,a===!0&&(t|=24),a=tt(3,null,null,t),e.current=a,a.stateNode=e,t=Df(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:s,isDehydrated:n,cache:t},kf(a),e}function c0(e){return e?(e=Qs,e):Qs}function u0(e,t,n,s,i,a){i=c0(i),s.context===null?s.context=i:s.pendingContext=i,s=Cn(t),s.payload={element:n},a=a===void 0?null:a,a!==null&&(s.callback=a),n=On(e,s,t),n!==null&&(at(n,e,t),da(n,e,t))}function xm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ad(e,t){xm(e,t),(e=e.alternate)&&xm(e,t)}function f0(e){if(e.tag===13){var t=Oi(e,67108864);t!==null&&at(t,e,67108864),ad(e,67108864)}}var Vl=!0;function Ow(e,t,n,s){var i=U.T;U.T=null;var a=Q.p;try{Q.p=2,rd(e,t,n,s)}finally{Q.p=a,U.T=i}}function Nw(e,t,n,s){var i=U.T;U.T=null;var a=Q.p;try{Q.p=8,rd(e,t,n,s)}finally{Q.p=a,U.T=i}}function rd(e,t,n,s){if(Vl){var i=Au(s);if(i===null)uc(e,t,s,Bl,n),wm(e,s);else if(Dw(i,e,t,n,s))s.stopPropagation();else if(wm(e,s),t&4&&-1<Rw.indexOf(e)){for(;i!==null;){var a=Ci(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var r=Wn(a.pendingLanes);if(r!==0){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var o=1<<31-st(r);l.entanglements[1]|=o,r&=~o}Vt(a),!(J&6)&&(Ol=Dt()+500,dr(0))}}break;case 13:l=Oi(a,2),l!==null&&at(l,a,2),lo(),ad(a,2)}if(a=Au(s),a===null&&uc(e,t,s,Bl,n),a===i)break;i=a}i!==null&&s.stopPropagation()}else uc(e,t,s,null,n)}}function Au(e){return e=xf(e),ld(e)}var Bl=null;function ld(e){if(Bl=null,e=qs(e),e!==null){var t=Wa(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Pg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Bl=e,null}function d0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gS()){case zg:return 2;case $g:return 8;case hl:case yS:return 32;case Hg:return 268435456;default:return 32}default:return 32}}var Cu=!1,Dn=null,Mn=null,kn=null,za=new Map,$a=new Map,_n=[],Rw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wm(e,t){switch(e){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":za.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$a.delete(t.pointerId)}}function Qi(e,t,n,s,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Ci(t),t!==null&&f0(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Dw(e,t,n,s,i){switch(t){case"focusin":return Dn=Qi(Dn,e,t,n,s,i),!0;case"dragenter":return Mn=Qi(Mn,e,t,n,s,i),!0;case"mouseover":return kn=Qi(kn,e,t,n,s,i),!0;case"pointerover":var a=i.pointerId;return za.set(a,Qi(za.get(a)||null,e,t,n,s,i)),!0;case"gotpointercapture":return a=i.pointerId,$a.set(a,Qi($a.get(a)||null,e,t,n,s,i)),!0}return!1}function h0(e){var t=qs(e.target);if(t!==null){var n=Wa(t);if(n!==null){if(t=n.tag,t===13){if(t=Pg(n),t!==null){e.blockedOn=t,jS(e.priority,function(){if(n.tag===13){var s=it();s=vf(s);var i=Oi(n,s);i!==null&&at(i,n,s),ad(n,s)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function al(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Au(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Yc=s,n.target.dispatchEvent(s),Yc=null}else return t=Ci(n),t!==null&&f0(t),e.blockedOn=n,!1;t.shift()}return!0}function Tm(e,t,n){al(e)&&n.delete(t)}function Mw(){Cu=!1,Dn!==null&&al(Dn)&&(Dn=null),Mn!==null&&al(Mn)&&(Mn=null),kn!==null&&al(kn)&&(kn=null),za.forEach(Tm),$a.forEach(Tm)}function Ur(e,t){e.blockedOn===t&&(e.blockedOn=null,Cu||(Cu=!0,je.unstable_scheduleCallback(je.unstable_NormalPriority,Mw)))}var Pr=null;function jm(e){Pr!==e&&(Pr=e,je.unstable_scheduleCallback(je.unstable_NormalPriority,function(){Pr===e&&(Pr=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],i=e[t+2];if(typeof s!="function"){if(ld(s||n)===null)continue;break}var a=Ci(n);a!==null&&(e.splice(t,3),t-=3,lu(a,{pending:!0,data:i,method:n.method,action:s},s,i))}}))}function Ha(e){function t(o){return Ur(o,e)}Dn!==null&&Ur(Dn,e),Mn!==null&&Ur(Mn,e),kn!==null&&Ur(kn,e),za.forEach(t),$a.forEach(t);for(var n=0;n<_n.length;n++){var s=_n[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<_n.length&&(n=_n[0],n.blockedOn===null);)h0(n),n.blockedOn===null&&_n.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var i=n[s],a=n[s+1],r=i[Ie]||null;if(typeof a=="function")r||jm(n);else if(r){var l=null;if(a&&a.hasAttribute("formAction")){if(i=a,r=a[Ie]||null)l=r.formAction;else if(ld(i)!==null)continue}else l=r.action;typeof l=="function"?n[s+1]=l:(n.splice(s,3),s-=3),jm(n)}}}function od(e){this._internalRoot=e}fo.prototype.render=od.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));var n=t.current,s=it();u0(n,s,e,t,null,null)};fo.prototype.unmount=od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;u0(e.current,2,null,e,null,null),lo(),t[Ai]=null}};function fo(e){this._internalRoot=e}fo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_n.length&&t!==0&&t<_n[n].priority;n++);_n.splice(n,0,e),n===0&&h0(e)}};var Em=kg.version;if(Em!=="19.1.0")throw Error(A(527,Em,"19.1.0"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=cS(t),e=e!==null?Lg(e):null,e=e===null?null:e.stateNode,e};var kw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lr.isDisabled&&Lr.supportsFiber)try{er=Lr.inject(kw),nt=Lr}catch{}}Ql.createRoot=function(e,t){if(!Ug(e))throw Error(A(299));var n=!1,s="",i=ov,a=cv,r=uv,l=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=o0(e,1,!1,null,null,n,s,i,a,r,l,null),e[Ai]=t.current,nd(e),new od(t)};Ql.hydrateRoot=function(e,t,n){if(!Ug(e))throw Error(A(299));var s=!1,i="",a=ov,r=cv,l=uv,o=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(o=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),t=o0(e,1,!0,t,n??null,s,i,a,r,l,o,c),t.context=c0(null),n=t.current,s=it(),s=vf(s),i=Cn(s),i.callback=null,On(n,i,s),n=s,t.current.lanes=n,nr(t,n),Vt(t),e[Ai]=t.current,nd(e),new fo(t)};Ql.version="19.1.0";function m0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m0)}catch(e){console.error(e)}}m0(),Cg.exports=Ql;var Uw=Cg.exports;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qa(){return qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},qa.apply(this,arguments)}var En;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(En||(En={}));const Am="popstate";function Pw(e){e===void 0&&(e={});function t(s,i){let{pathname:a,search:r,hash:l}=s.location;return Ou("",{pathname:a,search:r,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:g0(i)}return Vw(t,n,null,e)}function xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function p0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Lw(){return Math.random().toString(36).substr(2,8)}function Cm(e,t){return{usr:e.state,key:e.key,idx:t}}function Ou(e,t,n,s){return n===void 0&&(n=null),qa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Mi(t):t,{state:n,key:t&&t.key||s||Lw()})}function g0(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Mi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Vw(e,t,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,r=i.history,l=En.Pop,o=null,c=u();c==null&&(c=0,r.replaceState(qa({},r.state,{idx:c}),""));function u(){return(r.state||{idx:null}).idx}function f(){l=En.Pop;let S=u(),p=S==null?null:S-c;c=S,o&&o({action:l,location:b.location,delta:p})}function d(S,p){l=En.Push;let g=Ou(b.location,S,p);c=u()+1;let y=Cm(g,c),_=b.createHref(g);try{r.pushState(y,"",_)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(_)}a&&o&&o({action:l,location:b.location,delta:1})}function m(S,p){l=En.Replace;let g=Ou(b.location,S,p);c=u();let y=Cm(g,c),_=b.createHref(g);r.replaceState(y,"",_),a&&o&&o({action:l,location:b.location,delta:0})}function v(S){let p=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof S=="string"?S:g0(S);return g=g.replace(/ $/,"%20"),xe(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let b={get action(){return l},get location(){return e(i,r)},listen(S){if(o)throw new Error("A history only accepts one active listener");return i.addEventListener(Am,f),o=S,()=>{i.removeEventListener(Am,f),o=null}},createHref(S){return t(i,S)},createURL:v,encodeLocation(S){let p=v(S);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:m,go(S){return r.go(S)}};return b}var Om;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Om||(Om={}));function Bw(e,t,n){return n===void 0&&(n="/"),zw(e,t,n)}function zw(e,t,n,s){let i=typeof t=="string"?Mi(t):t,a=b0(i.pathname||"/",n);if(a==null)return null;let r=y0(e);$w(r);let l=null;for(let o=0;l==null&&o<r.length;++o){let c=Ww(a);l=Iw(r[o],c)}return l}function y0(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(a,r,l)=>{let o={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:r,route:a};o.relativePath.startsWith("/")&&(xe(o.relativePath.startsWith(s),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(s.length));let c=ps([s,o.relativePath]),u=n.concat(o);a.children&&a.children.length>0&&(xe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),y0(a.children,t,u,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:Fw(c,a.index),routesMeta:u})};return e.forEach((a,r)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,r);else for(let o of v0(a.path))i(a,r,o)}),t}function v0(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let r=v0(s.join("/")),l=[];return l.push(...r.map(o=>o===""?a:[a,o].join("/"))),i&&l.push(...r),l.map(o=>e.startsWith("/")&&o===""?"/":o)}function $w(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Qw(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Hw=/^:[\w-]+$/,qw=3,Gw=2,Yw=1,Xw=10,Kw=-2,Nm=e=>e==="*";function Fw(e,t){let n=e.split("/"),s=n.length;return n.some(Nm)&&(s+=Kw),t&&(s+=Gw),n.filter(i=>!Nm(i)).reduce((i,a)=>i+(Hw.test(a)?qw:a===""?Yw:Xw),s)}function Qw(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function Iw(e,t,n){let{routesMeta:s}=e,i={},a="/",r=[];for(let l=0;l<s.length;++l){let o=s[l],c=l===s.length-1,u=a==="/"?t:t.slice(a.length)||"/",f=Zw({path:o.relativePath,caseSensitive:o.caseSensitive,end:c},u),d=o.route;if(!f)return null;Object.assign(i,f.params),r.push({params:i,pathname:ps([a,f.pathname]),pathnameBase:sT(ps([a,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(a=ps([a,f.pathnameBase]))}return r}function Zw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Jw(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],r=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((c,u,f)=>{let{paramName:d,isOptional:m}=u;if(d==="*"){let b=l[f]||"";r=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const v=l[f];return m&&!v?c[d]=void 0:c[d]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:r,pattern:e}}function Jw(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),p0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,l,o)=>(s.push({paramName:l,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function Ww(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return p0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function b0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function eT(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:i=""}=typeof e=="string"?Mi(e):e;return{pathname:n?n.startsWith("/")?n:tT(n,t):t,search:iT(s),hash:aT(i)}}function tT(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function dc(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nT(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _0(e,t){let n=nT(e);return t?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function S0(e,t,n,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=Mi(e):(i=qa({},e),xe(!i.pathname||!i.pathname.includes("?"),dc("?","pathname","search",i)),xe(!i.pathname||!i.pathname.includes("#"),dc("#","pathname","hash",i)),xe(!i.search||!i.search.includes("#"),dc("#","search","hash",i)));let a=e===""||i.pathname==="",r=a?"/":i.pathname,l;if(r==null)l=n;else{let f=t.length-1;if(!s&&r.startsWith("..")){let d=r.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}l=f>=0?t[f]:"/"}let o=eT(i,l),c=r&&r!=="/"&&r.endsWith("/"),u=(a||r===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(c||u)&&(o.pathname+="/"),o}const ps=e=>e.join("/").replace(/\/\/+/g,"/"),sT=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iT=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,aT=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const x0=["post","put","patch","delete"];new Set(x0);const lT=["get",...x0];new Set(lT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ga(){return Ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ga.apply(this,arguments)}const cd=T.createContext(null),oT=T.createContext(null),pr=T.createContext(null),ho=T.createContext(null),qn=T.createContext({outlet:null,matches:[],isDataRoute:!1}),w0=T.createContext(null);function gr(){return T.useContext(ho)!=null}function ud(){return gr()||xe(!1),T.useContext(ho).location}function T0(e){T.useContext(pr).static||T.useLayoutEffect(e)}function mo(){let{isDataRoute:e}=T.useContext(qn);return e?xT():cT()}function cT(){gr()||xe(!1);let e=T.useContext(cd),{basename:t,future:n,navigator:s}=T.useContext(pr),{matches:i}=T.useContext(qn),{pathname:a}=ud(),r=JSON.stringify(_0(i,n.v7_relativeSplatPath)),l=T.useRef(!1);return T0(()=>{l.current=!0}),T.useCallback(function(c,u){if(u===void 0&&(u={}),!l.current)return;if(typeof c=="number"){s.go(c);return}let f=S0(c,JSON.parse(r),a,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ps([t,f.pathname])),(u.replace?s.replace:s.push)(f,u.state,u)},[t,s,r,a,e])}function uT(){let{matches:e}=T.useContext(qn),t=e[e.length-1];return t?t.params:{}}function fT(e,t){return dT(e,t)}function dT(e,t,n,s){gr()||xe(!1);let{navigator:i}=T.useContext(pr),{matches:a}=T.useContext(qn),r=a[a.length-1],l=r?r.params:{};r&&r.pathname;let o=r?r.pathnameBase:"/";r&&r.route;let c=ud(),u;if(t){var f;let S=typeof t=="string"?Mi(t):t;o==="/"||(f=S.pathname)!=null&&f.startsWith(o)||xe(!1),u=S}else u=c;let d=u.pathname||"/",m=d;if(o!=="/"){let S=o.replace(/^\//,"").split("/");m="/"+d.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=Bw(e,{pathname:m}),b=yT(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},l,S.params),pathname:ps([o,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?o:ps([o,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,n,s);return t&&b?T.createElement(ho.Provider,{value:{location:Ga({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:En.Pop}},b):b}function hT(){let e=ST(),t=rT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:i},n):null,null)}const mT=T.createElement(hT,null);class pT extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?T.createElement(qn.Provider,{value:this.props.routeContext},T.createElement(w0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gT(e){let{routeContext:t,match:n,children:s}=e,i=T.useContext(cd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(qn.Provider,{value:t},s)}function yT(e,t,n,s){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let u=r.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||xe(!1),r=r.slice(0,Math.min(r.length,u+1))}let o=!1,c=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<r.length;u++){let f=r[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:d,errors:m}=n,v=f.route.loader&&d[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){o=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((u,f,d)=>{let m,v=!1,b=null,S=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,b=f.route.errorElement||mT,o&&(c<0&&d===0?(wT("route-fallback"),v=!0,S=null):c===d&&(v=!0,S=f.route.hydrateFallbackElement||null)));let p=t.concat(r.slice(0,d+1)),g=()=>{let y;return m?y=b:v?y=S:f.route.Component?y=T.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=u,T.createElement(gT,{match:f,routeContext:{outlet:u,matches:p,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?T.createElement(pT,{location:n.location,revalidation:n.revalidation,component:b,error:m,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var j0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(j0||{}),E0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(E0||{});function vT(e){let t=T.useContext(cd);return t||xe(!1),t}function bT(e){let t=T.useContext(oT);return t||xe(!1),t}function _T(e){let t=T.useContext(qn);return t||xe(!1),t}function A0(e){let t=_T(),n=t.matches[t.matches.length-1];return n.route.id||xe(!1),n.route.id}function ST(){var e;let t=T.useContext(w0),n=bT(),s=A0();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function xT(){let{router:e}=vT(j0.UseNavigateStable),t=A0(E0.UseNavigateStable),n=T.useRef(!1);return T0(()=>{n.current=!0}),T.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ga({fromRouteId:t},a)))},[e,t])}const Rm={};function wT(e,t,n){Rm[e]||(Rm[e]=!0)}function TT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Vr(e){let{to:t,replace:n,state:s,relative:i}=e;gr()||xe(!1);let{future:a,static:r}=T.useContext(pr),{matches:l}=T.useContext(qn),{pathname:o}=ud(),c=mo(),u=S0(t,_0(l,a.v7_relativeSplatPath),o,i==="path"),f=JSON.stringify(u);return T.useEffect(()=>c(JSON.parse(f),{replace:n,state:s,relative:i}),[c,f,i,n,s]),null}function sa(e){xe(!1)}function jT(e){let{basename:t="/",children:n=null,location:s,navigationType:i=En.Pop,navigator:a,static:r=!1,future:l}=e;gr()&&xe(!1);let o=t.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:o,navigator:a,static:r,future:Ga({v7_relativeSplatPath:!1},l)}),[o,l,a,r]);typeof s=="string"&&(s=Mi(s));let{pathname:u="/",search:f="",hash:d="",state:m=null,key:v="default"}=s,b=T.useMemo(()=>{let S=b0(u,o);return S==null?null:{location:{pathname:S,search:f,hash:d,state:m,key:v},navigationType:i}},[o,u,f,d,m,v,i]);return b==null?null:T.createElement(pr.Provider,{value:c},T.createElement(ho.Provider,{children:n,value:b}))}function ET(e){let{children:t,location:n}=e;return fT(Nu(t),n)}new Promise(()=>{});function Nu(e,t){t===void 0&&(t=[]);let n=[];return T.Children.forEach(e,(s,i)=>{if(!T.isValidElement(s))return;let a=[...t,i];if(s.type===T.Fragment){n.push.apply(n,Nu(s.props.children,a));return}s.type!==sa&&xe(!1),!s.props.index||!s.props.children||xe(!1);let r={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(r.children=Nu(s.props.children,a)),n.push(r)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const AT="6";try{window.__reactRouterVersion=AT}catch{}const CT="startTransition",Dm=nS[CT];function OT(e){let{basename:t,children:n,future:s,window:i}=e,a=T.useRef();a.current==null&&(a.current=Pw({window:i,v5Compat:!0}));let r=a.current,[l,o]=T.useState({action:r.action,location:r.location}),{v7_startTransition:c}=s||{},u=T.useCallback(f=>{c&&Dm?Dm(()=>o(f)):o(f)},[o,c]);return T.useLayoutEffect(()=>r.listen(u),[r,u]),T.useEffect(()=>TT(s),[s]),T.createElement(jT,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:r,future:s})}var Mm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Mm||(Mm={}));var km;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(km||(km={}));const NT="modulepreload",RT=function(e){return"/"+e},Um={},Es=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));i=Promise.allSettled(n.map(o=>{if(o=RT(o),o in Um)return;Um[o]=!0;const c=o.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":NT,c||(f.as="script"),f.crossOrigin="",f.href=o,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((d,m)=>{f.addEventListener("load",d),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return i.then(r=>{for(const l of r||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},DT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Es(async()=>{const{default:s}=await Promise.resolve().then(()=>ki);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class fd extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class MT extends fd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Pm extends fd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Lm extends fd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ru;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ru||(Ru={}));var kT=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(u){try{c(s.next(u))}catch(f){r(f)}}function o(u){try{c(s.throw(u))}catch(f){r(f)}}function c(u){u.done?a(u.value):i(u.value).then(l,o)}c((s=s.apply(e,t||[])).next())})};class UT{constructor(t,{headers:n={},customFetch:s,region:i=Ru.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=DT(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return kT(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:r}=n;let l={},{region:o}=n;o||(o=this.region);const c=new URL(`${this.url}/${t}`);o&&o!=="any"&&(l["x-region"]=o,c.searchParams.set("forceFunctionRegion",o));let u;r&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&r instanceof Blob||r instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=r):typeof r=="string"?(l["Content-Type"]="text/plain",u=r):typeof FormData<"u"&&r instanceof FormData?u=r:(l["Content-Type"]="application/json",u=JSON.stringify(r)));const f=yield this.fetch(c.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:u}).catch(b=>{throw new MT(b)}),d=f.headers.get("x-relay-error");if(d&&d==="true")throw new Pm(f);if(!f.ok)throw new Lm(f);let m=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),v;return m==="application/json"?v=yield f.json():m==="application/octet-stream"?v=yield f.blob():m==="text/event-stream"?v=f:m==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof Lm||i instanceof Pm?i.context:void 0}}})}}var Fe={},dd={},po={},yr={},go={},yo={},PT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},wi=PT();const LT=wi.fetch,C0=wi.fetch.bind(wi),O0=wi.Headers,VT=wi.Request,BT=wi.Response,ki=Object.freeze(Object.defineProperty({__proto__:null,Headers:O0,Request:VT,Response:BT,default:C0,fetch:LT},Symbol.toStringTag,{value:"Module"})),zT=L_(ki);var vo={};Object.defineProperty(vo,"__esModule",{value:!0});let $T=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};vo.default=$T;var N0=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yo,"__esModule",{value:!0});const HT=N0(zT),qT=N0(vo);let GT=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=HT.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let i=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var r,l,o;let c=null,u=null,f=null,d=a.status,m=a.statusText;if(a.ok){if(this.method!=="HEAD"){const p=await a.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=p:u=JSON.parse(p))}const b=(r=this.headers.Prefer)===null||r===void 0?void 0:r.match(/count=(exact|planned|estimated)/),S=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&S&&S.length>1&&(f=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,d=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const b=await a.text();try{c=JSON.parse(b),Array.isArray(c)&&a.status===404&&(u=[],c=null,d=200,m="OK")}catch{a.status===404&&b===""?(d=204,m="No Content"):c={message:b}}if(c&&this.isMaybeSingle&&(!((o=c==null?void 0:c.details)===null||o===void 0)&&o.includes("0 rows"))&&(c=null,d=200,m="OK"),c&&this.shouldThrowOnError)throw new qT.default(c)}return{error:c,data:u,count:f,status:d,statusText:m}});return this.shouldThrowOnError||(i=i.catch(a=>{var r,l,o;return{error:{message:`${(r=a==null?void 0:a.name)!==null&&r!==void 0?r:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(o=a==null?void 0:a.code)!==null&&o!==void 0?o:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};yo.default=GT;var YT=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(go,"__esModule",{value:!0});const XT=YT(yo);let KT=class extends XT.default{select(t){let n=!1;const s=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:i,referencedTable:a=i}={}){const r=a?`${a}.order`:"order",l=this.url.searchParams.get(r);return this.url.searchParams.set(r,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:i=s}={}){const a=typeof i>"u"?"offset":`${i}.offset`,r=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(r,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:i=!1,wal:a=!1,format:r="text"}={}){var l;const o=[t?"analyze":null,n?"verbose":null,s?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${r}; for="${c}"; options=${o};`,r==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};go.default=KT;var FT=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yr,"__esModule",{value:!0});const QT=FT(go);let IT=class extends QT.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const r=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${a}fts${r}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};yr.default=IT;var ZT=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(po,"__esModule",{value:!0});const Ii=ZT(yr);let JT=class{constructor(t,{headers:n={},schema:s,fetch:i}){this.url=t,this.headers=n,this.schema=s,this.fetch=i}select(t,{head:n=!1,count:s}={}){const i=n?"HEAD":"GET";let a=!1;const r=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",r),s&&(this.headers.Prefer=`count=${s}`),new Ii.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:s=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const r=t.reduce((l,o)=>l.concat(Object.keys(o)),[]);if(r.length>0){const l=[...new Set(r)].map(o=>`"${o}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ii.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:i,defaultToNull:a=!0}={}){const r="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const o=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(o.length>0){const c=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ii.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const s="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Ii.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Ii.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};po.default=JT;var bo={},_o={};Object.defineProperty(_o,"__esModule",{value:!0});_o.version=void 0;_o.version="0.0.0-automated";Object.defineProperty(bo,"__esModule",{value:!0});bo.DEFAULT_HEADERS=void 0;const WT=_o;bo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${WT.version}`};var R0=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dd,"__esModule",{value:!0});const e1=R0(po),t1=R0(yr),n1=bo;let s1=class D0{constructor(t,{headers:n={},schema:s,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},n1.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new e1.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new D0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:i=!1,count:a}={}){let r;const l=new URL(`${this.url}/rpc/${t}`);let o;s||i?(r=s?"HEAD":"GET",Object.entries(n).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{l.searchParams.append(u,f)})):(r="POST",o=n);const c=Object.assign({},this.headers);return a&&(c.Prefer=`count=${a}`),new t1.default({method:r,url:l,headers:c,schema:this.schemaName,body:o,fetch:this.fetch,allowEmpty:!1})}};dd.default=s1;var Ui=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.PostgrestError=Fe.PostgrestBuilder=Fe.PostgrestTransformBuilder=Fe.PostgrestFilterBuilder=Fe.PostgrestQueryBuilder=Fe.PostgrestClient=void 0;const M0=Ui(dd);Fe.PostgrestClient=M0.default;const k0=Ui(po);Fe.PostgrestQueryBuilder=k0.default;const U0=Ui(yr);Fe.PostgrestFilterBuilder=U0.default;const P0=Ui(go);Fe.PostgrestTransformBuilder=P0.default;const L0=Ui(yo);Fe.PostgrestBuilder=L0.default;const V0=Ui(vo);Fe.PostgrestError=V0.default;var i1=Fe.default={PostgrestClient:M0.default,PostgrestQueryBuilder:k0.default,PostgrestFilterBuilder:U0.default,PostgrestTransformBuilder:P0.default,PostgrestBuilder:L0.default,PostgrestError:V0.default};const{PostgrestClient:a1,PostgrestQueryBuilder:JN,PostgrestFilterBuilder:WN,PostgrestTransformBuilder:eR,PostgrestBuilder:tR,PostgrestError:nR}=i1;function r1(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const l1=r1(),o1="2.11.15",c1=`realtime-js/${o1}`,u1="1.0.0",B0=1e4,f1=1e3;var Sa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Sa||(Sa={}));var Pe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pe||(Pe={}));var jt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(jt||(jt={}));var Du;(function(e){e.websocket="websocket"})(Du||(Du={}));var as;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(as||(as={}));class d1{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const i=n.getUint8(1),a=n.getUint8(2);let r=this.HEADER_LENGTH+2;const l=s.decode(t.slice(r,r+i));r=r+i;const o=s.decode(t.slice(r,r+a));r=r+a;const c=JSON.parse(s.decode(t.slice(r,t.byteLength)));return{ref:null,topic:l,event:o,payload:c}}}class z0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var se;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(se||(se={}));const Vm=(e,t,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((a,r)=>(a[r]=h1(r,e,t,i),a),{})},h1=(e,t,n,s)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,r=n[e];return a&&!s.includes(a)?$0(a,r):Mu(r)},$0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return y1(t,n)}switch(e){case se.bool:return m1(t);case se.float4:case se.float8:case se.int2:case se.int4:case se.int8:case se.numeric:case se.oid:return p1(t);case se.json:case se.jsonb:return g1(t);case se.timestamp:return v1(t);case se.abstime:case se.date:case se.daterange:case se.int4range:case se.int8range:case se.money:case se.reltime:case se.text:case se.time:case se.timestamptz:case se.timetz:case se.tsrange:case se.tstzrange:return Mu(t);default:return Mu(t)}},Mu=e=>e,m1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},p1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},g1=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},y1=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let a;const r=e.slice(1,n);try{a=JSON.parse("["+r+"]")}catch{a=r?r.split(","):[]}return a.map(l=>$0(t,l))}return e},v1=e=>typeof e=="string"?e.replace(" ","T"):e,H0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class hc{constructor(t,n,s={},i=B0){this.channel=t,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Bm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Bm||(Bm={}));class xa{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:a,onLeave:r,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xa.syncState(this.state,i,a,r),this.pendingDiffs.forEach(o=>{this.state=xa.syncDiff(this.state,o,a,r)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},i=>{const{onJoin:a,onLeave:r,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=xa.syncDiff(this.state,i,a,r),l())}),this.onJoin((i,a,r)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:r})}),this.onLeave((i,a,r)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,i){const a=this.cloneDeep(t),r=this.transformState(n),l={},o={};return this.map(a,(c,u)=>{r[c]||(o[c]=u)}),this.map(r,(c,u)=>{const f=a[c];if(f){const d=u.map(S=>S.presence_ref),m=f.map(S=>S.presence_ref),v=u.filter(S=>m.indexOf(S.presence_ref)<0),b=f.filter(S=>d.indexOf(S.presence_ref)<0);v.length>0&&(l[c]=v),b.length>0&&(o[c]=b)}else l[c]=u}),this.syncDiff(a,{joins:l,leaves:o},s,i)}static syncDiff(t,n,s,i){const{joins:a,leaves:r}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(a,(l,o)=>{var c;const u=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(o),u.length>0){const f=t[l].map(m=>m.presence_ref),d=u.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...d)}s(l,u,o)}),this.map(r,(l,o)=>{let c=t[l];if(!c)return;const u=o.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[l]=c,i(l,c,o),c.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const i=t[s];return"metas"in i?n[s]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(zm||(zm={}));var $m;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})($m||($m={}));var qt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(qt||(qt={}));class hd{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=Pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new hc(this,jt.join,this.params,this.timeout),this.rejoinTimer=new z0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pe.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jt.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new xa(this),this.broadcastEndpointURL=H0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Pe.closed){const{config:{broadcast:a,presence:r,private:l}}=this.params;this._onError(u=>t==null?void 0:t(qt.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(qt.CLOSED));const o={},c={broadcast:a,presence:r,postgres_changes:(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(u=>u.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},o)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t(qt.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,m=(f=d==null?void 0:d.length)!==null&&f!==void 0?f:0,v=[];for(let b=0;b<m;b++){const S=d[b],{filter:{event:p,schema:g,table:y,filter:_}}=S,w=u&&u[b];if(w&&w.event===p&&w.schema===g&&w.table===y&&w.filter===_)v.push(Object.assign(Object.assign({},S),{id:w.id}));else{this.unsubscribe(),this.state=Pe.errored,t==null||t(qt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(qt.SUBSCRIBED);return}}).receive("error",u=>{this.state=Pe.errored,t==null||t(qt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(qt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this._on(t,n,s)}async send(t,n={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:r}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var r,l,o;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(l=(r=this.params)===null||r===void 0?void 0:r.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jt.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new hc(this,jt.leave,{},t),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,s){const i=new AbortController,a=setTimeout(()=>i.abort(),s),r=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),r}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new hc(this,t,n,s);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var i,a;const r=t.toLocaleLowerCase(),{close:l,error:o,leave:c,join:u}=jt;if(s&&[l,o,c,u].indexOf(r)>=0&&s!==this._joinRef())return;let d=this._onMessage(r,n,s);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var v,b,S;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((S=(b=m.filter)===null||b===void 0?void 0:b.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===r}).map(m=>m.callback(d,s)):(a=this.bindings[r])===null||a===void 0||a.filter(m=>{var v,b,S,p,g,y;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in m){const _=m.id,w=(v=m.filter)===null||v===void 0?void 0:v.event;return _&&((b=n.ids)===null||b===void 0?void 0:b.includes(_))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((S=n.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const _=(g=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===r}).map(m=>{if(typeof d=="object"&&"ids"in d){const v=d.data,{schema:b,table:S,commit_timestamp:p,type:g,errors:y}=v;d=Object.assign(Object.assign({},{schema:b,table:S,commit_timestamp:p,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(v))}m.callback(d,s)})}_isClosed(){return this.state===Pe.closed}_isJoined(){return this.state===Pe.joined}_isJoining(){return this.state===Pe.joining}_isLeaving(){return this.state===Pe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&hd.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(jt.close,{},t)}_onError(t){this._on(jt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Vm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Vm(t.columns,t.old_record)),n}}const Hm=()=>{},b1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _1{constructor(t,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=B0,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hm,this.ref=0,this.logger=Hm,this.conn=null,this.sendBuffer=[],this.serializer=new d1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let r;return a?r=a:typeof fetch>"u"?r=(...l)=>Es(async()=>{const{default:o}=await Promise.resolve().then(()=>ki);return{default:o}},void 0).then(({default:o})=>o(...l)):r=fetch,(...l)=>r(...l)},this.endPoint=`${t}/${Du.websocket}`,this.httpEndpoint=H0(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,r)=>r(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new z0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=l1),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:u1}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Sa.connecting:return as.Connecting;case Sa.open:return as.Open;case Sa.closing:return as.Closing;default:return as.Closed}}isConnected(){return this.connectionState()===as.Open}channel(t,n={config:{}}){const s=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===s);if(i)return i;{const a=new hd(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:s,payload:i,ref:a}=t,r=()=>{this.encode(t,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${n} ${s} (${a})`,i),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:c1};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(jt.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(f1,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:i,payload:a,ref:r}=n;s==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),r&&r===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${s} ${i} ${r&&"("+r+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(s)).forEach(l=>l._trigger(i,a,r)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(jt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${s}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([b1],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class md extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ae(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class S1 extends md{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ku extends md{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var x1=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(u){try{c(s.next(u))}catch(f){r(f)}}function o(u){try{c(s.throw(u))}catch(f){r(f)}}function c(u){u.done?a(u.value):i(u.value).then(l,o)}c((s=s.apply(e,t||[])).next())})};const q0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Es(async()=>{const{default:s}=await Promise.resolve().then(()=>ki);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},w1=()=>x1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Es(()=>Promise.resolve().then(()=>ki),void 0)).Response:Response}),Uu=e=>{if(Array.isArray(e))return e.map(n=>Uu(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Uu(s)}),t};var As=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(u){try{c(s.next(u))}catch(f){r(f)}}function o(u){try{c(s.throw(u))}catch(f){r(f)}}function c(u){u.done?a(u.value):i(u.value).then(l,o)}c((s=s.apply(e,t||[])).next())})};const mc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),T1=(e,t,n)=>As(void 0,void 0,void 0,function*(){const s=yield w1();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new S1(mc(i),e.status||500))}).catch(i=>{t(new ku(mc(i),i))}):t(new ku(mc(e),e))}),j1=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(i.body=JSON.stringify(s)),Object.assign(Object.assign({},i),n))};function vr(e,t,n,s,i,a){return As(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,j1(t,s,i,a)).then(o=>{if(!o.ok)throw o;return s!=null&&s.noResolveJson?o:o.json()}).then(o=>r(o)).catch(o=>T1(o,l,s))})})}function zl(e,t,n,s){return As(this,void 0,void 0,function*(){return vr(e,"GET",t,n,s)})}function gn(e,t,n,s,i){return As(this,void 0,void 0,function*(){return vr(e,"POST",t,s,i,n)})}function E1(e,t,n,s,i){return As(this,void 0,void 0,function*(){return vr(e,"PUT",t,s,i,n)})}function A1(e,t,n,s){return As(this,void 0,void 0,function*(){return vr(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function G0(e,t,n,s,i){return As(this,void 0,void 0,function*(){return vr(e,"DELETE",t,s,i,n)})}var Ge=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(u){try{c(s.next(u))}catch(f){r(f)}}function o(u){try{c(s.throw(u))}catch(f){r(f)}}function c(u){u.done?a(u.value):i(u.value).then(l,o)}c((s=s.apply(e,t||[])).next())})};const C1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},qm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class O1{constructor(t,n={},s,i){this.url=t,this.headers=n,this.bucketId=s,this.fetch=q0(i)}uploadOrUpdate(t,n,s,i){return Ge(this,void 0,void 0,function*(){try{let a;const r=Object.assign(Object.assign({},qm),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const o=r.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",r.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",r.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=s,l["cache-control"]=`max-age=${r.cacheControl}`,l["content-type"]=r.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:a,headers:l},r!=null&&r.duplex?{duplex:r.duplex}:{})),d=yield f.json();return f.ok?{data:{path:c,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(a){if(Ae(a))return{data:null,error:a};throw a}})}upload(t,n,s){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,i){return Ge(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),r=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${r}`);l.searchParams.set("token",n);try{let o;const c=Object.assign({upsert:qm.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.append("cacheControl",c.cacheControl)):(o=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:o,headers:u}),d=yield f.json();return f.ok?{data:{path:a,fullPath:d.Key},error:null}:{data:null,error:d}}catch(o){if(Ae(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,n){return Ge(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield gn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),r=new URL(this.url+a.url),l=r.searchParams.get("token");if(!l)throw new md("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:l},error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}update(t,n,s){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return Ge(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ae(i))return{data:null,error:i};throw i}})}copy(t,n,s){return Ge(this,void 0,void 0,function*(){try{return{data:{path:(yield gn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ae(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,s){return Ge(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield gn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const r=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${r}`)},{data:a,error:null}}catch(i){if(Ae(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,s){return Ge(this,void 0,void 0,function*(){try{const i=yield gn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${a}`):null})),error:null}}catch(i){if(Ae(i))return{data:null,error:i};throw i}})}download(t,n){return Ge(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),r=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield zl(this.fetch,`${this.url}/${i}/${l}${r}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ae(l))return{data:null,error:l};throw l}})}info(t){return Ge(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield zl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Uu(s),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}exists(t){return Ge(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield A1(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Ae(s)&&s instanceof ku){const i=s.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});o!==""&&i.push(o);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${c}`)}}}remove(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield G0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}list(t,n,s){return Ge(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},C1),n),{prefix:t||""});return{data:yield gn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(Ae(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const N1="2.7.1",R1={"X-Client-Info":`storage-js/${N1}`};var Ns=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(u){try{c(s.next(u))}catch(f){r(f)}}function o(u){try{c(s.throw(u))}catch(f){r(f)}}function c(u){u.done?a(u.value):i(u.value).then(l,o)}c((s=s.apply(e,t||[])).next())})};class D1{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},R1),n),this.fetch=q0(s)}listBuckets(){return Ns(this,void 0,void 0,function*(){try{return{data:yield zl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ae(t))return{data:null,error:t};throw t}})}getBucket(t){return Ns(this,void 0,void 0,function*(){try{return{data:yield zl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ns(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Ns(this,void 0,void 0,function*(){try{return{data:yield E1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Ns(this,void 0,void 0,function*(){try{return{data:yield gn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ns(this,void 0,void 0,function*(){try{return{data:yield G0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}}class M1 extends D1{constructor(t,n={},s){super(t,n,s)}from(t){return new O1(this.url,this.headers,t,this.fetch)}}const k1="2.52.0";let ia="";typeof Deno<"u"?ia="deno":typeof document<"u"?ia="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ia="react-native":ia="node";const U1={"X-Client-Info":`supabase-js-${ia}/${k1}`},P1={headers:U1},L1={schema:"public"},V1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},B1={};var z1=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(u){try{c(s.next(u))}catch(f){r(f)}}function o(u){try{c(s.throw(u))}catch(f){r(f)}}function c(u){u.done?a(u.value):i(u.value).then(l,o)}c((s=s.apply(e,t||[])).next())})};const $1=e=>{let t;return e?t=e:typeof fetch>"u"?t=C0:t=fetch,(...n)=>t(...n)},H1=()=>typeof Headers>"u"?O0:Headers,q1=(e,t,n)=>{const s=$1(n),i=H1();return(a,r)=>z1(void 0,void 0,void 0,function*(){var l;const o=(l=yield t())!==null&&l!==void 0?l:e;let c=new i(r==null?void 0:r.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${o}`),s(a,Object.assign(Object.assign({},r),{headers:c}))})};var G1=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(u){try{c(s.next(u))}catch(f){r(f)}}function o(u){try{c(s.throw(u))}catch(f){r(f)}}function c(u){u.done?a(u.value):i(u.value).then(l,o)}c((s=s.apply(e,t||[])).next())})};function Y1(e){return e.endsWith("/")?e:e+"/"}function X1(e,t){var n,s;const{db:i,auth:a,realtime:r,global:l}=e,{db:o,auth:c,realtime:u,global:f}=t,d={db:Object.assign(Object.assign({},o),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),r),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>G1(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Y0="2.71.1",Bs=30*1e3,Pu=3,pc=Pu*Bs,K1="http://localhost:9999",F1="supabase.auth.token",Q1={"X-Client-Info":`gotrue-js/${Y0}`},Lu="X-Supabase-Api-Version",X0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},I1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Z1=10*60*1e3;class pd extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function L(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class J1 extends pd{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function W1(e){return L(e)&&e.name==="AuthApiError"}class K0 extends pd{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Gn extends pd{constructor(t,n,s,i){super(t,s,i),this.name=n,this.status=s}}class dn extends Gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ej(e){return L(e)&&e.name==="AuthSessionMissingError"}class Br extends Gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zr extends Gn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class $r extends Gn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tj(e){return L(e)&&e.name==="AuthImplicitGrantRedirectError"}class Gm extends Gn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vu extends Gn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function gc(e){return L(e)&&e.name==="AuthRetryableFetchError"}class Ym extends Gn{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Bu extends Gn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const $l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xm=` 	
\r=`.split(""),nj=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Xm.length;t+=1)e[Xm[t].charCodeAt(0)]=-2;for(let t=0;t<$l.length;t+=1)e[$l[t].charCodeAt(0)]=t;return e})();function Km(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n($l[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n($l[s]),t.queuedBits-=6}}function F0(e,t,n){const s=nj[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Fm(e){const t=[],n=r=>{t.push(String.fromCodePoint(r))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=r=>{aj(r,s,n)};for(let r=0;r<e.length;r+=1)F0(e.charCodeAt(r),i,a);return t.join("")}function sj(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ij(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}sj(s,t)}}function aj(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function rj(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)F0(e.charCodeAt(i),n,s);return new Uint8Array(t)}function lj(e){const t=[];return ij(e,n=>t.push(n)),new Uint8Array(t)}function oj(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};return e.forEach(i=>Km(i,n,s)),Km(null,n,s),t.join("")}function cj(e){return Math.round(Date.now()/1e3)+e}function uj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const xt=()=>typeof window<"u"&&typeof document<"u",In={tested:!1,writable:!1},Q0=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(In.tested)return In.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),In.tested=!0,In.writable=!0}catch{In.tested=!0,In.writable=!1}return In.writable};function fj(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((s,i)=>{t[i]=s}),t}const I0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Es(async()=>{const{default:s}=await Promise.resolve().then(()=>ki);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},dj=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",zs=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Zn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},cn=async(e,t)=>{await e.removeItem(t)};class So{constructor(){this.promise=new So.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}So.promiseConstructor=Promise;function yc(e){const t=e.split(".");if(t.length!==3)throw new Bu("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!I1.test(t[s]))throw new Bu("JWT not in base64url format");return{header:JSON.parse(Fm(t[0])),payload:JSON.parse(Fm(t[1])),signature:rj(t[2]),raw:{header:t[0],payload:t[1]}}}async function hj(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function mj(e,t){return new Promise((s,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const r=await e(a);if(!t(a,null,r)){s(r);return}}catch(r){if(!t(a,r)){i(r);return}}})()})}function pj(e){return("0"+e.toString(16)).substr(-2)}function gj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,pj).join("")}async function yj(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function vj(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await yj(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rs(e,t,n=!1){const s=gj();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await zs(e,`${t}-code-verifier`,i);const a=await vj(s);return[a,s===a?"plain":"s256"]}const bj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _j(e){const t=e.headers.get(Lu);if(!t||!t.match(bj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Sj(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function xj(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ds(e){if(!wj.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vc(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Qm(e){return JSON.parse(JSON.stringify(e))}var Tj=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};const ns=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jj=[502,503,504];async function Im(e){var t;if(!dj(e))throw new Vu(ns(e),0);if(jj.includes(e.status))throw new Vu(ns(e),e.status);let n;try{n=await e.json()}catch(a){throw new K0(ns(a),a)}let s;const i=_j(e);if(i&&i.getTime()>=X0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Ym(ns(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new dn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,r)=>a&&typeof r=="string",!0))throw new Ym(ns(n),e.status,n.weak_password.reasons);throw new J1(ns(n),e.status||500,s)}const Ej=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function H(e,t,n,s){var i;const a=Object.assign({},s==null?void 0:s.headers);a[Lu]||(a[Lu]=X0["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const r=(i=s==null?void 0:s.query)!==null&&i!==void 0?i:{};s!=null&&s.redirectTo&&(r.redirect_to=s.redirectTo);const l=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",o=await Aj(e,t,n+l,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(o):{data:Object.assign({},o),error:null}}async function Aj(e,t,n,s,i,a){const r=Ej(t,s,i,a);let l;try{l=await e(n,Object.assign({},r))}catch(o){throw console.error(o),new Vu(ns(o),0)}if(l.ok||await Im(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(o){await Im(o)}}function Ht(e){var t;let n=null;Rj(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=cj(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function Zm(e){const t=Ht(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Sn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Cj(e){return{data:e,error:null}}function Oj(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a}=e,r=Tj(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a},o=Object.assign({},r);return{data:{properties:l,user:o},error:null}}function Nj(e){return e}function Rj(e){return e.access_token&&e.refresh_token&&e.expires_in}const bc=["global","local","others"];var Dj=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};class Mj{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=I0(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=bc[0]){if(bc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bc.join(", ")}`);try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Sn})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=Dj(t,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s==null?void 0:s.newEmail,delete i.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Oj,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(L(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Sn})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,i,a,r,l,o;try{const c={nextPage:null,lastPage:0,total:0},u=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:Nj});if(u.error)throw u.error;const f=await u.json(),d=(r=u.headers.get("x-total-count"))!==null&&r!==void 0?r:0,m=(o=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return m.length>0&&(m.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(v.split(";")[1].split("=")[1]);c[`${S}Page`]=b}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(L(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Ds(t);try{return await H(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Sn})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ds(t);try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Sn})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Ds(t);try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Sn})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Ds(t.userId);try{const{data:n,error:s}=await H(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ds(t.userId),Ds(t.id);try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}}function Jm(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function kj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ms={debug:!!(globalThis&&Q0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Z0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Uj extends Z0{}async function Pj(e,t,n){Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Uj(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ms.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}kj();const Lj={url:K1,storageKey:F1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Q1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Wm(e,t,n){return await n()}const ks={};class Ya{constructor(t){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ya.nextInstanceID,Ya.nextInstanceID+=1,this.instanceID>0&&xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Lj),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Mj({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=I0(i.fetch),this.lock=i.lock||Wm,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:xt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Pj:this.lock=Wm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Q0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Jm(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Jm(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=ks[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ks[this.storageKey]=Object.assign(Object.assign({},ks[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ks[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ks[this.storageKey]=Object.assign(Object.assign({},ks[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Y0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=fj(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),xt()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),tj(a)){const o=(t=a.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:r,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",r,"redirect type",l),await this._saveSession(r),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return L(n)?{error:n}:{error:new K0("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,i;try{const a=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ht}),{data:r,error:l}=a;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,s,i;try{let a;if("email"in t){const{email:u,password:f,options:d}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Rs(this.storage,this.storageKey)),a=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:u,password:f,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:m,code_challenge_method:v},xform:Ht})}else if("phone"in t){const{phone:u,password:f,options:d}=t;a=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},channel:(i=d==null?void 0:d.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Ht})}else throw new zr("You must provide either an email or phone number and a password");const{data:r,error:l}=a;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:r,options:l}=t;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Zm})}else if("phone"in t){const{phone:a,password:r,options:l}=t;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Zm})}else throw new zr("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Br}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,s,i,a,r,l,o,c,u,f,d,m;let v,b;if("message"in t)v=t.message,b=t.signature;else{const{chain:S,wallet:p,statement:g,options:y}=t;let _;if(xt())if(typeof p=="object")_=p;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=p}const w=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),g?{statement:g}:null));let x;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")x=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)x=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in x&&"signature"in x&&(typeof x.signedMessage=="string"||x.signedMessage instanceof Uint8Array)&&x.signature instanceof Uint8Array)v=typeof x.signedMessage=="string"?x.signedMessage:new TextDecoder().decode(x.signedMessage),b=x.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${w.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(s=y==null?void 0:y.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((r=y==null?void 0:y.signInWithSolana)===null||r===void 0)&&r.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(u=y==null?void 0:y.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(x=>`- ${x}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=E}}try{const{data:S,error:p}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:oj(b)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ht});if(p)throw p;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Br}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:p})}catch(S){if(L(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(t){const n=await Zn(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:a,error:r}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Ht});if(await cn(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Br}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:r})}catch(a){if(L(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:s,token:i,access_token:a,nonce:r}=t,l=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:a,nonce:r,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ht}),{data:o,error:c}=l;return c?{data:{user:null,session:null},error:c}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Br}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:c})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,i,a,r;try{if("email"in t){const{email:l,options:o}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Rs(this.storage,this.storageKey));const{error:f}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=o==null?void 0:o.data)!==null&&n!==void 0?n:{},create_user:(s=o==null?void 0:o.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:o}=t,{data:c,error:u}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=o==null?void 0:o.data)!==null&&i!==void 0?i:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(r=o==null?void 0:o.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new zr("You must provide either an email or phone number.")}catch(l){if(L(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,s;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:r,error:l}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Ht});if(l)throw l;if(!r)throw new Error("An error occurred on token verification.");const o=r.session,c=r.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,s,i;try{let a=null,r=null;return this.flowType==="pkce"&&([a,r]=await Rs(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:r}),headers:this.headers,xform:Cj})}catch(a){if(L(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new dn;const{error:i}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(L(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:a}=t,{error:r}=await H(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in t){const{phone:s,type:i,options:a}=t,{data:r,error:l}=await H(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:l}}throw new zr("You must provide either an email or phone number and a type")}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Zn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<pc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const r=await Zn(this.userStorage,this.storageKey+"-user");r!=null&&r.user?t.user=r.user:t.user=vc()}if(this.storage.isServer&&t.user){let r=this.suppressGetSessionWarning;t=new Proxy(t,{get:(o,c,u)=>(!r&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r=!0,this.suppressGetSessionWarning=!0),Reflect.get(o,c,u))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Sn}):await this._useSession(async n=>{var s,i,a;const{data:r,error:l}=n;if(l)throw l;return!(!((s=r.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dn}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Sn})})}catch(n){if(L(n))return ej(n)&&(await this._removeSession(),await cn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:i,error:a}=s;if(a)throw a;if(!i.session)throw new dn;const r=i.session;let l=null,o=null;this.flowType==="pkce"&&t.email!=null&&([l,o]=await Rs(this.storage,this.storageKey));const{data:c,error:u}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:o}),jwt:r.access_token,xform:Sn});if(u)throw u;return r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new dn;const n=Date.now()/1e3;let s=n,i=!0,a=null;const{payload:r}=yc(t.access_token);if(r.exp&&(s=r.exp,i=s<=n),i){const{session:l,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:o}=await this._getUser(t.access_token);if(o)throw o;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(L(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:r,error:l}=n;if(l)throw l;t=(s=r.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new dn;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!xt())throw new $r("No browser detected.");if(t.error||t.error_description||t.error_code)throw new $r(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Gm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $r("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Gm("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:a,refresh_token:r,expires_in:l,expires_at:o,token_type:c}=t;if(!a||!l||!r||!c)throw new $r("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let d=u+f;o&&(d=parseInt(o));const m=d-u;m*1e3<=Bs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=d-f;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,d,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,d,u);const{data:b,error:S}=await this._getUser(a);if(S)throw S;const p={provider_token:s,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:d,refresh_token:r,token_type:c,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(s){if(L(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Zn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{error:a};const r=(s=i.session)===null||s===void 0?void 0:s.access_token;if(r){const{error:l}=await this.admin.signOut(r,t);if(l&&!(W1(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await cn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=uj(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,i;try{const{data:{session:a},error:r}=n;if(r)throw r;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Rs(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(L(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:i}=await this._useSession(async a=>{var r,l,o,c,u;const{data:f,error:d}=a;if(d)throw d;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return xt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(L(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:r}=n;if(r)throw r;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await mj(async i=>(i>0&&await hj(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ht})),(i,a)=>{const r=200*Math.pow(2,i);return a&&gc(a)&&Date.now()+r-s<Bs})}catch(s){if(this._debug(n,"error",s),L(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),xt()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await Zn(this.storage,this.storageKey);if(i&&this.userStorage){let r=await Zn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!r&&(r={user:i.user},await zs(this.userStorage,this.storageKey+"-user",r)),i.user=(t=r==null?void 0:r.user)!==null&&t!==void 0?t:vc()}else if(i&&!i.user&&!i.user){const r=await Zn(this.storage,this.storageKey+"-user");r&&(r!=null&&r.user)?(i.user=r.user,await cn(this.storage,this.storageKey+"-user"),await zs(this.storage,this.storageKey,i)):i.user=vc()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<pc;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${pc}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:r}=await this._callRefreshToken(i.refresh_token);r&&(console.error(r),gc(r)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:r,error:l}=await this._getUser(i.access_token);!l&&(r!=null&&r.user)?(i.user=r.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(s,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new dn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new So;const{data:a,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!a.session)throw new dn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),L(a)){const r={session:null,error:a};return gc(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(r),r}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],r=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(o){a.push(o)}});if(await Promise.all(r),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await zs(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=Qm(i);await zs(this.storage,this.storageKey,a)}else{const i=Qm(n);await zs(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await cn(this.storage,this.storageKey),await cn(this.storage,this.storageKey+"-code-verifier"),await cn(this.storage,this.storageKey+"-user"),this.userStorage&&await cn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Bs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/Bs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Bs}ms, refresh threshold is ${Pu} ticks`),i<=Pu&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Z0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,r]=await Rs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(r)}`});i.push(l.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);i.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await H(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:r}=n;if(r)return{data:null,error:r};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:o,error:c}=await H(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=o==null?void 0:o.totp)===null||i===void 0)&&i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:r,error:l}=await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+r.expires_in},r)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",r),{data:r,error:l})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],i=s.filter(r=>r.factor_type==="totp"&&r.status==="verified"),a=s.filter(r=>r.factor_type==="phone"&&r.status==="verified");return{data:{all:s,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:r}=yc(i.access_token);let l=null;r.aal&&(l=r.aal);let o=l;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(o="aal2");const u=r.amr||[];return{data:{currentLevel:l,nextLevel:o,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(l=>l.kid===t);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+Z1>i)return s;const{data:a,error:r}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,s=a.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};s=m.session.access_token}const{header:i,payload:a,signature:r,raw:{header:l,payload:o}}=yc(s);n!=null&&n.allowExpired||Sj(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:m}=await this.getUser(s);if(m)throw m;return{data:{claims:a,header:i,signature:r},error:null}}const u=xj(i.alg),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,r,lj(`${l}.${o}`)))throw new Bu("Invalid JWT signature");return{data:{claims:a,header:i,signature:r},error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}}}Ya.nextInstanceID=0;const Vj=Ya;class Bj extends Vj{constructor(t){super(t)}}var zj=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(u){try{c(s.next(u))}catch(f){r(f)}}function o(u){try{c(s.throw(u))}catch(f){r(f)}}function c(u){u.done?a(u.value):i(u.value).then(l,o)}c((s=s.apply(e,t||[])).next())})};class $j{constructor(t,n,s){var i,a,r;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=Y1(t),o=new URL(l);this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:L1,realtime:B1,auth:Object.assign(Object.assign({},V1),{storageKey:c}),global:P1},f=X1(s??{},u);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(d,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=f.auth)!==null&&r!==void 0?r:{},this.headers,f.global.fetch),this.fetch=q1(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new a1(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new UT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new M1(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return zj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,storageKey:a,flowType:r,lock:l,debug:o},c,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Bj({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,flowType:r,lock:l,debug:o,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new _1(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Hj=(e,t,n)=>new $j(e,t,n),Ee=Hj("https://ssxxaztyibwkcrowyarw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNzeHhhenR5aWJ3a2Nyb3d5YXJ3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMxNzE1MjYsImV4cCI6MjA2ODc0NzUyNn0.5wfjQfBzyQyxQT2X-03uzjsz54xN79mbShjdiQFfiXY");function qj(){const[e,t]=T.useState(""),[n,s]=T.useState(""),[i,a]=T.useState(!1),[r,l]=T.useState(""),o=mo(),c=async f=>{f.preventDefault(),a(!0),l("");const{data:d,error:m}=await Ee.auth.signInWithPassword({email:e,password:n});m?l(m.message):d.user&&o("/dashboard"),a(!1)},u=async()=>{a(!0),l("");const{error:f}=await Ee.auth.signUp({email:e,password:n});l(f?f.message:"Check your email for confirmation link"),a(!1)};return h.jsx("div",{className:"login-container",children:h.jsxs("div",{className:"login-card",children:[h.jsx("h1",{className:"login-title",children:"Login"}),h.jsxs("form",{onSubmit:c,className:"login-form",children:[h.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:f=>t(f.target.value),className:"form-input",required:!0}),h.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:f=>s(f.target.value),className:"form-input",required:!0}),h.jsx("button",{type:"submit",disabled:i,className:"login-button",children:i?"Loading...":"Sign In"})]}),h.jsx("button",{onClick:u,disabled:i,className:"signup-button",children:"Create Account"}),r&&h.jsx("div",{className:"login-error",children:r})]})})}class zu{static getCompletedPhases(t){let n=0;return t!=null&&t.scenes&&typeof t.scenes=="object"&&Object.keys(t.scenes).length>0&&n++,n}static getPhaseProgress(t){const n=this.getCompletedPhases(t);let s=null;return n===0?s="script_interpretation":n===1?s="element_images":n===2?s="scene_generation":n===3?s="scene_videos":n===4&&(s="final_assembly"),{completed_phases:n,total_phases:5,current_phase:s}}static isPhaseCompleted(t,n){return this.getCompletedPhases(t)>=n}static canPhaseProceeed(t,n){return n===1?!0:n===2||n===3?this.isPhaseCompleted(t,1):n===4?this.isPhaseCompleted(t,3):n===5?this.isPhaseCompleted(t,4):!1}}const ep={scenes:{},elements:{},project_metadata:{title:"New Project",client:"Client Name",schema_version:"3.0",production_workflow:"animatic_to_video_scalable"}};async function Gj(e){try{const{error:t}=await Ee.from("projects").delete().eq("id",e);return t?(console.error("Error deleting project:",t),!1):!0}catch(t){return console.error("Error in deleteProject:",t),!1}}async function Yj(e,t){try{const n={...ep,project_metadata:{...ep.project_metadata,title:e}},{data:s,error:i}=await Ee.from("projects").insert({name:e,user_id:t,status:"active",master_json:n,current_version:0}).select().single();if(i||!s)return console.error("Error creating project:",i),null;const{data:a,error:r}=await Ee.from("project_phases").select("*").eq("project_id",s.id).order("phase_index");return r||!a?(console.error("Error fetching phases:",r),{project:s,phases:[]}):{project:s,phases:a}}catch(n){return console.error("Error in createProject:",n),null}}async function Xj(e){try{const{data:t,error:n}=await Ee.from("projects").select("master_json").eq("id",e).single();return n||!t?(console.error("Error fetching master JSON:",n),null):t.master_json}catch(t){return console.error("Error in getMasterJSON:",t),null}}async function $u(e,t,n="Master JSON updated"){try{const{data:s,error:i}=await Ee.from("projects").select("current_version").eq("id",e).single();if(i||!s)return console.error("Error fetching project for version:",i),!1;const a=s.current_version+1,{error:r}=await Ee.from("projects").update({master_json:t,current_version:a,updated_at:new Date().toISOString()}).eq("id",e);return r?(console.error("Error updating master JSON:",r),!1):!0}catch(s){return console.error("Error in saveMasterJSONFromObject:",s),!1}}async function Kj(e){try{const{data:t,error:n}=await Ee.from("project_versions").select("*").eq("project_id",e).order("version_number",{ascending:!1});return n||!t?(console.error("Error fetching project versions:",n),[]):t}catch(t){return console.error("Error in getProjectVersions:",t),[]}}async function Fj(e,t){try{const{data:n,error:s}=await Ee.from("project_versions").select("*").eq("project_id",e).eq("version_number",t).single();return s||!n?(console.error("Error fetching project version:",s),null):n}catch(n){return console.error("Error in getProjectVersion:",n),null}}async function Qj(e){try{const{data:t,error:n}=await Ee.from("projects").select(`
        id,
        name,
        status,
        created_at,
        master_json,
        project_phases(
          phase_index,
          status,
          phase_name,
          can_proceed,
          completed_at
        )
      `).eq("user_id",e).order("created_at",{ascending:!1});return n||!t?(console.error("Error fetching projects:",n),[]):t.map(s=>{const i=zu.getPhaseProgress(s.master_json);return{id:s.id,name:s.name,status:s.status,created_at:s.created_at,phase_progress:i}})}catch(t){return console.error("Error in getUserProjects:",t),[]}}async function tp(e){try{const{data:t,error:n}=await Ee.from("projects").select("*").eq("id",e).single();return n||!t?(console.error("Error fetching project:",n),null):t}catch(t){return console.error("Error in getProject:",t),null}}async function np(e){try{const[t,n]=await Promise.all([Ee.from("project_phases").select("*").eq("project_id",e).order("phase_index",{ascending:!0}),Ee.from("projects").select("master_json").eq("id",e).single()]);if(t.error||!t.data)return console.error("Error fetching phases:",t.error),[];if(n.error||!n.data)return console.error("Error fetching project:",n.error),t.data.map(r=>({...r,can_proceed:r.phase_index===1}));const s=t.data,i=n.data.master_json;return s.map(r=>{let l=!1;return r.phase_index===1?l=!0:(r.phase_index===2||r.phase_index===3)&&(l=i&&i.scenes&&Object.keys(i.scenes).length>0),{...r,can_proceed:l}})}catch(t){return console.error("Error in getProjectPhases:",t),[]}}async function J0(){try{const{data:e,error:t}=await Ee.from("app_configuration").select("config_data").order("updated_at",{ascending:!1}).limit(1).single();if(t)throw t;return(e==null?void 0:e.config_data)||{}}catch(e){return console.error("Error loading app configuration:",e),{}}}async function Ij(e){try{const{error:t}=await Ee.from("app_configuration").upsert({config_data:e,updated_at:new Date().toISOString()});if(t)throw t;return!0}catch(t){return console.error("Error saving app configuration:",t),!1}}function Zj({user:e}){const t=mo(),[n,s]=T.useState([]),[i,a]=T.useState(!0),[r,l]=T.useState(!1),[o,c]=T.useState(!1),[u,f]=T.useState(""),[d,m]=T.useState(null),[v,b]=T.useState(!1);T.useEffect(()=>{S()},[e]);const S=async()=>{if(!e)return;a(!0);const x=await Qj(e.id);s(x),a(!1)},p=async()=>{await Ee.auth.signOut(),t("/login")},g=async()=>{if(!u.trim()||!e||o)return;c(!0),await Yj(u.trim(),e.id)?(l(!1),f(""),await S()):alert("Error creating project. Please try again."),c(!1)},y=x=>{t(`/project/${x}`)},_=async x=>{if(!x||v)return;b(!0),await Gj(x)?(m(null),await S()):alert("Error deleting project. Please try again."),b(!1)},w=x=>new Date(x).toLocaleDateString(),E=x=>{switch(x){case"active":return"#00cc00";case"completed":return"#0066cc";case"archived":return"#666";default:return"#ccc"}};return h.jsx("div",{className:"min-h-screen bg-primary p-2xl",children:h.jsxs("div",{className:"dashboard-container",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2xl",children:[h.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Projects"}),h.jsxs("div",{className:"flex gap-xl items-center",children:[h.jsx("button",{onClick:()=>l(!0),className:"btn btn-primary",children:"New Project"}),h.jsx("button",{onClick:p,className:"btn btn-logout",children:"Logout"})]})]}),i?h.jsx("div",{className:"text-center text-secondary p-2xl",children:"Loading projects..."}):n.length===0?h.jsxs("div",{className:"bg-secondary p-4xl rounded-lg text-center",children:[h.jsx("h2",{className:"text-primary mb-xl",children:"No projects yet"}),h.jsx("p",{className:"text-secondary mb-2xl",children:"Create your first FLOW.STUDIO project to get started with AI-powered animatic generation"}),h.jsx("button",{onClick:()=>l(!0),className:"btn btn-primary",children:"Create Your First Project"})]}):h.jsx("div",{className:"grid grid-auto-fit gap-2xl",children:n.map(x=>h.jsxs("div",{onClick:()=>y(x.id),className:"project-card cursor-pointer",children:[h.jsxs("div",{className:"flex justify-between items-start mb-xl",children:[h.jsx("h3",{className:"text-primary text-xl flex-1 mb-0",children:x.name}),h.jsxs("div",{className:"flex items-center gap-md",children:[h.jsx("button",{onClick:j=>{j.stopPropagation(),m(x.id)},className:"btn-delete",children:""}),h.jsx("span",{className:"status-badge",style:{background:E(x.status)},children:x.status})]})]}),h.jsxs("div",{className:"project-progress",children:[h.jsxs("div",{className:"flex justify-between text-secondary text-sm mb-sm",children:[h.jsx("span",{children:"Progress"}),h.jsxs("span",{children:[x.phase_progress.completed_phases,"/5 phases"]})]}),h.jsx("div",{className:"progress-bar",children:h.jsx("div",{className:"progress-fill",style:{width:`${x.phase_progress.completed_phases/5*100}%`}})})]}),h.jsxs("div",{className:"project-info",children:[h.jsxs("span",{children:["Created ",w(x.created_at)]}),x.phase_progress.current_phase&&h.jsxs("span",{className:"current-phase",children:["Active: ",x.phase_progress.current_phase.replace("_"," ")]})]})]},x.id))}),r&&h.jsx("div",{className:"modal-overlay",children:h.jsxs("div",{className:"modal-content modal-width-400",children:[h.jsx("h2",{className:"modal-header",children:"Create New Project"}),h.jsxs("div",{className:"mb-xl",children:[h.jsx("label",{className:"form-label",children:"Project Name"}),h.jsx("input",{type:"text",value:u,onChange:x=>f(x.target.value),placeholder:"e.g. UN CONSIGLIO STELLARE",className:"form-input",onKeyPress:x=>x.key==="Enter"&&g(),autoFocus:!0})]}),h.jsx("div",{className:"modal-info",children:h.jsx("p",{children:"This will create a new project with 5 phases: Script Interpretation, Element Images, Scene Generation, Scene Videos, and Final Assembly. Based on the Italian campaign template."})}),h.jsxs("div",{className:"modal-actions",children:[h.jsx("button",{onClick:()=>{l(!1),f("")},disabled:o,className:"btn btn-secondary",children:"Cancel"}),h.jsx("button",{onClick:g,disabled:!u.trim()||o,className:"btn btn-primary",children:o?"Creating...":"Create Project"})]})]})}),d&&h.jsx("div",{className:"modal-overlay",children:h.jsxs("div",{className:"modal-content delete-modal modal-width-400",children:[h.jsx("h2",{className:"delete-header",children:" Delete Project?"}),h.jsxs("div",{className:"delete-warning",children:[h.jsx("p",{children:"This will permanently delete:"}),h.jsxs("ul",{children:[h.jsx("li",{children:"All project data and phases"}),h.jsx("li",{children:"All generated content and versions"}),h.jsx("li",{children:"All n8n job history"})]}),h.jsx("p",{className:"warning-final",children:"This action cannot be undone!"})]}),h.jsxs("div",{className:"modal-actions",children:[h.jsx("button",{onClick:()=>m(null),disabled:v,className:"btn btn-secondary btn-padding-lg",children:"Cancel"}),h.jsx("button",{onClick:()=>_(d),disabled:v,className:"btn btn-danger btn-padding-lg",children:v?" Deleting...":" Delete Forever"})]})]})})]})})}const sp={test:"https://azoriusdrake.app.n8n.cloud/webhook-test/4b4638e1-47de-406f-8ef7-136d49bc9bc1",production:"https://azoriusdrake.app.n8n.cloud/webhook/4b4638e1-47de-406f-8ef7-136d49bc9bc1"};function Jj({phase:e,projectId:t,projectName:n,onContentChange:s,jsonContent:i,hasUnsavedChanges:a,isSaving:r,error:l,databaseStatus:o,showVersionHistory:c,versionHistory:u,loadingVersions:f,onJsonChange:d,onSavePhase:m,onLoadPhaseContent:v,onLoadVersionHistory:b,onLoadVersionContent:S,onShowVersionHistory:p,useProduction:g,onUseProductionChange:y}){const[_,w]=T.useState(!1),[E,x]=T.useState(!1);T.useEffect(()=>{v(e.id)},[e.id,v]);const j=async()=>{const O=g?sp.production:sp.test,P={phase:"script_interpretation",operation:"generate_all",jobId:crypto.randomUUID(),projectId:t,projectName:n,data:{projectId:t,projectName:n,phase:"script_interpretation",timestamp:new Date().toISOString()}};console.log("Calling webhook:",O),console.log("Payload:",P);const z=await fetch(O,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});if(!z.ok)throw new Error(`Webhook failed: ${z.status} ${z.statusText}`);return z.json()},C=async(O=!1)=>{if(o.version>0&&!O){x(!0);return}w(!0),x(!1);try{const P=await j();console.log("Webhook result:",P);const z=JSON.stringify(P,null,2);d(z)}catch(P){P instanceof Error&&P.message,console.error("Webhook error:",P)}finally{w(!1)}};return h.jsxs("div",{style:{padding:"0.5rem"},children:[h.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[h.jsxs("div",{style:{flex:1},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",fontSize:"0.875rem",color:"#999",marginBottom:"0.375rem"},children:[h.jsxs("span",{children:["Phase 1: ",h.jsx("strong",{style:{color:"#66ccff"},children:"Script Interpretation"})]}),h.jsx("span",{children:""}),h.jsxs("span",{children:["Status: ",h.jsx("strong",{className:e.status==="completed"?"script-status-completed":"script-status-progress",children:e.status==="completed"?"Completed":"In Progress"})]}),h.jsx("span",{children:""}),h.jsxs("span",{children:["DB v",h.jsx("strong",{className:o.loaded?"script-db-connected":"script-db-error",children:o.loaded?o.version:"?"})]})]}),h.jsx("div",{style:{marginBottom:"0.25rem"},children:h.jsx("p",{style:{color:"#cccccc",fontSize:"0.875rem",margin:0},children:"Generate structured JSON from your storyboard using n8n workflow"})}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",fontSize:"0.875rem"},children:[h.jsx("span",{className:o.error?"text-error":"text-success",children:o.error?h.jsx(h.Fragment,{children:" DB Error"}):o.loaded?h.jsx(h.Fragment,{children:" Connected"}):h.jsx(h.Fragment,{children:" Loading"})}),l&&h.jsxs("span",{className:"text-error",children:[" ",l]}),a&&h.jsx("span",{className:"text-warning",children:" Unsaved changes"}),h.jsx("span",{className:g?"text-success":"text-accent",children:g?" PROD":" TEST"}),o.loaded&&o.lastSaved&&h.jsxs("span",{className:"text-muted",style:{fontSize:"0.75rem"},children:["Saved: ",new Date(o.lastSaved).toLocaleTimeString()]})]})]}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"0.375rem"},children:[h.jsx("div",{children:h.jsxs("label",{style:{display:"flex",alignItems:"center",fontSize:"0.875rem",color:"#cccccc"},children:[h.jsx("input",{type:"checkbox",checked:g,onChange:O=>y(O.target.checked),style:{marginRight:"0.375rem"}}),"Production Webhook"]})}),h.jsx("div",{style:{display:"flex",gap:"0.375rem"},children:h.jsx("button",{onClick:()=>C(),disabled:_,className:`btn text-xs px-md py-xs ${_?"btn-secondary":"btn-primary"}`,children:_?" Generating...":" Generate"})})]})]}),_&&h.jsx("div",{className:"modal-overlay script-modal-loading",children:h.jsxs("div",{className:"modal-content script-modal-narrow",children:[h.jsx("div",{className:"loading-spinner script-loading-icon",children:""}),h.jsx("h2",{className:"text-primary text-3xl mb-xl mb-0",children:"Calling n8n Workflow"}),h.jsx("p",{className:"text-secondary text-lg mb-2xl mb-0",children:"Processing your script interpretation request..."}),h.jsxs("div",{className:"bg-tertiary border border-focus p-xl rounded-md mb-xl",children:[h.jsxs("div",{className:"text-accent text-base mb-md",children:[" Endpoint: ",g?"Production":"Test"," Webhook"]}),h.jsxs("div",{className:"text-secondary text-sm",children:[" Phase: Script Interpretation   Project: ",n]})]}),h.jsx("div",{className:"text-muted text-xs text-italic",children:"This may take a few moments..."})]})}),E&&h.jsx("div",{className:"modal-overlay",children:h.jsxs("div",{className:"modal-content modal-width-500",children:[h.jsx("h2",{className:"text-primary text-2xl mb-xl flex items-center gap-md mb-0",children:" Regenerate Content?"}),h.jsxs("div",{className:"bg-accent border border-light p-xl rounded-md mb-2xl",children:[h.jsxs("p",{className:"text-secondary mb-md mb-0",children:["You already have content saved (Version ",o.version,"). Regenerating will create new content that you'll need to save as a new version."]}),h.jsx("p",{className:"text-sm version-warning-text mb-0",children:"Current content will be preserved until you save the new version."})]}),h.jsx("div",{className:"db-status db-status-success mb-2xl",children:h.jsx("p",{className:"text-sm mb-0",children:" This will preserve version history and allow you to compare results."})}),h.jsxs("div",{className:"flex gap-xl justify-end",children:[h.jsx("button",{onClick:()=>x(!1),className:"btn btn-secondary",children:"Cancel"}),h.jsx("button",{onClick:()=>C(!0),className:"btn script-regenerate-button",children:" Regenerate New Version"})]})]})}),c&&h.jsx("div",{className:"modal-overlay",children:h.jsxs("div",{className:"modal-content flex flex-col modal-version-history",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2xl",children:[h.jsx("h2",{className:"text-primary text-2xl mb-0",children:" Version History"}),h.jsx("button",{onClick:()=>p(!1),className:"bg-transparent text-secondary border-none text-2xl cursor-pointer",children:""})]}),h.jsx("div",{className:"flex-1 overflow-y-auto",children:f?h.jsx("div",{className:"text-center text-secondary p-2xl",children:"Loading versions..."}):u.length===0?h.jsx("div",{className:"text-center text-secondary p-2xl",children:"No version history available"}):h.jsx("div",{className:"flex flex-col gap-md",children:u.map(O=>h.jsxs("div",{className:`version-item ${O.version_number===o.version?"current":""}`,onClick:()=>S(O.version_number),children:[h.jsxs("div",{className:"version-header",children:[h.jsxs("span",{className:"version-title",children:["Version ",O.version_number,O.version_number===o.version&&h.jsx("span",{className:"version-current-badge",children:"(Current)"})]}),h.jsx("span",{className:"version-date",children:new Date(O.created_at).toLocaleString()})]}),h.jsx("div",{className:"version-description",children:O.change_description||"No description"})]},O.id))})}),h.jsx("div",{className:"version-tip",children:" Click any version to load it into the editor. Remember to save after loading different content."})]})})]})}class Wj{static processTemplate(t,n){if(!t||typeof t!="string")return t;const s=/\{\{\$json\.([^}]+)\}\}/g;return t.replace(s,(i,a)=>{const r=this.getValueFromPath(a,n);return r!==void 0?String(r):i})}static getValueFromPath(t,n){const{masterJSON:s,sceneId:i,currentScene:a}=n;if(t==="scene_id"&&i)return i;if(a&&this.isSceneProperty(t)){const r=this.getNestedValue(a,t);if(r!==void 0)return r}if(this.isGlobalProperty(t))return this.getNestedValue(s,t);if(t.startsWith("project_metadata."))return this.getNestedValue(s,t);if(this.isTechnicalSpec(t)){const r=a?this.getNestedValue(a,t):void 0;if(r!==void 0)return r;const l=this.getNestedValue(s,`extraction_metadata.${t}`);return l!==void 0?l:this.getNestedValue(s,t)}return this.getNestedValue(s,t)}static isSceneProperty(t){return["action_summary","natural_description","locations_text","characters_text","props_text","actions_text","interactions_text","camera_type","composition_approach","overall_mood","color_primary","color_secondary","line_work","shading","framing","duration","mood","depth"].some(s=>t===s||t.includes(s))}static isTechnicalSpec(t){return["image_engine","max_prompt_length","aspect_ratio","base_url","model_endpoint","project_dest_folder"].includes(t)}static isGlobalProperty(t){return["global_style","elements","scenes"].some(s=>t.startsWith(s))}static getNestedValue(t,n){if(!(!t||!n))return n.split(".").reduce((s,i)=>s&&s[i]!==void 0?s[i]:void 0,t)}static getAvailableVariables(t){const{masterJSON:n,sceneId:s,currentScene:i}=t,a={};return n!=null&&n.project_metadata&&Object.keys(n.project_metadata).forEach(r=>{a[`project_metadata.${r}`]=n.project_metadata[r]}),s&&(a.scene_id=s),i&&Object.keys(i).forEach(r=>{a[r]=i[r]}),n!=null&&n.global_style&&Object.keys(n.global_style).forEach(r=>{a[`global_style.${r}`]=n.global_style[r]}),a}static validateTemplate(t,n){const s=/\{\{\$json\.([^}]+)\}\}/g,i=[];let a;for(;(a=s.exec(t))!==null;){const r=a[1];this.getValueFromPath(r,n)===void 0&&i.push(r)}return{isValid:i.length===0,missingVariables:i}}}class ip{static formatForLLM(t){return!t||typeof t!="string"?t:t.replace(/\\n\\n/g,`

`).replace(/\\n/g,`
`).replace(/\\"/g,'"').replace(/\\t/g,"	").trim()}static formatForEditor(t){return!t||typeof t!="string"?t:t.replace(/\n\n/g,"\\n\\n").replace(/\n/g,"\\n").replace(/"/g,'\\"').replace(/\t/g,"\\t")}static getProcessedConfig(t){if(!t)return t;const n={...t};if(n.start_frame_prompt_generation){const s=n.start_frame_prompt_generation;s.system_prompt&&(s.system_prompt=this.formatForLLM(s.system_prompt)),s.user_prompt&&(s.user_prompt=this.formatForLLM(s.user_prompt))}return n}static validatePromptFormat(t){const n=[];if(!t||typeof t!="string")return n.push("Prompt is empty or not a string"),{isValid:!1,issues:n};const s=t.includes("\\n"),i=t.includes(`
`)&&!t.includes("\\n");s&&i&&n.push("Mixed newline formatting detected (both \\n and actual newlines)");const r=t.split(/\n|\\n/).filter(l=>l.length>200);return r.length>0&&n.push(`${r.length} lines are very long (>200 chars) and might need formatting`),{isValid:n.length===0,issues:n}}}class eE{static transformSceneForPrompt(t,n,s){var f,d,m,v,b,S,p,g;const i=t.startsWith("scene_")?t:`scene_${t}`,a=(f=n.scenes)==null?void 0:f[i];if(!a)throw new Error(`Scene ${i} not found in master JSON`);const r=n.global_style||{},l=n.elements||{},o=n.project_metadata||{},c=a.elements_present||[];return{...this.extractTechnicalSpecs(s,o),scene_id:parseInt(t.replace("scene_","")),natural_description:a.natural_description||"",action_summary:a.action_summary||"",locations_text:this.buildLocationText(c,l,i),characters_text:this.buildCharacterText(c,l,i),props_text:this.buildPropsText(c,l,i),actions_text:this.buildActionsText(c,l,i),interactions_text:this.buildInteractionsText(a.element_interactions||[]),camera_type:a.camera_type||"",composition_approach:a.composition_approach||a.lighting_approach||"",color_primary:((d=r.color_palette)==null?void 0:d.primary)||"",color_secondary:((m=r.color_palette)==null?void 0:m.secondary)||"",line_work:((v=r.rendering_style)==null?void 0:v.line_work)||"",shading:((b=r.rendering_style)==null?void 0:b.shading)||"",framing:((S=r.composition)==null?void 0:S.framing)||"",depth:((p=r.composition)==null?void 0:p.depth)||"",overall_mood:((g=r.mood_style)==null?void 0:g.overall_mood)||a.mood||""}}static extractTechnicalSpecs(t,n){const s=new Date().toISOString().slice(0,19).replace(/[-:]/g,"_").replace("T","_");return{image_engine:(t==null?void 0:t.image_engine)||"FLUX DEV",base_url:(t==null?void 0:t.base_url)||"https://queue.fal.run",model_endpoint:(t==null?void 0:t.model_endpoint)||"fal-ai/flux/dev",project_dest_folder:(t==null?void 0:t.project_dest_folder)||`${n.title||"PROJECT"}_${s}`,max_prompt_length:(t==null?void 0:t.max_prompt_length)||800,aspect_ratio:(t==null?void 0:t.aspect_ratio)||"16:9"}}static buildLocationText(t,n,s){return t.filter(a=>{var r;return((r=n[a])==null?void 0:r.element_type)==="location"}).map(a=>{var f;const r=n[a],l=r.base_description||"",o=r.consistency_rules||[],c=(f=r.variants_by_scene)==null?void 0:f[s];let u=l;if(o.length>0&&(u+=`
Consistency Rules: ${o.join("; ")}`),c){const d=[c.view_angle,c.focus_area,c.lighting_state,c.architectural_details].filter(Boolean).join(", ");d&&(u+=`
Scene Context: ${d}`)}return u}).join(`

`)}static buildCharacterText(t,n,s){return t.filter(a=>{var r;return((r=n[a])==null?void 0:r.element_type)==="character"}).map(a=>{var f;const r=n[a],l=r.base_description||"",o=r.consistency_rules||[],c=(f=r.variants_by_scene)==null?void 0:f[s];let u=l;if(o.length>0&&(u+=`
Consistency Rules: ${o.join("; ")}`),c){const d=[c.action,c.position,c.expression].filter(Boolean).join(", ");d&&(u+=`
Scene Behavior: ${d}`)}return u}).join(`

`)}static buildPropsText(t,n,s){return t.filter(a=>{var r;return((r=n[a])==null?void 0:r.element_type)==="prop"}).map(a=>{var f;const r=n[a],l=r.base_description||"",o=r.consistency_rules||[],c=(f=r.variants_by_scene)==null?void 0:f[s];let u=l;if(o.length>0&&(u+=`
Consistency Rules: ${o.join("; ")}`),c){const d=[c.state,c.interaction_mode,c.visibility].filter(Boolean).join(", ");d&&(u+=`
Scene State: ${d}`)}return u}).join(`

`)}static buildActionsText(t,n,s){return t.map(i=>{var o;const a=n[i],r=(o=a.variants_by_scene)==null?void 0:o[s];if(!r)return`${i}: positioned at in scene`;let l=`${i}:`;return a.element_type==="character"?(l+=` ${r.action||"present"} at ${r.position||"in scene"}`,r.props_interaction&&(l+=`
Interacting with: ${r.props_interaction}`)):a.element_type==="location"?l+=` positioned at ${r.camera_position||"in scene"}`:a.element_type==="prop"?l+=` positioned at ${r.position_relative||"in scene"}`:l+=" positioned at in scene",l}).join(`

`)}static buildInteractionsText(t){return t.map(n=>n.description||`${n.primary_element} ${n.interaction_type} ${n.secondary_element}`).join(`
`)}}class W0{}class tE extends W0{constructor(){super(...arguments),this.name="openai"}async generatePrompt(t,n,s){var i,a,r,l;try{const{OpenAI:o}=await Es(async()=>{const{OpenAI:d}=await import("./index-DE0nlkNR.js");return{OpenAI:d}},[]),u=await new o({apiKey:"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",dangerouslyAllowBrowser:!0}).chat.completions.create({model:(s==null?void 0:s.model)||"gpt-4-turbo",messages:[{role:"system",content:t},{role:"user",content:n}],max_tokens:(s==null?void 0:s.max_tokens)||1e3,temperature:(s==null?void 0:s.temperature)||.7}),f=(a=(i=u.choices[0])==null?void 0:i.message)==null?void 0:a.content;if(!f)throw new Error("No content received from OpenAI");return{success:!0,content:f,usage:{promptTokens:((r=u.usage)==null?void 0:r.prompt_tokens)||0,completionTokens:((l=u.usage)==null?void 0:l.completion_tokens)||0},provider:"openai"}}catch(o){return{success:!1,content:"",error:`OpenAI Error: ${o.message}`,provider:"openai"}}}}class nE extends W0{constructor(){super(...arguments),this.name="claude"}async generatePrompt(t,n,s){try{const{Anthropic:i}=await Es(async()=>{const{Anthropic:o}=await import("./index-CauCVHbN.js");return{Anthropic:o}},[]),r=await new i({apiKey:"your_anthropic_api_key_here",dangerouslyAllowBrowser:!0}).messages.create({model:(s==null?void 0:s.model)||"claude-3-sonnet-20240229",max_tokens:(s==null?void 0:s.max_tokens)||1e3,temperature:(s==null?void 0:s.temperature)||.7,system:t,messages:[{role:"user",content:n}]}),l=r.content[0];if(!l||l.type!=="text")throw new Error("No text content received from Claude");return{success:!0,content:l.text,usage:{promptTokens:r.usage.input_tokens,completionTokens:r.usage.output_tokens},provider:"claude"}}catch(i){return{success:!1,content:"",error:`Claude Error: ${i.message}`,provider:"claude"}}}}const Zd=class Zd{static getProvider(t="openai"){const n=this.providers.get(t);if(!n)throw new Error(`Unknown LLM provider: ${t}`);return n}static getAvailableProviders(){return Array.from(this.providers.keys())}static async testProvider(t){try{return(await this.getProvider(t).generatePrompt("You are a test assistant.",'Say "test successful" in JSON format: {"status": "success"}',{model:t==="openai"?"gpt-3.5-turbo":"claude-3-haiku-20240307",max_tokens:50,temperature:0})).success}catch(n){return console.error(`Provider ${t} test failed:`,n),!1}}};Zd.providers=new Map([["openai",new tE],["claude",new nE]]);let wa=Zd;class Hu{constructor(){this.config=null,this.defaultProvider="openai"}async initialize(){var t;try{if(this.config=await J0(),!((t=this.config)!=null&&t.start_frame_prompt_generation))throw new Error("LLM configuration not found - please configure prompts in Config tab");console.log("LLM Service initialized with config:",{hasSystemPrompt:!!this.config.start_frame_prompt_generation.system_prompt,hasUserPrompt:!!this.config.start_frame_prompt_generation.user_prompt,defaultProvider:this.defaultProvider})}catch(n){throw console.error("LLM Service initialization failed:",n),n}}async generateSceneImagePrompt(t,n,s={}){var i,a,r,l,o,c;try{this.config||await this.initialize();const u=s.provider||this.defaultProvider;console.log(`Generating prompt for ${t} using ${u}...`);const f=eE.transformSceneForPrompt(t,n,s.extractionMetadata),d=this.config.start_frame_prompt_generation.system_prompt,m=this.config.start_frame_prompt_generation.user_prompt;if(!d||!m)throw new Error("System or user prompt not configured");const v=ip.formatForLLM(d),b=ip.formatForLLM(m),S={masterJSON:n,sceneId:t.startsWith("scene_")?t:`scene_${t}`,currentScene:f},p=Wj.processTemplate(b,S),g=wa.getProvider(u),y={model:((a=(i=this.config.llm_providers)==null?void 0:i[u])==null?void 0:a.model)||(u==="openai"?"gpt-4-turbo":"claude-3-sonnet-20240229"),max_tokens:((l=(r=this.config.llm_providers)==null?void 0:r[u])==null?void 0:l.max_tokens)||1e3,temperature:((c=(o=this.config.llm_providers)==null?void 0:o[u])==null?void 0:c.temperature)||.7};console.log("Calling LLM with:",{provider:u,model:y.model,systemPromptLength:v.length,userPromptLength:p.length});const _=await g.generatePrompt(v,p,y);if(!_.success)throw new Error(_.error||"LLM call failed");let w;try{w=JSON.parse(_.content)}catch{w={scene_id:parseInt(t.replace("scene_","")),prompt:_.content.trim(),character_count:_.content.length}}const E=w.prompt||w.content||_.content,x=w.character_count||E.length;return console.log(` Generated prompt for ${t}:`,{provider:_.provider,promptLength:E.length,characterCount:x,usage:_.usage}),{success:!0,sceneId:t,generatedPrompt:E,characterCount:x,provider:_.provider,usage:_.usage}}catch(u){return console.error(` Failed to generate prompt for ${t}:`,u),{success:!1,sceneId:t,error:u.message||"Unknown error occurred"}}}async generateAllScenePrompts(t,n={}){var l,o;const s=Object.keys(t.scenes||{}),i=[],a=[];console.log(` Starting bulk prompt generation for ${s.length} scenes...`);for(let c=0;c<s.length;c++){const u=s[c];(l=n.onProgress)==null||l.call(n,c,s.length,u);try{const f=await this.generateSceneImagePrompt(u,t,{provider:n.provider,extractionMetadata:n.extractionMetadata});i.push(f),!f.success&&f.error&&a.push(`${u}: ${f.error}`)}catch(f){const d={success:!1,sceneId:u,error:f.message};i.push(d),a.push(`${u}: ${f.message}`)}c<s.length-1&&await new Promise(f=>setTimeout(f,200))}(o=n.onProgress)==null||o.call(n,s.length,s.length,"complete");const r=i.filter(c=>c.success).length;return console.log(" Bulk generation complete:",{totalScenes:s.length,successfulScenes:r,failedScenes:s.length-r,errors:a.length}),{success:r===s.length,totalScenes:s.length,successfulScenes:r,results:i,errors:a}}static updateMasterJSONWithPrompts(t,n){const s={...t},i=[];return s.scenes||(s.scenes={}),n.forEach(a=>{if(a.success&&a.generatedPrompt){const r=a.sceneId.startsWith("scene_")?a.sceneId:`scene_${a.sceneId}`;s.scenes[r]||(s.scenes[r]={}),s.scenes[r].scene_frame_prompt=a.generatedPrompt,s.scenes[r].prompt_metadata={generated_at:new Date().toISOString(),provider:a.provider,character_count:a.characterCount,usage:a.usage},i.push(r)}}),console.log(` Updated master JSON with prompts for ${i.length} scenes:`,i),{updatedJSON:s,updatedScenes:i}}async testProvider(t){try{return await wa.testProvider(t)}catch(n){return console.error(`Provider ${t} test failed:`,n),!1}}getAvailableProviders(){return wa.getAvailableProviders()}setDefaultProvider(t){this.defaultProvider=t}}const un=new Hu;function sE(){const[e,t]=T.useState({isGenerating:!1,isInitializing:!1,progress:{completed:0,total:0,currentScene:"",percentage:0},lastResult:null,error:null,availableProviders:["openai","claude"],currentProvider:"openai"}),n=T.useCallback(async()=>{t(f=>({...f,isInitializing:!0,error:null}));try{await un.initialize();const f=un.getAvailableProviders();return t(d=>({...d,isInitializing:!1,availableProviders:f})),!0}catch(f){return t(d=>({...d,isInitializing:!1,error:`Initialization failed: ${f.message}`})),!1}},[]),s=T.useCallback(async(f,d,m={})=>{var v;t(b=>({...b,isGenerating:!0,error:null,progress:{completed:0,total:1,currentScene:f,percentage:0}}));try{un.getAvailableProviders||await n();const b=await un.generateSceneImagePrompt(f,d,{provider:m.provider||e.currentProvider,extractionMetadata:m.extractionMetadata});if(b.success&&m.saveToDatabase!==!1){const{updatedJSON:S}=Hu.updateMasterJSONWithPrompts(d,[b]);try{await $u(((v=d.project_metadata)==null?void 0:v.id)||"unknown",S,`Generated image prompt for ${f}`),console.log(` Saved prompt for ${f} to database`)}catch(p){console.error(` Failed to save prompt for ${f}:`,p)}}return t(S=>({...S,isGenerating:!1,lastResult:b,progress:{completed:1,total:1,currentScene:f,percentage:100}})),b}catch(b){const S={success:!1,sceneId:f,error:b.message};return t(p=>({...p,isGenerating:!1,lastResult:S,error:b.message})),S}},[e.currentProvider,n]),i=T.useCallback(async(f,d={})=>{var m;t(v=>({...v,isGenerating:!0,error:null,progress:{completed:0,total:0,currentScene:"initializing",percentage:0}}));try{un.getAvailableProviders||await n();const v=await un.generateAllScenePrompts(f,{provider:d.provider||e.currentProvider,extractionMetadata:d.extractionMetadata,onProgress:(b,S,p)=>{const g=S>0?Math.round(b/S*100):0;t(y=>({...y,progress:{completed:b,total:S,currentScene:p,percentage:g}}))}});if(v.successfulScenes>0&&d.saveToDatabase!==!1){const{updatedJSON:b,updatedScenes:S}=Hu.updateMasterJSONWithPrompts(f,v.results);try{await $u(((m=f.project_metadata)==null?void 0:m.id)||"unknown",b,`Generated image prompts for ${v.successfulScenes} scenes`),console.log(` Saved prompts for ${S.length} scenes to database`)}catch(p){console.error(" Failed to save prompts to database:",p)}}return t(b=>({...b,isGenerating:!1,lastResult:v,error:v.errors.length>0?`${v.errors.length} scenes failed`:null})),v}catch(v){const b={success:!1,totalScenes:0,successfulScenes:0,results:[],errors:[v.message]};return t(S=>({...S,isGenerating:!1,lastResult:b,error:v.message})),b}},[e.currentProvider,n]),a=T.useCallback(async f=>{try{return await un.testProvider(f)}catch(d){return console.error(`Provider ${f} test failed:`,d),!1}},[]),r=T.useCallback(f=>{un.setDefaultProvider(f),t(d=>({...d,currentProvider:f}))},[]),l=T.useCallback(()=>{t(f=>({...f,error:null}))},[]),o=T.useCallback(()=>{t(f=>({...f,lastResult:null}))},[]),c=T.useMemo(()=>!e.isInitializing&&!e.error,[e.isInitializing,e.error]),u=T.useMemo(()=>e.lastResult!==null,[e.lastResult]);return{...e,isReady:c,hasResults:u,initializeService:n,generateScenePrompt:s,generateAllPrompts:i,testProvider:a,setProvider:r,clearError:l,clearResult:o}}function iE({phase:e,projectId:t,projectName:n,masterJSON:s,onContentUpdate:i,hasUnsavedChanges:a,onJsonChange:r}){const{generateAllPrompts:l,isGenerating:o,isReady:c,progress:u,error:f,currentProvider:d,setProvider:m,initializeService:v}=sE();T.useEffect(()=>{console.log(" ScenesFrameGenerationModule: Initializing LLM service..."),v().then(_=>{console.log(` LLM service initialization: ${_?"SUCCESS":"FAILED"}`)})},[]);const b=s!=null&&s.scenes?Object.keys(s.scenes):[],S=b.length,p=b.filter(_=>{var w;return(w=s.scenes[_])==null?void 0:w.scene_frame_prompt}).length;console.log(" Scenes Frame Generation State:",{totalScenes:S,scenesWithPrompts:p,hasUnsavedChanges:a,isGenerating:o,isReady:c,currentProvider:d});const g=async()=>{console.log(" Starting bulk prompt generation for all scenes..."),console.log(" Bulk generation context:",{totalScenes:S,scenes:b,masterJSONKeys:Object.keys(s||{}),provider:d});try{const _=await l(s,{provider:d,saveToDatabase:!1});if(console.log(" Bulk generation complete:",{success:_.success,totalScenes:_.totalScenes,successfulScenes:_.successfulScenes,failedScenes:_.totalScenes-_.successfulScenes,errors:_.errors}),_.successfulScenes>0){const w={...s};_.results.forEach(E=>{var x;if(E.success&&E.generatedPrompt){const j=E.sceneId.startsWith("scene_")?E.sceneId:`scene_${E.sceneId}`;w.scenes[j]||(w.scenes[j]={}),w.scenes[j].scene_frame_prompt=E.generatedPrompt,w.scenes[j].prompt_metadata={generated_at:new Date().toISOString(),provider:E.provider,character_count:E.characterCount,usage:E.usage},console.log(` Updated scene ${j} with generated prompt (${(x=E.generatedPrompt)==null?void 0:x.length} chars)`)}}),console.log(" Master JSON updated with all successful prompts"),i(w),r(JSON.stringify(w,null,2))}}catch(_){console.error(" Exception during bulk generation:",_)}},y=async()=>{console.log(" Single scene generation - placeholder for future implementation")};return h.jsx("div",{style:{padding:"0.5rem"},children:h.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[h.jsxs("div",{style:{flex:1},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",fontSize:"0.875rem",color:"#999",marginBottom:"0.375rem"},children:[h.jsxs("span",{children:["Phase 3: ",h.jsx("strong",{style:{color:"#66ccff"},children:"Scenes Frame Generation"})]}),h.jsx("span",{children:""}),h.jsxs("span",{children:["Status: ",h.jsx("strong",{className:e.status==="completed"?"script-status-completed":"script-status-progress",children:e.status==="completed"?"Completed":"Available"})]}),h.jsx("span",{children:""}),h.jsxs("span",{children:["Scenes: ",h.jsxs("strong",{className:"script-db-connected",children:[p,"/",S]})]})]}),h.jsx("div",{style:{marginBottom:"0.25rem"},children:h.jsx("p",{style:{color:"#cccccc",fontSize:"0.875rem",margin:0},children:"Generate image prompts for scene frames using LLM analysis of script elements"})}),h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",fontSize:"0.875rem"},children:[h.jsx("span",{className:c?"text-success":"text-error",children:c?c?h.jsx(h.Fragment,{children:" Ready"}):h.jsx(h.Fragment,{children:" Loading"}):h.jsx(h.Fragment,{children:" LLM Error"})}),f&&h.jsxs("span",{className:"text-error",children:[" ",f]}),a&&h.jsx("span",{className:"text-warning",children:" Unsaved changes"}),h.jsx("span",{className:d==="openai"?"text-success":"text-accent",children:d==="openai"?" OPENAI":" CLAUDE"}),o&&u.total>0&&h.jsxs("span",{className:"text-muted",style:{fontSize:"0.75rem"},children:["Progress: ",u.completed,"/",u.total," (",u.percentage,"%)"]})]})]}),h.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"0.375rem"},children:[h.jsx("div",{children:h.jsxs("label",{style:{display:"flex",alignItems:"center",fontSize:"0.875rem",color:"#cccccc"},children:[h.jsx("input",{type:"checkbox",checked:d==="claude",onChange:_=>m(_.target.checked?"claude":"openai"),style:{marginRight:"0.375rem"},disabled:o}),"Use Claude (vs OpenAI)"]})}),h.jsxs("div",{style:{display:"flex",gap:"0.375rem"},children:[h.jsx("button",{onClick:g,disabled:!c||o||S===0,className:`btn text-xs px-md py-xs ${o?"btn-secondary":"btn-primary"}`,children:o?" Generating...":" Generate All"}),h.jsx("button",{onClick:y,disabled:!c||o||S===0,className:"btn text-xs px-md py-xs btn-secondary",children:" Single Scene"})]})]})]})})}function aE({activeView:e,onViewChange:t,masterJSON:n}){const s=[{id:"json",label:"JSON",icon:"{ }",description:"Raw data view"},{id:"timeline",label:"Timeline",icon:"",description:"Visual timeline interface"},{id:"elements",label:"Elements",icon:"",description:"Element management (Phase 2+)"},{id:"style",label:"Style",icon:"",description:"Global style control"},{id:"config",label:"Config",icon:"",description:"LLM configuration (Admin)"}],i=(n==null?void 0:n.scenes)&&typeof n.scenes=="object"&&Object.keys(n.scenes).length>0,a=l=>l==="json"||l==="timeline"?!0:l==="style"?i:l!=="elements",r=l=>{var o;return l==="elements"?"Available in Phase 2+":l==="style"&&!i?"Complete Phase 1 JSON generation first":((o=s.find(c=>c.id===l))==null?void 0:o.description)||""};return h.jsx("div",{className:"project-view-navigation",children:h.jsx("div",{className:"flex gap-md p-md",children:s.map(l=>{const o=a(l.id);return h.jsxs("button",{onClick:()=>o&&t(l.id),className:`
                flex-1 flex items-center justify-center transition-fast cursor-pointer
                border border-solid rounded-lg font-semibold
                ${e===l.id?"bg-accent border-focus text-primary shadow-md":"bg-secondary border-default text-secondary hover:text-primary hover:bg-accent hover:border-light"}
                ${o?"":"opacity-50 cursor-not-allowed"}
              `,style:{padding:"1rem 1.5rem",fontSize:"1rem",minHeight:"3rem"},disabled:!o,title:r(l.id),children:[h.jsx("span",{className:"font-semibold",children:l.label}),(l.id==="elements"||l.id==="style")&&h.jsx("span",{className:"text-xs text-muted",children:l.id==="elements"?"(Phase 2+)":"(Soon)"})]},l.id)})})})}const gd=T.createContext({});function yd(e){const t=T.useRef(null);return t.current===null&&(t.current=e()),t.current}const vd=typeof window<"u",eb=vd?T.useLayoutEffect:T.useEffect,xo=T.createContext(null);function bd(e,t){e.indexOf(t)===-1&&e.push(t)}function _d(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const sn=(e,t,n)=>n>t?t:n<e?e:n;let Sd=()=>{};const an={},tb=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function nb(e){return typeof e=="object"&&e!==null}const sb=e=>/^0[^.\s]+$/u.test(e);function xd(e){let t;return()=>(t===void 0&&(t=e()),t)}const vt=e=>e,rE=(e,t)=>n=>t(e(n)),br=(...e)=>e.reduce(rE),Xa=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class wd{constructor(){this.subscriptions=[]}add(t){return bd(this.subscriptions,t),()=>_d(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let a=0;a<i;a++){const r=this.subscriptions[a];r&&r(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kt=e=>e*1e3,Ut=e=>e/1e3;function ib(e,t){return t?e*(1e3/t):0}const ab=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,lE=1e-7,oE=12;function cE(e,t,n,s,i){let a,r,l=0;do r=t+(n-t)/2,a=ab(r,s,i)-e,a>0?n=r:t=r;while(Math.abs(a)>lE&&++l<oE);return r}function _r(e,t,n,s){if(e===t&&n===s)return vt;const i=a=>cE(a,0,1,e,n);return a=>a===0||a===1?a:ab(i(a),t,s)}const rb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,lb=e=>t=>1-e(1-t),ob=_r(.33,1.53,.69,.99),Td=lb(ob),cb=rb(Td),ub=e=>(e*=2)<1?.5*Td(e):.5*(2-Math.pow(2,-10*(e-1))),jd=e=>1-Math.sin(Math.acos(e)),fb=lb(jd),db=rb(jd),uE=_r(.42,0,1,1),fE=_r(0,0,.58,1),hb=_r(.42,0,.58,1),dE=e=>Array.isArray(e)&&typeof e[0]!="number",mb=e=>Array.isArray(e)&&typeof e[0]=="number",hE={linear:vt,easeIn:uE,easeInOut:hb,easeOut:fE,circIn:jd,circInOut:db,circOut:fb,backIn:Td,backInOut:cb,backOut:ob,anticipate:ub},mE=e=>typeof e=="string",ap=e=>{if(mb(e)){Sd(e.length===4);const[t,n,s,i]=e;return _r(t,n,s,i)}else if(mE(e))return hE[e];return e},Hr=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function pE(e,t){let n=new Set,s=new Set,i=!1,a=!1;const r=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function o(u){r.has(u)&&(c.schedule(u),e()),u(l)}const c={schedule:(u,f=!1,d=!1)=>{const v=d&&i?n:s;return f&&r.add(u),v.has(u)||v.add(u),u},cancel:u=>{s.delete(u),r.delete(u)},process:u=>{if(l=u,i){a=!0;return}i=!0,[n,s]=[s,n],n.forEach(o),n.clear(),i=!1,a&&(a=!1,c.process(u))}};return c}const gE=40;function pb(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,r=Hr.reduce((y,_)=>(y[_]=pE(a),y),{}),{setup:l,read:o,resolveKeyframes:c,preUpdate:u,update:f,preRender:d,render:m,postRender:v}=r,b=()=>{const y=an.useManualTiming?i.timestamp:performance.now();n=!1,an.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(y-i.timestamp,gE),1)),i.timestamp=y,i.isProcessing=!0,l.process(i),o.process(i),c.process(i),u.process(i),f.process(i),d.process(i),m.process(i),v.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(b))},S=()=>{n=!0,s=!0,i.isProcessing||e(b)};return{schedule:Hr.reduce((y,_)=>{const w=r[_];return y[_]=(E,x=!1,j=!1)=>(n||S(),w.schedule(E,x,j)),y},{}),cancel:y=>{for(let _=0;_<Hr.length;_++)r[Hr[_]].cancel(y)},state:i,steps:r}}const{schedule:ue,cancel:Bn,state:De,steps:_c}=pb(typeof requestAnimationFrame<"u"?requestAnimationFrame:vt,!0);let rl;function yE(){rl=void 0}const Qe={now:()=>(rl===void 0&&Qe.set(De.isProcessing||an.useManualTiming?De.timestamp:performance.now()),rl),set:e=>{rl=e,queueMicrotask(yE)}},gb=e=>t=>typeof t=="string"&&t.startsWith(e),Ed=gb("--"),vE=gb("var(--"),Ad=e=>vE(e)?bE.test(e.split("/*")[0].trim()):!1,bE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Pi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ka={...Pi,transform:e=>sn(0,1,e)},qr={...Pi,default:1},Ta=e=>Math.round(e*1e5)/1e5,Cd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _E(e){return e==null}const SE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Od=(e,t)=>n=>!!(typeof n=="string"&&SE.test(n)&&n.startsWith(e)||t&&!_E(n)&&Object.prototype.hasOwnProperty.call(n,t)),yb=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,a,r,l]=s.match(Cd);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(r),alpha:l!==void 0?parseFloat(l):1}},xE=e=>sn(0,255,e),Sc={...Pi,transform:e=>Math.round(xE(e))},rs={test:Od("rgb","red"),parse:yb("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Sc.transform(e)+", "+Sc.transform(t)+", "+Sc.transform(n)+", "+Ta(Ka.transform(s))+")"};function wE(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const qu={test:Od("#"),parse:wE,transform:rs.transform},Sr=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),hn=Sr("deg"),Pt=Sr("%"),k=Sr("px"),TE=Sr("vh"),jE=Sr("vw"),rp={...Pt,parse:e=>Pt.parse(e)/100,transform:e=>Pt.transform(e*100)},Ws={test:Od("hsl","hue"),parse:yb("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Pt.transform(Ta(t))+", "+Pt.transform(Ta(n))+", "+Ta(Ka.transform(s))+")"},be={test:e=>rs.test(e)||qu.test(e)||Ws.test(e),parse:e=>rs.test(e)?rs.parse(e):Ws.test(e)?Ws.parse(e):qu.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?rs.transform(e):Ws.transform(e),getAnimatableNone:e=>{const t=be.parse(e);return t.alpha=0,be.transform(t)}},EE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function AE(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Cd))==null?void 0:t.length)||0)+(((n=e.match(EE))==null?void 0:n.length)||0)>0}const vb="number",bb="color",CE="var",OE="var(",lp="${}",NE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fa(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(NE,o=>(be.test(o)?(s.color.push(a),i.push(bb),n.push(be.parse(o))):o.startsWith(OE)?(s.var.push(a),i.push(CE),n.push(o)):(s.number.push(a),i.push(vb),n.push(parseFloat(o))),++a,lp)).split(lp);return{values:n,split:l,indexes:s,types:i}}function _b(e){return Fa(e).values}function Sb(e){const{split:t,types:n}=Fa(e),s=t.length;return i=>{let a="";for(let r=0;r<s;r++)if(a+=t[r],i[r]!==void 0){const l=n[r];l===vb?a+=Ta(i[r]):l===bb?a+=be.transform(i[r]):a+=i[r]}return a}}const RE=e=>typeof e=="number"?0:be.test(e)?be.getAnimatableNone(e):e;function DE(e){const t=_b(e);return Sb(e)(t.map(RE))}const zn={test:AE,parse:_b,createTransformer:Sb,getAnimatableNone:DE};function xc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ME({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,a=0,r=0;if(!t)i=a=r=n;else{const l=n<.5?n*(1+t):n+t-n*t,o=2*n-l;i=xc(o,l,e+1/3),a=xc(o,l,e),r=xc(o,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(r*255),alpha:s}}function Hl(e,t){return n=>n>0?t:e}const de=(e,t,n)=>e+(t-e)*n,wc=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},kE=[qu,rs,Ws],UE=e=>kE.find(t=>t.test(e));function op(e){const t=UE(e);if(!t)return!1;let n=t.parse(e);return t===Ws&&(n=ME(n)),n}const cp=(e,t)=>{const n=op(e),s=op(t);if(!n||!s)return Hl(e,t);const i={...n};return a=>(i.red=wc(n.red,s.red,a),i.green=wc(n.green,s.green,a),i.blue=wc(n.blue,s.blue,a),i.alpha=de(n.alpha,s.alpha,a),rs.transform(i))},Gu=new Set(["none","hidden"]);function PE(e,t){return Gu.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function LE(e,t){return n=>de(e,t,n)}function Nd(e){return typeof e=="number"?LE:typeof e=="string"?Ad(e)?Hl:be.test(e)?cp:zE:Array.isArray(e)?xb:typeof e=="object"?be.test(e)?cp:VE:Hl}function xb(e,t){const n=[...e],s=n.length,i=e.map((a,r)=>Nd(a)(a,t[r]));return a=>{for(let r=0;r<s;r++)n[r]=i[r](a);return n}}function VE(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=Nd(e[i])(e[i],t[i]));return i=>{for(const a in s)n[a]=s[a](i);return n}}function BE(e,t){const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],r=e.indexes[a][s[a]],l=e.values[r]??0;n[i]=l,s[a]++}return n}const zE=(e,t)=>{const n=zn.createTransformer(t),s=Fa(e),i=Fa(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?Gu.has(e)&&!i.values.length||Gu.has(t)&&!s.values.length?PE(e,t):br(xb(BE(s,i),i.values),n):Hl(e,t)};function wb(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?de(e,t,n):Nd(e)(e,t)}const $E=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ue.update(t,n),stop:()=>Bn(t),now:()=>De.isProcessing?De.timestamp:Qe.now()}},Tb=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)s+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},ql=2e4;function Rd(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<ql;)t+=n,s=e.next(t);return t>=ql?1/0:t}function HE(e,t=100,n){const s=n({...e,keyframes:[0,t]}),i=Math.min(Rd(s),ql);return{type:"keyframes",ease:a=>s.next(i*a).value/t,duration:Ut(i)}}const qE=5;function jb(e,t,n){const s=Math.max(t-qE,0);return ib(n-e(s),t-s)}const he={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Tc=.001;function GE({duration:e=he.duration,bounce:t=he.bounce,velocity:n=he.velocity,mass:s=he.mass}){let i,a,r=1-t;r=sn(he.minDamping,he.maxDamping,r),e=sn(he.minDuration,he.maxDuration,Ut(e)),r<1?(i=c=>{const u=c*r,f=u*e,d=u-n,m=Yu(c,r),v=Math.exp(-f);return Tc-d/m*v},a=c=>{const f=c*r*e,d=f*n+n,m=Math.pow(r,2)*Math.pow(c,2)*e,v=Math.exp(-f),b=Yu(Math.pow(c,2),r);return(-i(c)+Tc>0?-1:1)*((d-m)*v)/b}):(i=c=>{const u=Math.exp(-c*e),f=(c-n)*e+1;return-Tc+u*f},a=c=>{const u=Math.exp(-c*e),f=(n-c)*(e*e);return u*f});const l=5/e,o=XE(i,a,l);if(e=kt(e),isNaN(o))return{stiffness:he.stiffness,damping:he.damping,duration:e};{const c=Math.pow(o,2)*s;return{stiffness:c,damping:r*2*Math.sqrt(s*c),duration:e}}}const YE=12;function XE(e,t,n){let s=n;for(let i=1;i<YE;i++)s=s-e(s)/t(s);return s}function Yu(e,t){return e*Math.sqrt(1-t*t)}const KE=["duration","bounce"],FE=["stiffness","damping","mass"];function up(e,t){return t.some(n=>e[n]!==void 0)}function QE(e){let t={velocity:he.velocity,stiffness:he.stiffness,damping:he.damping,mass:he.mass,isResolvedFromDuration:!1,...e};if(!up(e,FE)&&up(e,KE))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,a=2*sn(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:he.mass,stiffness:i,damping:a}}else{const n=GE(e);t={...t,...n,mass:he.mass},t.isResolvedFromDuration=!0}return t}function Gl(e=he.visualDuration,t=he.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const a=n.keyframes[0],r=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:o,damping:c,mass:u,duration:f,velocity:d,isResolvedFromDuration:m}=QE({...n,velocity:-Ut(n.velocity||0)}),v=d||0,b=c/(2*Math.sqrt(o*u)),S=r-a,p=Ut(Math.sqrt(o/u)),g=Math.abs(S)<5;s||(s=g?he.restSpeed.granular:he.restSpeed.default),i||(i=g?he.restDelta.granular:he.restDelta.default);let y;if(b<1){const w=Yu(p,b);y=E=>{const x=Math.exp(-b*p*E);return r-x*((v+b*p*S)/w*Math.sin(w*E)+S*Math.cos(w*E))}}else if(b===1)y=w=>r-Math.exp(-p*w)*(S+(v+p*S)*w);else{const w=p*Math.sqrt(b*b-1);y=E=>{const x=Math.exp(-b*p*E),j=Math.min(w*E,300);return r-x*((v+b*p*S)*Math.sinh(j)+w*S*Math.cosh(j))/w}}const _={calculatedDuration:m&&f||null,next:w=>{const E=y(w);if(m)l.done=w>=f;else{let x=w===0?v:0;b<1&&(x=w===0?kt(v):jb(y,w,E));const j=Math.abs(x)<=s,C=Math.abs(r-E)<=i;l.done=j&&C}return l.value=l.done?r:E,l},toString:()=>{const w=Math.min(Rd(_),ql),E=Tb(x=>_.next(w*x).value,w,30);return w+"ms "+E},toTransition:()=>{}};return _}Gl.applyToOptions=e=>{const t=HE(e,100,Gl);return e.ease=t.ease,e.duration=kt(t.duration),e.type="keyframes",e};function Xu({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:r,min:l,max:o,restDelta:c=.5,restSpeed:u}){const f=e[0],d={done:!1,value:f},m=j=>l!==void 0&&j<l||o!==void 0&&j>o,v=j=>l===void 0?o:o===void 0||Math.abs(l-j)<Math.abs(o-j)?l:o;let b=n*t;const S=f+b,p=r===void 0?S:r(S);p!==S&&(b=p-f);const g=j=>-b*Math.exp(-j/s),y=j=>p+g(j),_=j=>{const C=g(j),O=y(j);d.done=Math.abs(C)<=c,d.value=d.done?p:O};let w,E;const x=j=>{m(d.value)&&(w=j,E=Gl({keyframes:[d.value,v(d.value)],velocity:jb(y,j,d.value),damping:i,stiffness:a,restDelta:c,restSpeed:u}))};return x(0),{calculatedDuration:null,next:j=>{let C=!1;return!E&&w===void 0&&(C=!0,_(j),x(j)),w!==void 0&&j>=w?E.next(j-w):(!C&&_(j),d)}}}function IE(e,t,n){const s=[],i=n||an.mix||wb,a=e.length-1;for(let r=0;r<a;r++){let l=i(e[r],e[r+1]);if(t){const o=Array.isArray(t)?t[r]||vt:t;l=br(o,l)}s.push(l)}return s}function ZE(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const a=e.length;if(Sd(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const r=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=IE(t,s,i),o=l.length,c=u=>{if(r&&u<e[0])return t[0];let f=0;if(o>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const d=Xa(e[f],e[f+1],u);return l[f](d)};return n?u=>c(sn(e[0],e[a-1],u)):c}function JE(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=Xa(0,t,s);e.push(de(n,1,i))}}function WE(e){const t=[0];return JE(t,e.length-1),t}function eA(e,t){return e.map(n=>n*t)}function tA(e,t){return e.map(()=>t||hb).splice(0,e.length-1)}function ja({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=dE(s)?s.map(ap):ap(s),a={done:!1,value:t[0]},r=eA(n&&n.length===t.length?n:WE(t),e),l=ZE(r,t,{ease:Array.isArray(i)?i:tA(t,i)});return{calculatedDuration:e,next:o=>(a.value=l(o),a.done=o>=e,a)}}const nA=e=>e!==null;function Dd(e,{repeat:t,repeatType:n="loop"},s,i=1){const a=e.filter(nA),l=i<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||s===void 0?a[l]:s}const sA={decay:Xu,inertia:Xu,tween:ja,keyframes:ja,spring:Gl};function Eb(e){typeof e.type=="string"&&(e.type=sA[e.type])}class Md{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const iA=e=>e/100;class kd extends Md{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Qe.now()&&this.tick(Qe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Eb(t);const{type:n=ja,repeat:s=0,repeatDelay:i=0,repeatType:a,velocity:r=0}=t;let{keyframes:l}=t;const o=n||ja;o!==ja&&typeof l[0]!="number"&&(this.mixKeyframes=br(iA,wb(l[0],l[1])),l=[0,100]);const c=o({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=o({...t,keyframes:[...l].reverse(),velocity:-r})),c.calculatedDuration===null&&(c.calculatedDuration=Rd(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:i,mixKeyframes:a,mirroredGenerator:r,resolvedDuration:l,calculatedDuration:o}=this;if(this.startTime===null)return s.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:d,repeatDelay:m,type:v,onUpdate:b,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const p=this.currentTime-c*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?p<0:p>i;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let y=this.currentTime,_=s;if(f){const j=Math.min(this.currentTime,i)/l;let C=Math.floor(j),O=j%1;!O&&j>=1&&(O=1),O===1&&C--,C=Math.min(C,f+1),!!(C%2)&&(d==="reverse"?(O=1-O,m&&(O-=m/l)):d==="mirror"&&(_=r)),y=sn(0,1,O)*l}const w=g?{done:!1,value:u[0]}:_.next(y);a&&(w.value=a(w.value));let{done:E}=w;!g&&o!==null&&(E=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return x&&v!==Xu&&(w.value=Dd(u,this.options,S,this.speed)),b&&b(w.value),x&&this.finish(),w}then(t,n){return this.finished.then(t,n)}get duration(){return Ut(this.calculatedDuration)}get time(){return Ut(this.currentTime)}set time(t){var n;t=kt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Qe.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ut(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=$E,startTime:n}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),(a=(i=this.options).onPlay)==null||a.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Qe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function aA(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ls=e=>e*180/Math.PI,Ku=e=>{const t=ls(Math.atan2(e[1],e[0]));return Fu(t)},rA={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Ku,rotateZ:Ku,skewX:e=>ls(Math.atan(e[1])),skewY:e=>ls(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Fu=e=>(e=e%360,e<0&&(e+=360),e),fp=Ku,dp=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),hp=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),lA={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:dp,scaleY:hp,scale:e=>(dp(e)+hp(e))/2,rotateX:e=>Fu(ls(Math.atan2(e[6],e[5]))),rotateY:e=>Fu(ls(Math.atan2(-e[2],e[0]))),rotateZ:fp,rotate:fp,skewX:e=>ls(Math.atan(e[4])),skewY:e=>ls(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Qu(e){return e.includes("scale")?1:0}function Iu(e,t){if(!e||e==="none")return Qu(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=lA,i=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=rA,i=l}if(!i)return Qu(t);const a=s[t],r=i[1].split(",").map(cA);return typeof a=="function"?a(r):r[a]}const oA=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Iu(n,t)};function cA(e){return parseFloat(e.trim())}const Li=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vi=new Set(Li),mp=e=>e===Pi||e===k,uA=new Set(["x","y","z"]),fA=Li.filter(e=>!uA.has(e));function dA(e){const t=[];return fA.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const gs={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Iu(t,"x"),y:(e,{transform:t})=>Iu(t,"y")};gs.translateX=gs.x;gs.translateY=gs.y;const ys=new Set;let Zu=!1,Ju=!1,Wu=!1;function Ab(){if(Ju){const e=Array.from(ys).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=dA(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([a,r])=>{var l;(l=s.getValue(a))==null||l.set(r)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Ju=!1,Zu=!1,ys.forEach(e=>e.complete(Wu)),ys.clear()}function Cb(){ys.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ju=!0)})}function hA(){Wu=!0,Cb(),Ab(),Wu=!1}class Ud{constructor(t,n,s,i,a,r=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=a,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(ys.add(this),Zu||(Zu=!0,ue.read(Cb),ue.resolveKeyframes(Ab))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),r=t[t.length-1];if(a!==void 0)t[0]=a;else if(s&&n){const l=s.readValue(n,r);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=r),i&&a===void 0&&i.set(t[0])}aA(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ys.delete(this)}cancel(){this.state==="scheduled"&&(ys.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const mA=e=>e.startsWith("--");function pA(e,t,n){mA(t)?e.style.setProperty(t,n):e.style[t]=n}const gA=xd(()=>window.ScrollTimeline!==void 0),yA={};function vA(e,t){const n=xd(e);return()=>yA[t]??n()}const Ob=vA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),aa=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,pp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:aa([0,.65,.55,1]),circOut:aa([.55,0,1,.45]),backIn:aa([.31,.01,.66,-.59]),backOut:aa([.33,1.53,.69,.99])};function Nb(e,t){if(e)return typeof e=="function"?Ob()?Tb(e,t):"ease-out":mb(e)?aa(e):Array.isArray(e)?e.map(n=>Nb(n,t)||pp.easeOut):pp[e]}function bA(e,t,n,{delay:s=0,duration:i=300,repeat:a=0,repeatType:r="loop",ease:l="easeOut",times:o}={},c=void 0){const u={[t]:n};o&&(u.offset=o);const f=Nb(l,i);Array.isArray(f)&&(u.easing=f);const d={delay:s,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:r==="reverse"?"alternate":"normal"};return c&&(d.pseudoElement=c),e.animate(u,d)}function Rb(e){return typeof e=="function"&&"applyToOptions"in e}function _A({type:e,...t}){return Rb(e)&&Ob()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class SA extends Md{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:i,pseudoElement:a,allowFlatten:r=!1,finalKeyframe:l,onComplete:o}=t;this.isPseudoElement=!!a,this.allowFlatten=r,this.options=t,Sd(typeof t.type!="string");const c=_A(t);this.animation=bA(n,s,i,c,a),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const u=Dd(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):pA(n,s,u),this.animation.cancel()}o==null||o(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Ut(Number(t))}get time(){return Ut(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=kt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&gA()?(this.animation.timeline=t,vt):n(this)}}const Db={anticipate:ub,backInOut:cb,circInOut:db};function xA(e){return e in Db}function wA(e){typeof e.ease=="string"&&xA(e.ease)&&(e.ease=Db[e.ease])}const gp=10;class TA extends SA{constructor(t){wA(t),Eb(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:i,element:a,...r}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new kd({...r,autoplay:!1}),o=kt(this.finishedTime??this.time);n.setWithVelocity(l.sample(o-gp).value,l.sample(o).value,gp),l.stop()}}const yp=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(zn.test(e)||e==="0")&&!e.startsWith("url("));function jA(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function EA(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],r=yp(i,t),l=yp(a,t);return!r||!l?!1:jA(e)||(n==="spring"||Rb(n))&&s}const AA=new Set(["opacity","clipPath","filter","transform"]),CA=xd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function OA(e){var u;const{motionValue:t,name:n,repeatDelay:s,repeatType:i,damping:a,type:r}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:c}=t.owner.getProps();return CA()&&n&&AA.has(n)&&(n!=="transform"||!c)&&!o&&!s&&i!=="mirror"&&a!==0&&r!=="inertia"}const NA=40;class RA extends Md{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:r="loop",keyframes:l,name:o,motionValue:c,element:u,...f}){var v;super(),this.stop=()=>{var b,S;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Qe.now();const d={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:a,repeatType:r,name:o,motionValue:c,element:u,...f},m=(u==null?void 0:u.KeyframeResolver)||Ud;this.keyframeResolver=new m(l,(b,S,p)=>this.onKeyframesResolved(b,S,d,!p),o,c,u),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,s,i){this.keyframeResolver=void 0;const{name:a,type:r,velocity:l,delay:o,isHandoff:c,onUpdate:u}=s;this.resolvedAt=Qe.now(),EA(t,a,r,l)||((an.instantAnimations||!o)&&(u==null||u(Dd(t,s,n))),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const d={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>NA?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},m=!c&&OA(d)?new TA({...d,element:d.motionValue.owner.current}):new kd(d);m.finished.then(()=>this.notifyFinished()).catch(vt),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),hA()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const DA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function MA(e){const t=DA.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}function Mb(e,t,n=1){const[s,i]=MA(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const r=a.trim();return tb(r)?parseFloat(r):r}return Ad(i)?Mb(i,t,n+1):i}function Pd(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const kb=new Set(["width","height","top","left","right","bottom",...Li]),kA={test:e=>e==="auto",parse:e=>e},Ub=e=>t=>t.test(e),Pb=[Pi,k,Pt,hn,jE,TE,kA],vp=e=>Pb.find(Ub(e));function UA(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||sb(e):!0}const PA=new Set(["brightness","contrast","saturate","opacity"]);function LA(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Cd)||[];if(!s)return e;const i=n.replace(s,"");let a=PA.has(t)?1:0;return s!==n&&(a*=100),t+"("+a+i+")"}const VA=/\b([a-z-]*)\(.*?\)/gu,ef={...zn,getAnimatableNone:e=>{const t=e.match(VA);return t?t.map(LA).join(" "):e}},bp={...Pi,transform:Math.round},BA={rotate:hn,rotateX:hn,rotateY:hn,rotateZ:hn,scale:qr,scaleX:qr,scaleY:qr,scaleZ:qr,skew:hn,skewX:hn,skewY:hn,distance:k,translateX:k,translateY:k,translateZ:k,x:k,y:k,z:k,perspective:k,transformPerspective:k,opacity:Ka,originX:rp,originY:rp,originZ:k},Ld={borderWidth:k,borderTopWidth:k,borderRightWidth:k,borderBottomWidth:k,borderLeftWidth:k,borderRadius:k,radius:k,borderTopLeftRadius:k,borderTopRightRadius:k,borderBottomRightRadius:k,borderBottomLeftRadius:k,width:k,maxWidth:k,height:k,maxHeight:k,top:k,right:k,bottom:k,left:k,padding:k,paddingTop:k,paddingRight:k,paddingBottom:k,paddingLeft:k,margin:k,marginTop:k,marginRight:k,marginBottom:k,marginLeft:k,backgroundPositionX:k,backgroundPositionY:k,...BA,zIndex:bp,fillOpacity:Ka,strokeOpacity:Ka,numOctaves:bp},zA={...Ld,color:be,backgroundColor:be,outlineColor:be,fill:be,stroke:be,borderColor:be,borderTopColor:be,borderRightColor:be,borderBottomColor:be,borderLeftColor:be,filter:ef,WebkitFilter:ef},Lb=e=>zA[e];function Vb(e,t){let n=Lb(e);return n!==ef&&(n=zn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const $A=new Set(["auto","none","0"]);function HA(e,t,n){let s=0,i;for(;s<e.length&&!i;){const a=e[s];typeof a=="string"&&!$A.has(a)&&Fa(a).values.length&&(i=e[s]),s++}if(i&&n)for(const a of t)e[a]=Vb(n,i)}class qA extends Ud{constructor(t,n,s,i,a){super(t,n,s,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let o=0;o<t.length;o++){let c=t[o];if(typeof c=="string"&&(c=c.trim(),Ad(c))){const u=Mb(c,n.current);u!==void 0&&(t[o]=u),o===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!kb.has(s)||t.length!==2)return;const[i,a]=t,r=vp(i),l=vp(a);if(r!==l)if(mp(r)&&mp(l))for(let o=0;o<t.length;o++){const c=t[o];typeof c=="string"&&(t[o]=parseFloat(c))}else gs[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)(t[i]===null||UA(t[i]))&&s.push(i);s.length&&HA(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=gs[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,r=s[a];s[a]=gs[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=r),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([o,c])=>{t.getValue(o).set(c)}),this.resolveNoneKeyframes()}}function GA(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const i=(n==null?void 0:n[e])??s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const Bb=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function zb(e){return nb(e)&&"offsetHeight"in e}const _p=30,YA=e=>!isNaN(parseFloat(e));class XA{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{var r,l;const a=Qe.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty();i&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Qe.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=YA(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new wd);const s=this.events[t].add(n);return t==="change"?()=>{s(),ue.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Qe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>_p)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_p);return ib(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ti(e,t){return new XA(e,t)}const{schedule:Vd}=pb(queueMicrotask,!1),wt={x:!1,y:!1};function $b(){return wt.x||wt.y}function KA(e){return e==="x"||e==="y"?wt[e]?null:(wt[e]=!0,()=>{wt[e]=!1}):wt.x||wt.y?null:(wt.x=wt.y=!0,()=>{wt.x=wt.y=!1})}function Hb(e,t){const n=GA(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function Sp(e){return!(e.pointerType==="touch"||$b())}function FA(e,t,n={}){const[s,i,a]=Hb(e,n),r=l=>{if(!Sp(l))return;const{target:o}=l,c=t(o,l);if(typeof c!="function"||!o)return;const u=f=>{Sp(f)&&(c(f),o.removeEventListener("pointerleave",u))};o.addEventListener("pointerleave",u,i)};return s.forEach(l=>{l.addEventListener("pointerenter",r,i)}),a}const qb=(e,t)=>t?e===t?!0:qb(e,t.parentElement):!1,Bd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,QA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function IA(e){return QA.has(e.tagName)||e.tabIndex!==-1}const ll=new WeakSet;function xp(e){return t=>{t.key==="Enter"&&e(t)}}function jc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ZA=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=xp(()=>{if(ll.has(n))return;jc(n,"down");const i=xp(()=>{jc(n,"up")}),a=()=>jc(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function wp(e){return Bd(e)&&!$b()}function JA(e,t,n={}){const[s,i,a]=Hb(e,n),r=l=>{const o=l.currentTarget;if(!wp(l))return;ll.add(o);const c=t(o,l),u=(m,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),ll.has(o)&&ll.delete(o),wp(m)&&typeof c=="function"&&c(m,{success:v})},f=m=>{u(m,o===window||o===document||n.useGlobalTarget||qb(o,m.target))},d=m=>{u(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",d,i)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",r,i),zb(l)&&(l.addEventListener("focus",c=>ZA(c,i)),!IA(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function Gb(e){return nb(e)&&"ownerSVGElement"in e}function WA(e){return Gb(e)&&e.tagName==="svg"}const Be=e=>!!(e&&e.getVelocity),eC=[...Pb,be,zn],tC=e=>eC.find(Ub(e)),zd=T.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class nC extends T.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=zb(s)&&s.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function sC({children:e,isPresent:t,anchorX:n,root:s}){const i=T.useId(),a=T.useRef(null),r=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=T.useContext(zd);return T.useInsertionEffect(()=>{const{width:o,height:c,top:u,left:f,right:d}=r.current;if(t||!a.current||!o||!c)return;const m=n==="left"?`left: ${f}`:`right: ${d}`;a.current.dataset.motionPopId=i;const v=document.createElement("style");l&&(v.nonce=l);const b=s??document.head;return b.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${u}px !important;
          }
        `),()=>{b.contains(v)&&b.removeChild(v)}},[t]),h.jsx(nC,{isPresent:t,childRef:a,sizeRef:r,children:T.cloneElement(e,{ref:a})})}const iC=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:a,mode:r,anchorX:l,root:o})=>{const c=yd(aC),u=T.useId();let f=!0,d=T.useMemo(()=>(f=!1,{id:u,initial:t,isPresent:n,custom:i,onExitComplete:m=>{c.set(m,!0);for(const v of c.values())if(!v)return;s&&s()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[n,c,s]);return a&&f&&(d={...d}),T.useMemo(()=>{c.forEach((m,v)=>c.set(v,!1))},[n]),T.useEffect(()=>{!n&&!c.size&&s&&s()},[n]),r==="popLayout"&&(e=h.jsx(sC,{isPresent:n,anchorX:l,root:o,children:e})),h.jsx(xo.Provider,{value:d,children:e})};function aC(){return new Map}function Yb(e=!0){const t=T.useContext(xo);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,a=T.useId();T.useEffect(()=>{if(e)return i(a)},[e]);const r=T.useCallback(()=>e&&s&&s(a),[a,s,e]);return!n&&s?[!1,r]:[!0]}const Gr=e=>e.key||"";function Tp(e){const t=[];return T.Children.forEach(e,n=>{T.isValidElement(n)&&t.push(n)}),t}const Yr=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:a="sync",propagate:r=!1,anchorX:l="left",root:o})=>{const[c,u]=Yb(r),f=T.useMemo(()=>Tp(e),[e]),d=r&&!c?[]:f.map(Gr),m=T.useRef(!0),v=T.useRef(f),b=yd(()=>new Map),[S,p]=T.useState(f),[g,y]=T.useState(f);eb(()=>{m.current=!1,v.current=f;for(let E=0;E<g.length;E++){const x=Gr(g[E]);d.includes(x)?b.delete(x):b.get(x)!==!0&&b.set(x,!1)}},[g,d.length,d.join("-")]);const _=[];if(f!==S){let E=[...f];for(let x=0;x<g.length;x++){const j=g[x],C=Gr(j);d.includes(C)||(E.splice(x,0,j),_.push(j))}return a==="wait"&&_.length&&(E=_),y(Tp(E)),p(f),null}const{forceRender:w}=T.useContext(gd);return h.jsx(h.Fragment,{children:g.map(E=>{const x=Gr(E),j=r&&!c?!1:f===g||d.includes(x),C=()=>{if(b.has(x))b.set(x,!0);else return;let O=!0;b.forEach(P=>{P||(O=!1)}),O&&(w==null||w(),y(v.current),r&&(u==null||u()),s&&s())};return h.jsx(iC,{isPresent:j,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:o,onExitComplete:j?void 0:C,anchorX:l,children:E},x)})})},Xb=T.createContext({strict:!1}),jp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ji={};for(const e in jp)ji[e]={isEnabled:t=>jp[e].some(n=>!!t[n])};function rC(e){for(const t in e)ji[t]={...ji[t],...e[t]}}const lC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||lC.has(e)}let Kb=e=>!Yl(e);function oC(e){typeof e=="function"&&(Kb=t=>t.startsWith("on")?!Yl(t):e(t))}try{oC(require("@emotion/is-prop-valid").default)}catch{}function cC(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(Kb(i)||n===!0&&Yl(i)||!t&&!Yl(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}const wo=T.createContext({});function To(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Qa(e){return typeof e=="string"||Array.isArray(e)}const $d=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hd=["initial",...$d];function jo(e){return To(e.animate)||Hd.some(t=>Qa(e[t]))}function Fb(e){return!!(jo(e)||e.variants)}function uC(e,t){if(jo(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Qa(n)?n:void 0,animate:Qa(s)?s:void 0}}return e.inherit!==!1?t:{}}function fC(e){const{initial:t,animate:n}=uC(e,T.useContext(wo));return T.useMemo(()=>({initial:t,animate:n}),[Ep(t),Ep(n)])}function Ep(e){return Array.isArray(e)?e.join(" "):e}const Ia={};function dC(e){for(const t in e)Ia[t]=e[t],Ed(t)&&(Ia[t].isCSSVariable=!0)}function Qb(e,{layout:t,layoutId:n}){return Vi.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ia[e]||e==="opacity")}const hC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mC=Li.length;function pC(e,t,n){let s="",i=!0;for(let a=0;a<mC;a++){const r=Li[a],l=e[r];if(l===void 0)continue;let o=!0;if(typeof l=="number"?o=l===(r.startsWith("scale")?1:0):o=parseFloat(l)===0,!o||n){const c=Bb(l,Ld[r]);if(!o){i=!1;const u=hC[r]||r;s+=`${u}(${c}) `}n&&(t[r]=c)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function qd(e,t,n){const{style:s,vars:i,transformOrigin:a}=e;let r=!1,l=!1;for(const o in t){const c=t[o];if(Vi.has(o)){r=!0;continue}else if(Ed(o)){i[o]=c;continue}else{const u=Bb(c,Ld[o]);o.startsWith("origin")?(l=!0,a[o]=u):s[o]=u}}if(t.transform||(r||n?s.transform=pC(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:o="50%",originY:c="50%",originZ:u=0}=a;s.transformOrigin=`${o} ${c} ${u}`}}const Gd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ib(e,t,n){for(const s in t)!Be(t[s])&&!Qb(s,n)&&(e[s]=t[s])}function gC({transformTemplate:e},t){return T.useMemo(()=>{const n=Gd();return qd(n,t,e),Object.assign({},n.vars,n.style)},[t])}function yC(e,t){const n=e.style||{},s={};return Ib(s,n,e),Object.assign(s,gC(e,t)),s}function vC(e,t){const n={},s=yC(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const bC={offset:"stroke-dashoffset",array:"stroke-dasharray"},_C={offset:"strokeDashoffset",array:"strokeDasharray"};function SC(e,t,n=1,s=0,i=!0){e.pathLength=1;const a=i?bC:_C;e[a.offset]=k.transform(-s);const r=k.transform(t),l=k.transform(n);e[a.array]=`${r} ${l}`}function Zb(e,{attrX:t,attrY:n,attrScale:s,pathLength:i,pathSpacing:a=1,pathOffset:r=0,...l},o,c,u){if(qd(e,l,c),o){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:d}=e;f.transform&&(d.transform=f.transform,delete f.transform),(d.transform||f.transformOrigin)&&(d.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),d.transform&&(d.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),s!==void 0&&(f.scale=s),i!==void 0&&SC(f,i,a,r,!1)}const Jb=()=>({...Gd(),attrs:{}}),Wb=e=>typeof e=="string"&&e.toLowerCase()==="svg";function xC(e,t,n,s){const i=T.useMemo(()=>{const a=Jb();return Zb(a,t,Wb(s),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Ib(a,e.style,e),i.style={...a,...i.style}}return i}const wC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Yd(e){return typeof e!="string"||e.includes("-")?!1:!!(wC.indexOf(e)>-1||/[A-Z]/u.test(e))}function TC(e,t,n,{latestValues:s},i,a=!1){const l=(Yd(e)?xC:vC)(t,s,i,e),o=cC(t,typeof e=="string",a),c=e!==T.Fragment?{...o,...l,ref:n}:{},{children:u}=t,f=T.useMemo(()=>Be(u)?u.get():u,[u]);return T.createElement(e,{...c,children:f})}function Ap(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Xd(e,t,n,s){if(typeof t=="function"){const[i,a]=Ap(s);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=Ap(s);t=t(n!==void 0?n:e.custom,i,a)}return t}function ol(e){return Be(e)?e.get():e}function jC({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,i){return{latestValues:EC(n,s,i,e),renderState:t()}}function EC(e,t,n,s){const i={},a=s(e,{});for(const d in a)i[d]=ol(a[d]);let{initial:r,animate:l}=e;const o=jo(e),c=Fb(e);t&&c&&!o&&e.inherit!==!1&&(r===void 0&&(r=t.initial),l===void 0&&(l=t.animate));let u=n?n.initial===!1:!1;u=u||r===!1;const f=u?l:r;if(f&&typeof f!="boolean"&&!To(f)){const d=Array.isArray(f)?f:[f];for(let m=0;m<d.length;m++){const v=Xd(e,d[m]);if(v){const{transitionEnd:b,transition:S,...p}=v;for(const g in p){let y=p[g];if(Array.isArray(y)){const _=u?y.length-1:0;y=y[_]}y!==null&&(i[g]=y)}for(const g in b)i[g]=b[g]}}}return i}const e_=e=>(t,n)=>{const s=T.useContext(wo),i=T.useContext(xo),a=()=>jC(e,t,s,i);return n?a():yd(a)};function Kd(e,t,n){var a;const{style:s}=e,i={};for(const r in s)(Be(s[r])||t.style&&Be(t.style[r])||Qb(r,e)||((a=n==null?void 0:n.getValue(r))==null?void 0:a.liveStyle)!==void 0)&&(i[r]=s[r]);return i}const AC=e_({scrapeMotionValuesFromProps:Kd,createRenderState:Gd});function t_(e,t,n){const s=Kd(e,t,n);for(const i in e)if(Be(e[i])||Be(t[i])){const a=Li.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[a]=e[i]}return s}const CC=e_({scrapeMotionValuesFromProps:t_,createRenderState:Jb}),OC=Symbol.for("motionComponentSymbol");function ei(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function NC(e,t,n){return T.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):ei(n)&&(n.current=s))},[t])}const Fd=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),RC="framerAppearId",n_="data-"+Fd(RC),s_=T.createContext({});function DC(e,t,n,s,i){var b,S;const{visualElement:a}=T.useContext(wo),r=T.useContext(Xb),l=T.useContext(xo),o=T.useContext(zd).reducedMotion,c=T.useRef(null);s=s||r.renderer,!c.current&&s&&(c.current=s(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:o}));const u=c.current,f=T.useContext(s_);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&MC(c.current,n,i,f);const d=T.useRef(!1);T.useInsertionEffect(()=>{u&&d.current&&u.update(n,l)});const m=n[n_],v=T.useRef(!!m&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,m))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,m)));return eb(()=>{u&&(d.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),v.current&&u.animationState&&u.animationState.animateChanges())}),T.useEffect(()=>{u&&(!v.current&&u.animationState&&u.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,m)}),v.current=!1))}),u}function MC(e,t,n,s){const{layoutId:i,layout:a,drag:r,dragConstraints:l,layoutScroll:o,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:i_(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!r||l&&ei(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:o,layoutRoot:c})}function i_(e){if(e)return e.options.allowProjection!==!1?e.projection:i_(e.parent)}function Ec(e,{forwardMotionProps:t=!1}={},n,s){n&&rC(n);const i=Yd(e)?CC:AC;function a(l,o){let c;const u={...T.useContext(zd),...l,layoutId:kC(l)},{isStatic:f}=u,d=fC(l),m=i(l,f);if(!f&&vd){UC();const v=PC(u);c=v.MeasureLayout,d.visualElement=DC(e,m,u,s,v.ProjectionNode)}return h.jsxs(wo.Provider,{value:d,children:[c&&d.visualElement?h.jsx(c,{visualElement:d.visualElement,...u}):null,TC(e,l,NC(m,d.visualElement,o),m,f,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const r=T.forwardRef(a);return r[OC]=e,r}function kC({layoutId:e}){const t=T.useContext(gd).id;return t&&e!==void 0?t+"-"+e:e}function UC(e,t){T.useContext(Xb).strict}function PC(e){const{drag:t,layout:n}=ji;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function LC(e,t){if(typeof Proxy>"u")return Ec;const n=new Map,s=(a,r)=>Ec(a,r,e,t),i=(a,r)=>s(a,r);return new Proxy(i,{get:(a,r)=>r==="create"?s:(n.has(r)||n.set(r,Ec(r,void 0,e,t)),n.get(r))})}function a_({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function VC({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function BC(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Ac(e){return e===void 0||e===1}function tf({scale:e,scaleX:t,scaleY:n}){return!Ac(e)||!Ac(t)||!Ac(n)}function ss(e){return tf(e)||r_(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function r_(e){return Cp(e.x)||Cp(e.y)}function Cp(e){return e&&e!=="0%"}function Xl(e,t,n){const s=e-n,i=t*s;return n+i}function Op(e,t,n,s,i){return i!==void 0&&(e=Xl(e,i,s)),Xl(e,n,s)+t}function nf(e,t=0,n=1,s,i){e.min=Op(e.min,t,n,s,i),e.max=Op(e.max,t,n,s,i)}function l_(e,{x:t,y:n}){nf(e.x,t.translate,t.scale,t.originPoint),nf(e.y,n.translate,n.scale,n.originPoint)}const Np=.999999999999,Rp=1.0000000000001;function zC(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,r;for(let l=0;l<i;l++){a=n[l],r=a.projectionDelta;const{visualElement:o}=a.options;o&&o.props.style&&o.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ni(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),r&&(t.x*=r.x.scale,t.y*=r.y.scale,l_(e,r)),s&&ss(a.latestValues)&&ni(e,a.latestValues))}t.x<Rp&&t.x>Np&&(t.x=1),t.y<Rp&&t.y>Np&&(t.y=1)}function ti(e,t){e.min=e.min+t,e.max=e.max+t}function Dp(e,t,n,s,i=.5){const a=de(e.min,e.max,i);nf(e,t,n,a,s)}function ni(e,t){Dp(e.x,t.x,t.scaleX,t.scale,t.originX),Dp(e.y,t.y,t.scaleY,t.scale,t.originY)}function o_(e,t){return a_(BC(e.getBoundingClientRect(),t))}function $C(e,t,n){const s=o_(e,n),{scroll:i}=t;return i&&(ti(s.x,i.offset.x),ti(s.y,i.offset.y)),s}const Mp=()=>({translate:0,scale:1,origin:0,originPoint:0}),si=()=>({x:Mp(),y:Mp()}),kp=()=>({min:0,max:0}),ye=()=>({x:kp(),y:kp()}),sf={current:null},c_={current:!1};function HC(){if(c_.current=!0,!!vd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>sf.current=e.matches;e.addEventListener("change",t),t()}else sf.current=!1}const qC=new WeakMap;function GC(e,t,n){for(const s in t){const i=t[s],a=n[s];if(Be(i))e.addValue(s,i);else if(Be(a))e.addValue(s,Ti(i,{owner:e}));else if(a!==i)if(e.hasValue(s)){const r=e.getValue(s);r.liveStyle===!0?r.jump(i):r.hasAnimated||r.set(i)}else{const r=e.getStaticValue(s);e.addValue(s,Ti(r!==void 0?r:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Up=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class YC{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:a,visualState:r},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ud,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=Qe.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,ue.render(this.render,!1,!0))};const{latestValues:o,renderState:c}=r;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=jo(n),this.isVariantNode=Fb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const d in f){const m=f[d];o[d]!==void 0&&Be(m)&&m.set(o[d],!1)}}mount(t){this.current=t,qC.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),c_.current||HC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Bn(this.notifyUpdate),Bn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Vi.has(t);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&ue.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a(),r&&r(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ji){const n=ji[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ye()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Up.length;s++){const i=Up[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,r=t[a];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=GC(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Ti(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(tb(s)||sb(s))?s=parseFloat(s):!tC(s)&&zn.test(n)&&(s=Vb(t,n)),this.setBaseTarget(t,Be(s)?s.get():s)),Be(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const r=Xd(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);r&&(s=r[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Be(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new wd),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Vd.render(this.render)}}class u_ extends YC{constructor(){super(...arguments),this.KeyframeResolver=qA}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Be(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function f_(e,{style:t,vars:n},s,i){const a=e.style;let r;for(r in t)a[r]=t[r];i==null||i.applyProjectionStyles(a,s);for(r in n)a.setProperty(r,n[r])}function XC(e){return window.getComputedStyle(e)}class KC extends u_{constructor(){super(...arguments),this.type="html",this.renderInstance=f_}readValueFromInstance(t,n){var s;if(Vi.has(n))return(s=this.projection)!=null&&s.isProjecting?Qu(n):oA(t,n);{const i=XC(t),a=(Ed(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return o_(t,n)}build(t,n,s){qd(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Kd(t,n,s)}}const d_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function FC(e,t,n,s){f_(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(d_.has(i)?i:Fd(i),t.attrs[i])}class QC extends u_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ye}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Vi.has(n)){const s=Lb(n);return s&&s.default||0}return n=d_.has(n)?n:Fd(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return t_(t,n,s)}build(t,n,s){Zb(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,i){FC(t,n,s,i)}mount(t){this.isSVGTag=Wb(t.tagName),super.mount(t)}}const IC=(e,t)=>Yd(e)?new QC(t):new KC(t,{allowProjection:e!==T.Fragment});function Za(e,t,n){const s=e.getProps();return Xd(s,t,n!==void 0?n:s.custom,e)}const af=e=>Array.isArray(e);function ZC(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ti(n))}function JC(e){return af(e)?e[e.length-1]||0:e}function WC(e,t){const n=Za(e,t);let{transitionEnd:s={},transition:i={},...a}=n||{};a={...a,...s};for(const r in a){const l=JC(a[r]);ZC(e,r,l)}}function eO(e){return!!(Be(e)&&e.add)}function rf(e,t){const n=e.getValue("willChange");if(eO(n))return n.add(t);if(!n&&an.WillChange){const s=new an.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function h_(e){return e.props[n_]}const tO=e=>e!==null;function nO(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(tO),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[a]}const sO={type:"spring",stiffness:500,damping:25,restSpeed:10},iO=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),aO={type:"keyframes",duration:.8},rO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lO=(e,{keyframes:t})=>t.length>2?aO:Vi.has(e)?e.startsWith("scale")?iO(t[1]):sO:rO;function oO({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:r,repeatDelay:l,from:o,elapsed:c,...u}){return!!Object.keys(u).length}const Qd=(e,t,n,s={},i,a)=>r=>{const l=Pd(s,e)||{},o=l.delay||s.delay||0;let{elapsed:c=0}=s;c=c-kt(o);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-c,onUpdate:d=>{t.set(d),l.onUpdate&&l.onUpdate(d)},onComplete:()=>{r(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};oO(l)||Object.assign(u,lO(e,u)),u.duration&&(u.duration=kt(u.duration)),u.repeatDelay&&(u.repeatDelay=kt(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(an.instantAnimations||an.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!l.type&&!l.ease,f&&!a&&t.get()!==void 0){const d=nO(u.keyframes,l);if(d!==void 0){ue.update(()=>{u.onUpdate(d),u.onComplete()});return}}return l.isSync?new kd(u):new RA(u)};function cO({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function m_(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:r,...l}=t;s&&(a=s);const o=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const u in l){const f=e.getValue(u,e.latestValues[u]??null),d=l[u];if(d===void 0||c&&cO(c,u))continue;const m={delay:n,...Pd(a||{},u)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(d)&&d===v&&!m.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const p=h_(e);if(p){const g=window.MotionHandoffAnimation(p,u,ue);g!==null&&(m.startTime=g,b=!0)}}rf(e,u),f.start(Qd(u,f,d,e.shouldReduceMotion&&kb.has(u)?{type:!1}:m,e,b));const S=f.animation;S&&o.push(S)}return r&&Promise.all(o).then(()=>{ue.update(()=>{r&&WC(e,r)})}),o}function lf(e,t,n={}){var o;const s=Za(e,t,n.type==="exit"?(o=e.presenceContext)==null?void 0:o.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(m_(e,s,n)):()=>Promise.resolve(),r=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:d}=i;return uO(e,t,c,u,f,d,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[a,r]:[r,a];return c().then(()=>u())}else return Promise.all([a(),r(n.delay)])}function uO(e,t,n=0,s=0,i=0,a=1,r){const l=[],o=e.variantChildren.size,c=(o-1)*i,u=typeof s=="function",f=u?d=>s(d,o):a===1?(d=0)=>d*i:(d=0)=>c-d*i;return Array.from(e.variantChildren).sort(fO).forEach((d,m)=>{d.notify("AnimationStart",t),l.push(lf(d,t,{...r,delay:n+(u?0:s)+f(m)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(l)}function fO(e,t){return e.sortNodePosition(t)}function dO(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(a=>lf(e,a,n));s=Promise.all(i)}else if(typeof t=="string")s=lf(e,t,n);else{const i=typeof t=="function"?Za(e,t,n.custom):t;s=Promise.all(m_(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function p_(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const hO=Hd.length;function g_(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?g_(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<hO;n++){const s=Hd[n],i=e.props[s];(Qa(i)||i===!1)&&(t[s]=i)}return t}const mO=[...$d].reverse(),pO=$d.length;function gO(e){return t=>Promise.all(t.map(({animation:n,options:s})=>dO(e,n,s)))}function yO(e){let t=gO(e),n=Pp(),s=!0;const i=o=>(c,u)=>{var d;const f=Za(e,u,o==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);if(f){const{transition:m,transitionEnd:v,...b}=f;c={...c,...b,...v}}return c};function a(o){t=o(e)}function r(o){const{props:c}=e,u=g_(e.parent)||{},f=[],d=new Set;let m={},v=1/0;for(let S=0;S<pO;S++){const p=mO[S],g=n[p],y=c[p]!==void 0?c[p]:u[p],_=Qa(y),w=p===o?g.isActive:null;w===!1&&(v=S);let E=y===u[p]&&y!==c[p]&&_;if(E&&s&&e.manuallyAnimateOnMount&&(E=!1),g.protectedKeys={...m},!g.isActive&&w===null||!y&&!g.prevProp||To(y)||typeof y=="boolean")continue;const x=vO(g.prevProp,y);let j=x||p===o&&g.isActive&&!E&&_||S>v&&_,C=!1;const O=Array.isArray(y)?y:[y];let P=O.reduce(i(p),{});w===!1&&(P={});const{prevResolvedValues:z={}}=g,re={...z,...P},Y=D=>{j=!0,d.has(D)&&(C=!0,d.delete(D)),g.needsAnimating[D]=!0;const M=e.getValue(D);M&&(M.liveStyle=!1)};for(const D in re){const M=P[D],K=z[D];if(m.hasOwnProperty(D))continue;let te=!1;af(M)&&af(K)?te=!p_(M,K):te=M!==K,te?M!=null?Y(D):d.add(D):M!==void 0&&d.has(D)?Y(D):g.protectedKeys[D]=!0}g.prevProp=y,g.prevResolvedValues=P,g.isActive&&(m={...m,...P}),s&&e.blockInitialAnimation&&(j=!1),j&&(!(E&&x)||C)&&f.push(...O.map(D=>({animation:D,options:{type:p}})))}if(d.size){const S={};if(typeof c.initial!="boolean"){const p=Za(e,Array.isArray(c.initial)?c.initial[0]:c.initial);p&&p.transition&&(S.transition=p.transition)}d.forEach(p=>{const g=e.getBaseTarget(p),y=e.getValue(p);y&&(y.liveStyle=!0),S[p]=g??null}),f.push({animation:S})}let b=!!f.length;return s&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(b=!1),s=!1,b?t(f):Promise.resolve()}function l(o,c){var f;if(n[o].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(d=>{var m;return(m=d.animationState)==null?void 0:m.setActive(o,c)}),n[o].isActive=c;const u=r(o);for(const d in n)n[d].protectedKeys={};return u}return{animateChanges:r,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Pp(),s=!0}}}function vO(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!p_(t,e):!1}function Jn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Pp(){return{animate:Jn(!0),whileInView:Jn(),whileHover:Jn(),whileTap:Jn(),whileDrag:Jn(),whileFocus:Jn(),exit:Jn()}}class Yn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class bO extends Yn{constructor(t){super(t),t.animationState||(t.animationState=yO(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();To(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let _O=0;class SO extends Yn{constructor(){super(...arguments),this.id=_O++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const xO={animation:{Feature:bO},exit:{Feature:SO}};function Ja(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function xr(e){return{point:{x:e.pageX,y:e.pageY}}}const wO=e=>t=>Bd(t)&&e(t,xr(t));function Ea(e,t,n,s){return Ja(e,t,wO(n),s)}const y_=1e-4,TO=1-y_,jO=1+y_,v_=.01,EO=0-v_,AO=0+v_;function He(e){return e.max-e.min}function CO(e,t,n){return Math.abs(e-t)<=n}function Lp(e,t,n,s=.5){e.origin=s,e.originPoint=de(t.min,t.max,e.origin),e.scale=He(n)/He(t),e.translate=de(n.min,n.max,e.origin)-e.originPoint,(e.scale>=TO&&e.scale<=jO||isNaN(e.scale))&&(e.scale=1),(e.translate>=EO&&e.translate<=AO||isNaN(e.translate))&&(e.translate=0)}function Aa(e,t,n,s){Lp(e.x,t.x,n.x,s?s.originX:void 0),Lp(e.y,t.y,n.y,s?s.originY:void 0)}function Vp(e,t,n){e.min=n.min+t.min,e.max=e.min+He(t)}function OO(e,t,n){Vp(e.x,t.x,n.x),Vp(e.y,t.y,n.y)}function Bp(e,t,n){e.min=t.min-n.min,e.max=e.min+He(t)}function Ca(e,t,n){Bp(e.x,t.x,n.x),Bp(e.y,t.y,n.y)}function ut(e){return[e("x"),e("y")]}const b_=({current:e})=>e?e.ownerDocument.defaultView:null,zp=(e,t)=>Math.abs(e-t);function NO(e,t){const n=zp(e.x,t.x),s=zp(e.y,t.y);return Math.sqrt(n**2+s**2)}class __{constructor(t,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:r=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Oc(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=NO(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!v)return;const{point:b}=d,{timestamp:S}=De;this.history.push({...b,timestamp:S});const{onStart:p,onMove:g}=this.handlers;m||(p&&p(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,m)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Cc(m,this.transformPagePoint),ue.update(this.updatePoint,!0)},this.handlePointerUp=(d,m)=>{this.end();const{onEnd:v,onSessionEnd:b,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Oc(d.type==="pointercancel"?this.lastMoveEventInfo:Cc(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(d,p),b&&b(d,p)},!Bd(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=r,this.contextWindow=i||window;const l=xr(t),o=Cc(l,this.transformPagePoint),{point:c}=o,{timestamp:u}=De;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=n;f&&f(t,Oc(o,this.history)),this.removeListeners=br(Ea(this.contextWindow,"pointermove",this.handlePointerMove),Ea(this.contextWindow,"pointerup",this.handlePointerUp),Ea(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Bn(this.updatePoint)}}function Cc(e,t){return t?{point:t(e.point)}:e}function $p(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Oc({point:e},t){return{point:e,delta:$p(e,S_(t)),offset:$p(e,RO(t)),velocity:DO(t,.1)}}function RO(e){return e[0]}function S_(e){return e[e.length-1]}function DO(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=S_(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>kt(t)));)n--;if(!s)return{x:0,y:0};const a=Ut(i.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const r={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function MO(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?de(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?de(n,e,s.max):Math.min(e,n)),e}function Hp(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function kO(e,{top:t,left:n,bottom:s,right:i}){return{x:Hp(e.x,n,i),y:Hp(e.y,t,s)}}function qp(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function UO(e,t){return{x:qp(e.x,t.x),y:qp(e.y,t.y)}}function PO(e,t){let n=.5;const s=He(e),i=He(t);return i>s?n=Xa(t.min,t.max-s,e.min):s>i&&(n=Xa(e.min,e.max-i,t.min)),sn(0,1,n)}function LO(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const of=.35;function VO(e=of){return e===!1?e=0:e===!0&&(e=of),{x:Gp(e,"left","right"),y:Gp(e,"top","bottom")}}function Gp(e,t,n){return{min:Yp(e,t),max:Yp(e,n)}}function Yp(e,t){return typeof e=="number"?e:e[t]||0}const BO=new WeakMap;class zO{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ye(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(xr(f).point)},r=(f,d)=>{const{drag:m,dragPropagation:v,onDragStart:b}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=KA(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ut(p=>{let g=this.getAxisMotionValue(p).get()||0;if(Pt.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const _=y.layout.layoutBox[p];_&&(g=He(_)*(parseFloat(g)/100))}}this.originPoint[p]=g}),b&&ue.postRender(()=>b(f,d)),rf(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},l=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d;const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:b,onDrag:S}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:p}=d;if(v&&this.currentDirection===null){this.currentDirection=$O(p),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",d.point,p),this.updateAxis("y",d.point,p),this.visualElement.render(),S&&S(f,d)},o=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d,this.stop(f,d),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>ut(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)==null?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new __(t,{onSessionStart:a,onStart:r,onMove:l,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:s,contextWindow:b_(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!s)return;const{velocity:r}=i;this.startAnimation(r);const{onDragEnd:l}=this.getProps();l&&ue.postRender(()=>l(s,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!Xr(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let r=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(r=MO(r,this.constraints[t],this.elastic[t])),a.set(r)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&ei(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=kO(s.layoutBox,t):this.constraints=!1,this.elastic=VO(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ut(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=LO(s.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ei(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=$C(s,i.root,this.visualElement.getTransformPagePoint());let r=UO(i.layout.layoutBox,a);if(n){const l=n(VC(r));this.hasMutatedConstraints=!!l,l&&(r=a_(l))}return r}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:a,dragSnapToOrigin:r,onDragTransitionEnd:l}=this.getProps(),o=this.constraints||{},c=ut(u=>{if(!Xr(u,n,this.currentDirection))return;let f=o&&o[u]||{};r&&(f={min:0,max:0});const d=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:s?t[u]:0,bounceStiffness:d,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(u,v)});return Promise.all(c).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return rf(this.visualElement,t),s.start(Qd(t,s,0,n,this.visualElement,!1))}stopAnimation(){ut(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ut(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ut(n=>{const{drag:s}=this.getProps();if(!Xr(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:r,max:l}=i.layout.layoutBox[n];a.set(t[n]-de(r,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ei(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ut(r=>{const l=this.getAxisMotionValue(r);if(l&&this.constraints!==!1){const o=l.get();i[r]=PO({min:o,max:o},this.constraints[r])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ut(r=>{if(!Xr(r,t,null))return;const l=this.getAxisMotionValue(r),{min:o,max:c}=this.constraints[r];l.set(de(o,c,i[r]))})}addListeners(){if(!this.visualElement.current)return;BO.set(this.visualElement,this);const t=this.visualElement.current,n=Ea(t,"pointerdown",o=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(o)}),s=()=>{const{dragConstraints:o}=this.getProps();ei(o)&&o.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ue.read(s);const r=Ja(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:o,hasLayoutChanged:c})=>{this.isDragging&&c&&(ut(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=o[u].translate,f.set(f.get()+o[u].translate))}),this.visualElement.render())});return()=>{r(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:r=of,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:a,dragElastic:r,dragMomentum:l}}}function Xr(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function $O(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class HO extends Yn{constructor(t){super(t),this.removeGroupControls=vt,this.removeListeners=vt,this.controls=new zO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Xp=e=>(t,n)=>{e&&ue.postRender(()=>e(t,n))};class qO extends Yn{constructor(){super(...arguments),this.removePointerDownListener=vt}onPointerDown(t){this.session=new __(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:b_(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:Xp(t),onStart:Xp(n),onMove:s,onEnd:(a,r)=>{delete this.session,i&&ue.postRender(()=>i(a,r))}}}mount(){this.removePointerDownListener=Ea(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const cl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Kp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Zi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(k.test(e))e=parseFloat(e);else return e;const n=Kp(e,t.target.x),s=Kp(e,t.target.y);return`${n}% ${s}%`}},GO={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=zn.parse(e);if(i.length>5)return s;const a=zn.createTransformer(e),r=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,o=n.y.scale*t.y;i[0+r]/=l,i[1+r]/=o;const c=de(l,o,.5);return typeof i[2+r]=="number"&&(i[2+r]/=c),typeof i[3+r]=="number"&&(i[3+r]/=c),a(i)}};let Fp=!1;class YO extends T.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:a}=t;dC(XO),a&&(n.group&&n.group.add(a),s&&s.register&&i&&s.register(a),Fp&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),cl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:a}=this.props,{projection:r}=s;return r&&(r.isPresent=a,Fp=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==a?r.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?r.promote():r.relegate()||ue.postRender(()=>{const l=r.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Vd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function x_(e){const[t,n]=Yb(),s=T.useContext(gd);return h.jsx(YO,{...e,layoutGroup:s,switchLayoutGroup:T.useContext(s_),isPresent:t,safeToRemove:n})}const XO={borderRadius:{...Zi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zi,borderTopRightRadius:Zi,borderBottomLeftRadius:Zi,borderBottomRightRadius:Zi,boxShadow:GO};function KO(e,t,n){const s=Be(e)?e:Ti(e);return s.start(Qd("",s,t,n)),s.animation}const FO=(e,t)=>e.depth-t.depth;class QO{constructor(){this.children=[],this.isDirty=!1}add(t){bd(this.children,t),this.isDirty=!0}remove(t){_d(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(FO),this.isDirty=!1,this.children.forEach(t)}}function IO(e,t){const n=Qe.now(),s=({timestamp:i})=>{const a=i-n;a>=t&&(Bn(s),e(a-t))};return ue.setup(s,!0),()=>Bn(s)}const w_=["TopLeft","TopRight","BottomLeft","BottomRight"],ZO=w_.length,Qp=e=>typeof e=="string"?parseFloat(e):e,Ip=e=>typeof e=="number"||k.test(e);function JO(e,t,n,s,i,a){i?(e.opacity=de(0,n.opacity??1,WO(s)),e.opacityExit=de(t.opacity??1,0,eN(s))):a&&(e.opacity=de(t.opacity??1,n.opacity??1,s));for(let r=0;r<ZO;r++){const l=`border${w_[r]}Radius`;let o=Zp(t,l),c=Zp(n,l);if(o===void 0&&c===void 0)continue;o||(o=0),c||(c=0),o===0||c===0||Ip(o)===Ip(c)?(e[l]=Math.max(de(Qp(o),Qp(c),s),0),(Pt.test(c)||Pt.test(o))&&(e[l]+="%")):e[l]=c}(t.rotate||n.rotate)&&(e.rotate=de(t.rotate||0,n.rotate||0,s))}function Zp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const WO=T_(0,.5,fb),eN=T_(.5,.95,vt);function T_(e,t,n){return s=>s<e?0:s>t?1:n(Xa(e,t,s))}function Jp(e,t){e.min=t.min,e.max=t.max}function ct(e,t){Jp(e.x,t.x),Jp(e.y,t.y)}function Wp(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function eg(e,t,n,s,i){return e-=t,e=Xl(e,1/n,s),i!==void 0&&(e=Xl(e,1/i,s)),e}function tN(e,t=0,n=1,s=.5,i,a=e,r=e){if(Pt.test(t)&&(t=parseFloat(t),t=de(r.min,r.max,t/100)-r.min),typeof t!="number")return;let l=de(a.min,a.max,s);e===a&&(l-=t),e.min=eg(e.min,t,n,l,i),e.max=eg(e.max,t,n,l,i)}function tg(e,t,[n,s,i],a,r){tN(e,t[n],t[s],t[i],t.scale,a,r)}const nN=["x","scaleX","originX"],sN=["y","scaleY","originY"];function ng(e,t,n,s){tg(e.x,t,nN,n?n.x:void 0,s?s.x:void 0),tg(e.y,t,sN,n?n.y:void 0,s?s.y:void 0)}function sg(e){return e.translate===0&&e.scale===1}function j_(e){return sg(e.x)&&sg(e.y)}function ig(e,t){return e.min===t.min&&e.max===t.max}function iN(e,t){return ig(e.x,t.x)&&ig(e.y,t.y)}function ag(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function E_(e,t){return ag(e.x,t.x)&&ag(e.y,t.y)}function rg(e){return He(e.x)/He(e.y)}function lg(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class aN{constructor(){this.members=[]}add(t){bd(this.members,t),t.scheduleRender()}remove(t){if(_d(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rN(e,t,n){let s="";const i=e.x.translate/t.x,a=e.y.translate/t.y,r=(n==null?void 0:n.z)||0;if((i||a||r)&&(s=`translate3d(${i}px, ${a}px, ${r}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:d,skewX:m,skewY:v}=n;c&&(s=`perspective(${c}px) ${s}`),u&&(s+=`rotate(${u}deg) `),f&&(s+=`rotateX(${f}deg) `),d&&(s+=`rotateY(${d}deg) `),m&&(s+=`skewX(${m}deg) `),v&&(s+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,o=e.y.scale*t.y;return(l!==1||o!==1)&&(s+=`scale(${l}, ${o})`),s||"none"}const Nc=["","X","Y","Z"],lN=1e3;let oN=0;function Rc(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function A_(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=h_(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ue,!(i||a))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&A_(s)}function C_({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(r={},l=t==null?void 0:t()){this.id=oN++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(fN),this.nodes.forEach(pN),this.nodes.forEach(gN),this.nodes.forEach(dN)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new QO)}addEventListener(r,l){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new wd),this.eventHandlers.get(r).add(l)}notifyListeners(r,...l){const o=this.eventHandlers.get(r);o&&o.notify(...l)}hasListeners(r){return this.eventHandlers.has(r)}mount(r){if(this.instance)return;this.isSVG=Gb(r)&&!WA(r),this.instance=r;const{layoutId:l,layout:o,visualElement:c}=this.options;if(c&&!c.current&&c.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(o||l)&&(this.isLayoutDirty=!0),e){let u,f=0;const d=()=>this.root.updateBlockedByResize=!1;ue.read(()=>{f=window.innerWidth}),e(r,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,u&&u(),u=IO(d,250),cl.hasAnimatedSinceResize&&(cl.hasAnimatedSinceResize=!1,this.nodes.forEach(ug)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||o)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:d,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||SN,{onLayoutAnimationStart:b,onLayoutAnimationComplete:S}=c.getProps(),p=!this.targetLayout||!E_(this.targetLayout,m),g=!f&&d;if(this.options.layoutRoot||this.resumeFrom||g||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...Pd(v,"layout"),onPlay:b,onComplete:S};(c.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(u,g)}else f||ug(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Bn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yN),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&A_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:o}=this.options;if(l===void 0&&!o)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(og);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(cg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(mN),this.nodes.forEach(cN),this.nodes.forEach(uN)):this.nodes.forEach(cg),this.clearAllSnapshots();const l=Qe.now();De.delta=sn(0,1e3/60,l-De.timestamp),De.timestamp=l,De.isProcessing=!0,_c.update.process(De),_c.preRender.process(De),_c.render.process(De),De.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hN),this.sharedNodes.forEach(vN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!He(this.snapshot.measuredBox.x)&&!He(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let o=0;o<this.path.length;o++)this.path[o].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(l=!1),l&&this.instance){const o=s(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:o,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:o}}}resetTransform(){if(!i)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!j_(this.projectionDelta),o=this.getTransformTemplate(),c=o?o(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;r&&this.instance&&(l||ss(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const l=this.measurePageBox();let o=this.removeElementScroll(l);return r&&(o=this.removeTransform(o)),xN(o),{animationId:this.root.animationId,measuredBox:l,layoutBox:o,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:r}=this.options;if(!r)return ye();const l=r.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(wN))){const{scroll:u}=this.root;u&&(ti(l.x,u.offset.x),ti(l.y,u.offset.y))}return l}removeElementScroll(r){var o;const l=ye();if(ct(l,r),(o=this.scroll)!=null&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:d}=u;u!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&ct(l,r),ti(l.x,f.offset.x),ti(l.y,f.offset.y))}return l}applyTransform(r,l=!1){const o=ye();ct(o,r);for(let c=0;c<this.path.length;c++){const u=this.path[c];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ni(o,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ss(u.latestValues)&&ni(o,u.latestValues)}return ss(this.latestValues)&&ni(o,this.latestValues),o}removeTransform(r){const l=ye();ct(l,r);for(let o=0;o<this.path.length;o++){const c=this.path[o];if(!c.instance||!ss(c.latestValues))continue;tf(c.latestValues)&&c.updateSnapshot();const u=ye(),f=c.measurePageBox();ct(u,f),ng(l,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return ss(this.latestValues)&&ng(l,this.latestValues),l}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==De.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var d;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const o=!!this.resumingFrom||this!==l;if(!(r||o&&this.isSharedProjectionDirty||this.isProjectionDirty||(d=this.parent)!=null&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=De.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),Ca(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ye(),this.targetWithTransforms=ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ct(this.target,this.layout.layoutBox),l_(this.target,this.targetDelta)):ct(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),Ca(this.relativeTargetOrigin,this.target,m.target),ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||tf(this.parent.latestValues)||r_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const r=this.getLead(),l=!!this.resumingFrom||this!==r;let o=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(o=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(o=!1),this.resolvedRelativeTargetAt===De.timestamp&&(o=!1),o)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;ct(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,d=this.treeScale.y;zC(this.layoutCorrected,this.treeScale,this.path,l),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=ye());const{target:m}=r;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Wp(this.prevProjectionDelta.x,this.projectionDelta.x),Wp(this.prevProjectionDelta.y,this.projectionDelta.y)),Aa(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==d||!lg(this.projectionDelta.x,this.prevProjectionDelta.x)||!lg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),r){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=si(),this.projectionDelta=si(),this.projectionDeltaWithTransform=si()}setAnimationOrigin(r,l=!1){const o=this.snapshot,c=o?o.latestValues:{},u={...this.latestValues},f=si();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const d=ye(),m=o?o.source:void 0,v=this.layout?this.layout.source:void 0,b=m!==v,S=this.getStack(),p=!S||S.members.length<=1,g=!!(b&&!p&&this.options.crossfade===!0&&!this.path.some(_N));this.animationProgress=0;let y;this.mixTargetDelta=_=>{const w=_/1e3;fg(f.x,r.x,w),fg(f.y,r.y,w),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ca(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bN(this.relativeTarget,this.relativeTargetOrigin,d,w),y&&iN(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=ye()),ct(y,this.relativeTarget)),b&&(this.animationValues=u,JO(u,c,this.latestValues,w,g,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){var l,o,c;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(c=(o=this.resumingFrom)==null?void 0:o.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Bn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ue.update(()=>{cl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ti(0)),this.currentAnimation=KO(this.motionValue,[0,1e3],{...r,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),r.onUpdate&&r.onUpdate(u)},onStop:()=>{},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:l,target:o,layout:c,latestValues:u}=r;if(!(!l||!o||!c)){if(this!==r&&this.layout&&c&&O_(this.options.animationType,this.layout.layoutBox,c.layoutBox)){o=this.target||ye();const f=He(this.layout.layoutBox.x);o.x.min=r.target.x.min,o.x.max=o.x.min+f;const d=He(this.layout.layoutBox.y);o.y.min=r.target.y.min,o.y.max=o.y.min+d}ct(l,o),ni(l,u),Aa(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(r,l){this.sharedNodes.has(r)||this.sharedNodes.set(r,new aN),this.sharedNodes.get(r).add(l);const c=l.options.initialPromotionConfig;l.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(l):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var l;const{layoutId:r}=this.options;return r?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:r}=this.options;return r?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:l,preserveFollowOpacity:o}={}){const c=this.getStack();c&&c.promote(this,o),r&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let l=!1;const{latestValues:o}=r;if((o.z||o.rotate||o.rotateX||o.rotateY||o.rotateZ||o.skewX||o.skewY)&&(l=!0),!l)return;const c={};o.z&&Rc("z",r,c,this.animationValues);for(let u=0;u<Nc.length;u++)Rc(`rotate${Nc[u]}`,r,c,this.animationValues),Rc(`skew${Nc[u]}`,r,c,this.animationValues);r.render();for(const u in c)r.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);r.scheduleRender()}applyProjectionStyles(r,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){r.visibility="hidden";return}const o=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,r.visibility="",r.opacity="",r.pointerEvents=ol(l==null?void 0:l.pointerEvents)||"",r.transform=o?o(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(r.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,r.pointerEvents=ol(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ss(this.latestValues)&&(r.transform=o?o({},""):"none",this.hasProjected=!1);return}r.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=rN(this.projectionDeltaWithTransform,this.treeScale,u);o&&(f=o(u,f)),r.transform=f;const{x:d,y:m}=this.projectionDelta;r.transformOrigin=`${d.origin*100}% ${m.origin*100}% 0`,c.animationValues?r.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:r.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const v in Ia){if(u[v]===void 0)continue;const{correct:b,applyTo:S,isCSSVariable:p}=Ia[v],g=f==="none"?u[v]:b(u[v],c);if(S){const y=S.length;for(let _=0;_<y;_++)r[S[_]]=g}else p?this.options.visualElement.renderState.vars[v]=g:r[v]=g}this.options.layoutId&&(r.pointerEvents=c===this?ol(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var l;return(l=r.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(og),this.root.sharedNodes.clear()}}}function cN(e){e.updateLayout()}function uN(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:a}=e.options,r=t.source!==e.layout.source;a==="size"?ut(f=>{const d=r?t.measuredBox[f]:t.layoutBox[f],m=He(d);d.min=s[f].min,d.max=d.min+m}):O_(a,t.layoutBox,s)&&ut(f=>{const d=r?t.measuredBox[f]:t.layoutBox[f],m=He(s[f]);d.max=d.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=si();Aa(l,s,t.layoutBox);const o=si();r?Aa(o,e.applyTransform(i,!0),t.measuredBox):Aa(o,s,t.layoutBox);const c=!j_(l);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:m}=f;if(d&&m){const v=ye();Ca(v,t.layoutBox,d.layoutBox);const b=ye();Ca(b,s,m.layoutBox),E_(v,b)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:o,layoutDelta:l,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function fN(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function dN(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function hN(e){e.clearSnapshot()}function og(e){e.clearMeasurements()}function cg(e){e.isLayoutDirty=!1}function mN(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ug(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function pN(e){e.resolveTargetDelta()}function gN(e){e.calcProjection()}function yN(e){e.resetSkewAndRotation()}function vN(e){e.removeLeadSnapshot()}function fg(e,t,n){e.translate=de(t.translate,0,n),e.scale=de(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function dg(e,t,n,s){e.min=de(t.min,n.min,s),e.max=de(t.max,n.max,s)}function bN(e,t,n,s){dg(e.x,t.x,n.x,s),dg(e.y,t.y,n.y,s)}function _N(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const SN={duration:.45,ease:[.4,0,.1,1]},hg=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),mg=hg("applewebkit/")&&!hg("chrome/")?Math.round:vt;function pg(e){e.min=mg(e.min),e.max=mg(e.max)}function xN(e){pg(e.x),pg(e.y)}function O_(e,t,n){return e==="position"||e==="preserve-aspect"&&!CO(rg(t),rg(n),.2)}function wN(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const TN=C_({attachResizeListener:(e,t)=>Ja(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dc={current:void 0},N_=C_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Dc.current){const e=new TN({});e.mount(window),e.setOptions({layoutScroll:!0}),Dc.current=e}return Dc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),jN={pan:{Feature:qO},drag:{Feature:HO,ProjectionNode:N_,MeasureLayout:x_}};function gg(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=s[i];a&&ue.postRender(()=>a(t,xr(t)))}class EN extends Yn{mount(){const{current:t}=this.node;t&&(this.unmount=FA(t,(n,s)=>(gg(this.node,s,"Start"),i=>gg(this.node,i,"End"))))}unmount(){}}class AN extends Yn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=br(Ja(this.node.current,"focus",()=>this.onFocus()),Ja(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function yg(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=s[i];a&&ue.postRender(()=>a(t,xr(t)))}class CN extends Yn{mount(){const{current:t}=this.node;t&&(this.unmount=JA(t,(n,s)=>(yg(this.node,s,"Start"),(i,{success:a})=>yg(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cf=new WeakMap,Mc=new WeakMap,ON=e=>{const t=cf.get(e.target);t&&t(e)},NN=e=>{e.forEach(ON)};function RN({root:e,...t}){const n=e||document;Mc.has(n)||Mc.set(n,{});const s=Mc.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(NN,{root:e,...t})),s[i]}function DN(e,t,n){const s=RN(t);return cf.set(e,n),s.observe(e),()=>{cf.delete(e),s.unobserve(e)}}const MN={some:0,all:1};class kN extends Yn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:a}=t,r={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:MN[i]},l=o=>{const{isIntersecting:c}=o;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),d=c?u:f;d&&d(o)};return DN(this.node.current,r,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(UN(t,n))&&this.startObserver()}unmount(){}}function UN({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const PN={inView:{Feature:kN},tap:{Feature:CN},focus:{Feature:AN},hover:{Feature:EN}},LN={layout:{ProjectionNode:N_,MeasureLayout:x_}},VN={...xO,...PN,...jN,...LN},is=LC(VN,IC);class BN{static parsePhase1Content(t,n){const s=Array.isArray(t)?t[0]:t;return{project_info:this.extractProjectMetadata(s,n),global_style:this.extractGlobalStyle(s),scenes:this.extractTimelineScenes(s),elements:this.extractTimelineElements(s),style_evolution:this.extractStyleProgression(s)}}static extractProjectMetadata(t,n){var i,a,r,l,o,c;return{title:((i=t.project_metadata)==null?void 0:i.title)||t.title||t.project_title||((a=t.extraction_metadata)==null?void 0:a.project_title)||n||"Untitled Project",client:((r=t.project_metadata)==null?void 0:r.client)||t.client||"Unknown Client",schema_version:((l=t.project_metadata)==null?void 0:l.schema_version)||"1.0",production_workflow:((o=t.project_metadata)==null?void 0:o.production_workflow)||"animatic_to_video",extraction_date:(c=t.project_metadata)==null?void 0:c.extraction_date}}static extractGlobalStyle(t){var n,s,i,a,r,l,o,c,u,f,d,m,v,b,S,p,g,y,_,w,E,x,j,C,O,P,z,re,Y,I,N,D;return{color_palette:{primary:((s=(n=t.global_style)==null?void 0:n.color_palette)==null?void 0:s.primary)||"Deep blue backgrounds",secondary:((a=(i=t.global_style)==null?void 0:i.color_palette)==null?void 0:a.secondary)||"Warm amber lighting",accent:(l=(r=t.global_style)==null?void 0:r.color_palette)==null?void 0:l.accent,character_tones:((c=(o=t.global_style)==null?void 0:o.color_palette)==null?void 0:c.character_tones)||"Natural skin tones"},rendering_style:{level:((f=(u=t.global_style)==null?void 0:u.rendering_style)==null?void 0:f.level)||"cinematic realism",line_work:((m=(d=t.global_style)==null?void 0:d.rendering_style)==null?void 0:m.line_work)||"clean vector-style",shading:((b=(v=t.global_style)==null?void 0:v.rendering_style)==null?void 0:b.shading)||"minimal, flat color zones",detail_level:((p=(S=t.global_style)==null?void 0:S.rendering_style)==null?void 0:p.detail_level)||"photorealistic"},composition:{framing:((y=(g=t.global_style)==null?void 0:g.composition)==null?void 0:y.framing)||"cinematic storyboard frames",depth:((w=(_=t.global_style)==null?void 0:_.composition)==null?void 0:w.depth)||"clear foreground/background separation",camera_style:((x=(E=t.global_style)==null?void 0:E.composition)==null?void 0:x.camera_style)||"traditional film language",aspect_ratio:((C=(j=t.global_style)==null?void 0:j.composition)==null?void 0:C.aspect_ratio)||"16:9"},mood_style:{overall_mood:((P=(O=t.global_style)==null?void 0:O.mood_style)==null?void 0:P.overall_mood)||"educational, inspiring",lighting_description:((re=(z=t.global_style)==null?void 0:z.mood_style)==null?void 0:re.lighting_description)||"natural library lighting",atmosphere:((I=(Y=t.global_style)==null?void 0:Y.mood_style)==null?void 0:I.atmosphere)||"technological wonder",tone:((D=(N=t.global_style)==null?void 0:N.mood_style)==null?void 0:D.tone)||"professional, accessible"}}}static extractTimelineScenes(t){const n=t.scenes||{};return Object.entries(n).map(([s,i])=>{var a,r,l,o,c,u,f,d,m,v,b,S,p,g;return{scene_id:i.scene_id||parseInt(s.replace("scene_",""))||0,title:this.generateSceneTitle(i.action_summary,i.scene_id),duration:i.duration||"3 seconds",camera_type:i.camera_type||"medium shot",mood:i.mood||"neutral",natural_description:i.natural_description||"",dialogue:i.dialogue,action_summary:i.action_summary||"Scene action",elements_present:i.elements_present||[],element_interactions:i.element_interactions||[],primary_focus:i.primary_focus||"",lighting_approach:i.lighting_approach||"",composition_approach:i.composition_approach||"",expandable_content:{locations_text:this.extractLocationText(t.elements,i.elements_present),characters_text:this.extractCharacterText(t.elements,i.elements_present),props_text:this.extractPropsText(t.elements,i.elements_present),actions_text:this.generateActionsText(t.elements,i),interactions_text:this.generateInteractionsText(i.element_interactions),color_primary:((r=(a=t.global_style)==null?void 0:a.color_palette)==null?void 0:r.primary)||"Deep blue backgrounds",color_secondary:((o=(l=t.global_style)==null?void 0:l.color_palette)==null?void 0:o.secondary)||"Warm amber lighting",line_work:((u=(c=t.global_style)==null?void 0:c.rendering_style)==null?void 0:u.line_work)||"clean vector-style",shading:((d=(f=t.global_style)==null?void 0:f.rendering_style)==null?void 0:d.shading)||"minimal, flat color zones",framing:((v=(m=t.global_style)==null?void 0:m.composition)==null?void 0:v.framing)||"cinematic storyboard frames",depth:((S=(b=t.global_style)==null?void 0:b.composition)==null?void 0:S.depth)||"clear foreground/background separation",overall_mood:((g=(p=t.global_style)==null?void 0:p.mood_style)==null?void 0:g.overall_mood)||"educational, inspiring"}}}).sort((s,i)=>s.scene_id-i.scene_id)}static extractTimelineElements(t){const n=t.elements||{};return Object.entries(n).map(([s,i])=>{var a;return{id:s,name:this.formatElementName(s),type:this.mapElementType(i.element_type),subtype:i.element_subtype||"secondary",frequency:i.frequency||0,scenes_present:i.scenes_present||[],base_description:i.base_description||"",consistency_rules:i.consistency_rules||[],consistency_score:this.calculateConsistencyScore(i.frequency,(a=i.consistency_rules)==null?void 0:a.length),icon:this.getElementIcon(i.element_type,s),color:this.getElementColor(i.element_type)}})}static extractStyleProgression(t){const n=t.scenes||{},s=Object.entries(n).sort(([,i],[,a])=>i.scene_id-a.scene_id);return{color_evolution:s.map(([,i])=>{var a,r,l,o;return{scene_id:i.scene_id,primary:((r=(a=t.global_style)==null?void 0:a.color_palette)==null?void 0:r.primary)||"Deep blue",secondary:((o=(l=t.global_style)==null?void 0:l.color_palette)==null?void 0:o.secondary)||"Warm amber"}}),mood_evolution:s.map(([,i])=>({scene_id:i.scene_id,mood:i.mood||"neutral",lighting:i.lighting_approach||"natural"})),camera_progression:s.map(([,i])=>({scene_id:i.scene_id,camera_type:i.camera_type||"medium shot",composition:i.composition_approach||"standard framing"}))}}static generateSceneTitle(t,n){return t?t.split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join(" "):`Scene ${n}`}static extractLocationText(t,n){return n.filter(i=>{var a;return((a=t[i])==null?void 0:a.element_type)==="location"}).map(i=>{var r;const a=t[i];return`${a.base_description}
Consistency Rules: ${(r=a.consistency_rules)==null?void 0:r.join("; ")}`}).join(`

`)}static extractCharacterText(t,n){return n.filter(i=>{var a;return((a=t[i])==null?void 0:a.element_type)==="character"}).map(i=>{var r;const a=t[i];return`${a.base_description}
Consistency Rules: ${(r=a.consistency_rules)==null?void 0:r.join("; ")}`}).join(`

`)}static extractPropsText(t,n){return n.filter(i=>{var a;return((a=t[i])==null?void 0:a.element_type)==="prop"}).map(i=>{var r;const a=t[i];return`${a.base_description}
Consistency Rules: ${(r=a.consistency_rules)==null?void 0:r.join("; ")}`}).join(`

`)}static generateActionsText(t,n){var s;return((s=n.elements_present)==null?void 0:s.map(i=>{var l;const a=t[i],r=(l=a==null?void 0:a.variants_by_scene)==null?void 0:l[`scene_${n.scene_id}`];return r?`${i}: ${r.action} at ${r.position}`:`${i}: positioned in scene`}).join(`

`))||""}static generateInteractionsText(t){return t.map(n=>n.description).join(`
`)||""}static formatElementName(t){return t.split("_").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}static mapElementType(t){switch(t){case"character":return"character";case"location":return"location";case"prop":return"prop";case"atmosphere":return"atmosphere";default:return"prop"}}static calculateConsistencyScore(t,n){return t>=8&&n>=3?"excellent":t>=4&&n>=2?"good":"review"}static getElementIcon(t,n){if(n.includes("samantha")||n.includes("character"))return"";if(n.includes("children")||n.includes("group"))return"";if(n.includes("library")||n.includes("entrance"))return"";if(n.includes("hologram")||n.includes("display"))return"";if(n.includes("backpack")||n.includes("book"))return"";if(n.includes("lighting")||n.includes("atmosphere"))return"";switch(t){case"character":return"";case"location":return"";case"prop":return"";case"atmosphere":return"";default:return""}}static getElementColor(t){switch(t){case"character":return"#3b82f6";case"location":return"#10b981";case"prop":return"#f59e0b";case"atmosphere":return"#8b5cf6";default:return"#6b7280"}}}class Un{static updateField(t,n,s){const i={...t},a=n.split(".");let r=i;for(let o=0;o<a.length-1;o++){const c=a[o];r[c]?r[c]={...r[c]}:r[c]={},r=r[c]}const l=a[a.length-1];return r[l]=s,i}static getField(t,n){const s=n.split(".");let i=t;for(const a of s){if(!i||typeof i!="object")return;i=i[a]}return i}static validateField(t,n){return n.includes("title")&&typeof t=="string"?t.trim().length>0:n.includes("duration")||n.includes("camera_type")||n.includes("mood")?!0:t!=null}static createEditHandler(t,n){return(s,i)=>{try{if(!Un.validateField(i,n))return console.warn(`Invalid value for field ${n}:`,i),!1;const r=(Un.getField(s,n)||"").toString().trim(),l=(i||"").toString().trim();if(r===l)return!0;const o=Un.updateField(s,n,i);return t(o),!0}catch(a){return console.error(`Error editing field ${n}:`,a),!1}}}}const Id=(e,t,n)=>{const s=Un.getField(e,t)||"",i=Un.createEditHandler(n,t);return{currentValue:s,updateValue:a=>i(e,a.trim())}},zN=(e,t,n,s)=>{const i=Un.getField(e,t)||n[0],a=Un.createEditHandler(s,t);return{currentValue:i,validOptions:n,updateValue:r=>n.includes(r)?a(e,r):!1}},vg="/assets/16-9placeholder-CY_xecX8.png";function $N({scene:e,elements:t,onSelect:n,isSelected:s,onElementHover:i,hoveredElement:a,masterJson:r,onSceneEdit:l}){var E;const[o,c]=T.useState({description:!1,elements:!1,primaryFocus:!1,composition:!1}),[u,f]=T.useState(null),[d,m]=T.useState({}),v=t.filter(x=>{var j;return(j=e.elements_present)==null?void 0:j.includes(x.id)}),b=(x,j,C)=>!r||!l?null:j==="select"&&C?zN(r,x,C,l):Id(r,x,l),S={title:`scenes.scene_${e.scene_id}.title`,camera_type:`scenes.scene_${e.scene_id}.camera_type`,mood:`scenes.scene_${e.scene_id}.mood`,dialogue:`scenes.scene_${e.scene_id}.dialogue`,natural_description:`scenes.scene_${e.scene_id}.natural_description`,primary_focus:`scenes.scene_${e.scene_id}.primary_focus`,composition_approach:`scenes.scene_${e.scene_id}.composition_approach`},p=(x,j,C,O="text",P)=>{const z=u===C,re=S[C],Y=b(re,O==="select"?"select":"text",P);return!Y||!r||!l?h.jsxs("div",{className:"scene-field-row",children:[h.jsxs("strong",{className:"scene-field-label",children:[j,":"]}),h.jsx("div",{className:"scene-field-value-area",children:x||`No ${j.toLowerCase()}`})]}):h.jsxs("div",{className:"scene-field-row",children:[h.jsxs("strong",{className:"scene-field-label",children:[j,":"]}),h.jsx("div",{className:"scene-field-value-area",children:z?h.jsx("div",{className:"scene-field-edit-container",children:O==="textarea"?h.jsx("textarea",{value:d[C]??Y.currentValue,onChange:I=>{const N=I.target.value;m(D=>({...D,[C]:N}))},onBlur:()=>{const I=d[C]??Y.currentValue;Y.updateValue(I),f(null)},onKeyDown:I=>{I.key==="Escape"&&(m(N=>{const{[C]:D,...M}=N;return M}),f(null))},className:"scene-field-textarea",autoFocus:!0,rows:3}):h.jsx("input",{type:"text",value:d[C]??Y.currentValue,onChange:I=>{const N=I.target.value;m(D=>({...D,[C]:N}))},onBlur:()=>{const I=d[C]??Y.currentValue;Y.updateValue(I),f(null)},onKeyDown:I=>{if(I.key==="Enter"){const N=d[C]??Y.currentValue;Y.updateValue(N),f(null)}I.key==="Escape"&&(m(N=>{const{[C]:D,...M}=N;return M}),f(null))},className:"scene-field-input",autoFocus:!0})}):h.jsx("div",{className:"scene-field-value-display editable-field",onClick:I=>{I.stopPropagation(),f(C),m(N=>({...N,[C]:Y.currentValue}))},title:`Click to edit ${j.toLowerCase()}`,children:x||`No ${j.toLowerCase()}`})})]})},g=(x,j)=>{const C=u==="title",O=S.title,P=b(O,"text");return!P||!r||!l?h.jsxs("div",{className:"scene-title-with-number",children:[h.jsxs("span",{className:"scene-number-part",children:["Scene ",j,":"]}),h.jsx("span",{className:"scene-title-part",children:x||"Untitled"})]}):h.jsxs("div",{className:"scene-title-with-number",children:[h.jsxs("span",{className:"scene-number-part",children:["Scene ",j,":"]}),C?h.jsx("input",{type:"text",value:d.title??x??"Untitled",onChange:z=>{const re=z.target.value;m(Y=>({...Y,title:re}))},onBlur:()=>{const z=d.title??x;z!==x&&P.updateValue(z),f(null),m(re=>{const{title:Y,...I}=re;return I})},onKeyDown:z=>{if(z.key==="Enter"){const re=d.title??x;re!==x&&P.updateValue(re),f(null),m(Y=>{const{title:I,...N}=Y;return N})}z.key==="Escape"&&(m(re=>{const{title:Y,...I}=re;return I}),f(null))},className:"scene-title-input",autoFocus:!0}):h.jsx("span",{className:"scene-title-part editable-field",onClick:z=>{z.stopPropagation(),f("title"),m(re=>({...re,title:x||"Untitled"}))},title:"Click to edit title",children:x||"Untitled"})]})},y=v.reduce((x,j)=>(x[j.type]||(x[j.type]=[]),x[j.type].push(j),x),{}),_={default:{scale:1,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",transition:{duration:.2}},hover:{scale:1.02,boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",transition:{duration:.2}},selected:{scale:1.02,boxShadow:"0 0 0 2px #3b82f6, 0 10px 15px -3px rgba(0, 0, 0, 0.1)",transition:{duration:.2}}},w={collapsed:{height:0,opacity:0},expanded:{height:"auto",opacity:1}};return h.jsxs(is.div,{variants:_,initial:"default",whileHover:"hover",animate:s?"selected":"default",className:"timeline-scene-card rounded-lg border overflow-hidden cursor-pointer",onClick:n,children:[h.jsxs("div",{className:"scene-top-row",children:[h.jsx("div",{className:"scene-title-container",children:g(r&&((E=b(S.title,"text"))==null?void 0:E.currentValue)||e.title||"",e.scene_id)}),h.jsx("span",{className:"scene-duration",children:e.duration})]}),h.jsxs("div",{className:"scene-card-three-columns",children:[h.jsxs("div",{className:"scene-column scene-column-config",children:[h.jsx("div",{className:"scene-column-header",children:h.jsx("h4",{className:"scene-column-title",children:"Configuration"})}),p(e.camera_type||"","Camera","camera_type"),p(e.mood||"","Mood","mood"),p(e.dialogue||"","Speech","dialogue"),h.jsxs("div",{className:"scene-expandable-sections",children:[h.jsxs("div",{children:[h.jsxs("button",{onClick:x=>{x.stopPropagation(),c(j=>({...j,description:!j.description}))},className:`scene-expand-button ${o.description?"expanded":""}`,children:[h.jsx("span",{children:" Description"}),h.jsx("span",{children:o.description?"":""})]}),h.jsx(Yr,{children:o.description&&h.jsx(is.div,{variants:w,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"scene-expand-content",children:h.jsx("div",{className:"scene-expand-inner",children:p(e.natural_description||"","Description","natural_description","textarea")})})})]}),h.jsxs("div",{children:[h.jsxs("button",{onClick:x=>{x.stopPropagation(),c(j=>({...j,primaryFocus:!j.primaryFocus}))},className:`scene-expand-button ${o.primaryFocus?"expanded":""}`,children:[h.jsx("span",{children:" Primary Focus"}),h.jsx("span",{children:o.primaryFocus?"":""})]}),h.jsx(Yr,{children:o.primaryFocus&&h.jsx(is.div,{variants:w,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"scene-expand-content",children:h.jsx("div",{className:"scene-expand-inner",children:p(e.primary_focus||"","Primary Focus","primary_focus","textarea")})})})]}),h.jsxs("div",{children:[h.jsxs("button",{onClick:x=>{x.stopPropagation(),c(j=>({...j,composition:!j.composition}))},className:`scene-expand-button ${o.composition?"expanded":""}`,children:[h.jsx("span",{children:" Composition"}),h.jsx("span",{children:o.composition?"":""})]}),h.jsx(Yr,{children:o.composition&&h.jsx(is.div,{variants:w,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"scene-expand-content",children:h.jsx("div",{className:"scene-expand-inner",children:p(e.composition_approach||"","Composition","composition_approach","textarea")})})})]}),h.jsxs("div",{children:[h.jsxs("button",{onClick:x=>{x.stopPropagation(),c(j=>({...j,elements:!j.elements}))},className:`scene-expand-button ${o.elements?"expanded":""}`,children:[h.jsxs("span",{children:[" Elements (",v.length,")"]}),h.jsx("span",{children:o.elements?"":""})]}),h.jsx(Yr,{children:o.elements&&h.jsx(is.div,{variants:w,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"scene-expand-content",children:h.jsx("div",{className:"scene-expand-inner",children:h.jsx("div",{className:"scene-elements-list",children:Object.entries(y).map(([x,j])=>h.jsxs("div",{className:"scene-element-group",children:[h.jsxs("span",{className:"scene-element-type",children:[x,":"]}),h.jsx("div",{className:"scene-element-tags",children:j.map(C=>h.jsx(is.div,{whileHover:{scale:1.05},onMouseEnter:()=>i(C.id),onMouseLeave:()=>i(null),className:"scene-element-tag",style:{backgroundColor:a===C.id?C.color:`${C.color}20`,color:a===C.id?"white":C.color,borderColor:C.color},children:C.name},C.id))})]},x))})})})})]})]})]}),h.jsxs("div",{className:"scene-column scene-column-image",children:[h.jsx("div",{className:"scene-column-header",children:h.jsx("h4",{className:"scene-column-title",children:"Image Generation"})}),h.jsx("div",{className:"scene-media-placeholder",children:h.jsx("img",{src:vg,alt:"Scene placeholder",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"var(--radius-sm)"}})}),h.jsx("textarea",{className:"scene-prompt-textarea",placeholder:"Generated image prompt will appear here...",rows:4,readOnly:!0}),h.jsxs("div",{className:"scene-generate-buttons",children:[h.jsx("button",{className:"scene-generate-btn",disabled:!0,children:"Prompt"}),h.jsx("button",{className:"scene-generate-btn",disabled:!0,children:"Image"})]})]}),h.jsxs("div",{className:"scene-column scene-column-video",children:[h.jsx("div",{className:"scene-column-header",children:h.jsx("h4",{className:"scene-column-title",children:"Video Generation"})}),h.jsx("div",{className:"scene-media-placeholder",children:h.jsx("img",{src:vg,alt:"Video placeholder",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"var(--radius-sm)"}})}),h.jsx("textarea",{className:"scene-prompt-textarea",placeholder:"Video generation prompt will appear here...",rows:4,readOnly:!0}),h.jsxs("div",{className:"scene-generate-buttons",children:[h.jsx("button",{className:"scene-generate-btn",disabled:!0,children:"Prompt"}),h.jsx("button",{className:"scene-generate-btn",disabled:!0,children:"Video"})]})]})]})]})}function HN({content:e,projectId:t,projectName:n,phaseId:s,onContentUpdate:i}){var E;const[a,r]=T.useState(null),[l,o]=T.useState(null),[c,u]=T.useState(!1),[f,d]=T.useState(""),m=T.useMemo(()=>{if(!e||Object.keys(e).length===0)return{project_info:{title:"Loading...",client:"",schema_version:"1.0",production_workflow:""},global_style:{},scenes:[],elements:[],style_evolution:{color_evolution:[],mood_evolution:[],camera_progression:[]}};try{return BN.parsePhase1Content(e,n)}catch(x){return console.error("Error parsing timeline content:",x),{project_info:{title:"Parsing Error",client:"",schema_version:"1.0",production_workflow:""},global_style:{},scenes:[],elements:[],style_evolution:{color_evolution:[],mood_evolution:[],camera_progression:[]}}}},[e,n]),v=T.useMemo(()=>i?Id(e,"project_metadata.title",i):null,[e,i]),b=()=>{if(!(v!=null&&v.currentValue)){console.error("Cannot edit title - title editor not available");return}d(v.currentValue),u(!0)},S=async()=>{if(!v||!f.trim()){u(!1);return}try{v.updateValue(f)&&u(!1)}catch(x){console.error("Error saving title:",x)}},p=()=>{d(""),u(!1)},g=T.useMemo(()=>{const x=m.scenes.reduce((P,z)=>{const re=z.duration||"3s",Y=parseInt(re.replace(/[^\d]/g,""))||3;return P+Y},0),j=Math.floor(x/60),C=x%60;return{totalDuration:j>0?`${j}m ${C}s`:`${x}s`,scenesCount:m.scenes.length,elementsCount:m.elements.length}},[m]),y=T.useMemo(()=>m.elements.map(C=>({...C,usage_percentage:Math.round(C.frequency/m.scenes.length*100)})).reduce((C,O)=>(C[O.type]||(C[O.type]=[]),C[O.type].push(O),C),{}),[m]),_=x=>{r(a===x?null:x)},w=x=>{o(x)};return m.scenes.length?h.jsxs("div",{className:"timeline-container",children:[h.jsx("div",{className:"timeline-header",children:h.jsxs("div",{className:"project-title-section",children:[c?h.jsxs("div",{className:"title-edit-container",children:[h.jsx("input",{type:"text",value:f,onChange:x=>d(x.target.value),onKeyDown:x=>{x.key==="Enter"&&S(),x.key==="Escape"&&p()},className:"title-edit-input",autoFocus:!0,onBlur:S}),h.jsxs("div",{className:"title-edit-buttons",children:[h.jsx("button",{onClick:S,className:"title-save-btn",children:""}),h.jsx("button",{onClick:p,className:"title-cancel-btn",children:""})]})]}):h.jsx("h1",{className:"project-title-display editable-title",onClick:b,title:"Click to edit project title",children:((E=m==null?void 0:m.project_info)==null?void 0:E.title)||"Untitled Project"}),h.jsxs("div",{className:"project-stats",children:[h.jsxs("span",{children:[h.jsx("strong",{children:g.scenesCount})," scenes"]}),h.jsx("span",{children:""}),h.jsxs("span",{children:[h.jsx("strong",{children:g.elementsCount})," elements"]}),h.jsx("span",{children:""}),h.jsxs("span",{children:[h.jsx("strong",{children:g.totalDuration})," total"]}),h.jsx("span",{children:""}),h.jsx("span",{children:h.jsx("strong",{children:m.project_info.client})})]})]})}),h.jsxs("div",{className:"elements-overview",children:[h.jsxs("div",{className:"elements-overview-header",children:[h.jsx("h3",{children:"Story Elements"}),h.jsxs("span",{className:"elements-count",children:[m.elements.length," total"]})]}),h.jsx("div",{className:"elements-horizontal",children:Object.entries(y).map(([x,j])=>h.jsxs("div",{className:"scene-element-group",children:[h.jsxs("span",{className:"scene-element-type",children:[x,"s:"]}),h.jsx("div",{className:"scene-element-tags",children:j.map(C=>h.jsxs(is.div,{whileHover:{scale:1.05},onMouseEnter:()=>w(C.id),onMouseLeave:()=>w(null),className:"scene-element-tag",style:{backgroundColor:l===C.id?C.color:`${C.color}20`,color:l===C.id?"white":C.color,borderColor:C.color},children:[C.name," (",C.usage_percentage,"%)"]},C.id))})]},x))})]}),h.jsx("div",{className:"timeline-scenes",children:h.jsx("div",{className:"timeline-scenes-responsive-grid",children:m.scenes.map(x=>h.jsx($N,{scene:x,elements:m.elements,isSelected:a===x.scene_id,hoveredElement:l,onSelect:()=>_(x.scene_id),onElementHover:w,masterJson:e,onSceneEdit:i},x.scene_id))})})]}):h.jsx("div",{className:"timeline-container",children:h.jsxs("div",{className:"timeline-header",children:[h.jsx("h2",{children:"Timeline View"}),h.jsx("p",{children:"No scenes available. Complete Phase 1 to see timeline."})]})})}function qN({masterJson:e,onContentUpdate:t}){const[n,s]=T.useState(null),[i,a]=T.useState({}),r={primary:"global_style.color_palette.primary",secondary:"global_style.color_palette.secondary",accent:"global_style.color_palette.accent",character_tones:"global_style.color_palette.character_tones",level:"global_style.rendering_style.level",line_work:"global_style.rendering_style.line_work",shading:"global_style.rendering_style.shading",detail_level:"global_style.rendering_style.detail_level",framing:"global_style.composition.framing",depth:"global_style.composition.depth",camera_style:"global_style.composition.camera_style",aspect_ratio:"global_style.composition.aspect_ratio",overall_mood:"global_style.mood_style.overall_mood",lighting_description:"global_style.mood_style.lighting_description",atmosphere:"global_style.mood_style.atmosphere",tone:"global_style.mood_style.tone"},l=u=>!e||!t?null:Id(e,u,t),o=(u,f,d)=>{const m=n===d,v=r[d],b=l(v);return!b||!e||!t?h.jsxs("div",{className:"style-field-container",children:[h.jsxs("strong",{className:"style-field-label",children:[f,":"]}),h.jsx("div",{className:"style-field-value",children:u||`No ${f.toLowerCase()}`})]}):h.jsxs("div",{className:"scene-field-row",children:[h.jsxs("strong",{className:"scene-field-label",children:[f,":"]}),h.jsx("div",{className:"scene-field-value-area",children:m?h.jsx("div",{className:"scene-field-edit-container",children:h.jsx("input",{type:"text",value:i[d]??b.currentValue,onChange:S=>{const p=S.target.value;a(g=>({...g,[d]:p}))},onBlur:()=>{const S=i[d]??b.currentValue;b.updateValue(S),s(null)},onKeyDown:S=>{if(S.key==="Enter"){const p=i[d]??b.currentValue;b.updateValue(p),s(null)}S.key==="Escape"&&(a(p=>{const{[d]:g,...y}=p;return y}),s(null))},className:"scene-field-input",autoFocus:!0})}):h.jsx("div",{className:"scene-field-value-display editable-field",onClick:()=>s(d),children:u||"Click to edit"})})]})},c=u=>{const d=r[u].split(".");let m=e;for(const v of d){if(!m||typeof m!="object")return"";m=m[v]}return m||""};return h.jsx("div",{className:"style-control-container",children:h.jsxs("div",{className:"style-cards-container",children:[h.jsx("div",{className:"timeline-scene-card",children:h.jsxs("div",{className:"scene-card-content",children:[h.jsx("div",{className:"scene-card-header",children:h.jsx("h3",{className:"style-card-title",children:"Color Palette"})}),h.jsxs("div",{className:"style-grid-2x2",children:[o(c("primary"),"Primary","primary"),o(c("secondary"),"Secondary","secondary"),o(c("accent"),"Accent","accent"),o(c("character_tones"),"Character Tones","character_tones")]})]})}),h.jsx("div",{className:"timeline-scene-card",children:h.jsxs("div",{className:"scene-card-content",children:[h.jsx("div",{className:"scene-card-header",children:h.jsx("h3",{className:"style-card-title",children:"Rendering Style"})}),h.jsxs("div",{className:"style-grid-2x2",children:[o(c("level"),"Level","level"),o(c("line_work"),"Line Work","line_work"),o(c("shading"),"Shading","shading"),o(c("detail_level"),"Detail Level","detail_level")]})]})}),h.jsx("div",{className:"timeline-scene-card",children:h.jsxs("div",{className:"scene-card-content",children:[h.jsx("div",{className:"scene-card-header",children:h.jsx("h3",{className:"style-card-title",children:"Composition"})}),h.jsxs("div",{className:"style-grid-2x2",children:[o(c("framing"),"Framing","framing"),o(c("depth"),"Depth","depth"),o(c("camera_style"),"Camera Style","camera_style"),o(c("aspect_ratio"),"Aspect Ratio","aspect_ratio")]})]})}),h.jsx("div",{className:"timeline-scene-card",children:h.jsxs("div",{className:"scene-card-content",children:[h.jsx("div",{className:"scene-card-header",children:h.jsx("h3",{className:"style-card-title",children:"Mood Style"})}),h.jsxs("div",{className:"style-grid-2x2",children:[o(c("overall_mood"),"Overall Mood","overall_mood"),o(c("lighting_description"),"Lighting","lighting_description"),o(c("atmosphere"),"Atmosphere","atmosphere"),o(c("tone"),"Tone","tone")]})]})})]})})}function Ji({title:e,children:t,defaultOpen:n=!1,icon:s=""}){const i=`accordion-${e.replace(/\s+/g,"-").toLowerCase()}`,[a,r]=T.useState(()=>{const o=localStorage.getItem(i);return o!==null?JSON.parse(o):n}),l=()=>{const o=!a;r(o),localStorage.setItem(i,JSON.stringify(o))};return h.jsxs("div",{className:"accordion-section",children:[h.jsxs("button",{className:`accordion-header ${a?"open":""}`,onClick:l,children:[h.jsxs("div",{className:"accordion-title",children:[h.jsx("span",{className:"accordion-icon",children:s}),h.jsx("span",{className:"accordion-label",children:e})]}),h.jsx("span",{className:"accordion-arrow",children:a?"":""})]}),a&&h.jsx("div",{className:"accordion-content",children:h.jsx("div",{className:"accordion-inner",children:t})})]})}function GN(){var S,p,g,y,_;const[e,t]=T.useState({}),[n,s]=T.useState(""),[i,a]=T.useState(!1),[r,l]=T.useState(!1),[o,c]=T.useState(!0),[u,f]=T.useState("");T.useEffect(()=>{d()},[]);const d=async()=>{c(!0),f("");try{const w=await J0();t(w),s(JSON.stringify(w,null,2)),a(!1)}catch(w){f("Failed to load configuration"),console.error("Load error:",w)}c(!1)},m=async()=>{l(!0),f("");try{const w=JSON.parse(n);await Ij(w)?(t(w),a(!1),window.dispatchEvent(new CustomEvent("llm-config-updated",{detail:w})),await d(),console.log(" Configuration saved and reloaded successfully")):f("Failed to save configuration")}catch(w){f("Invalid JSON format"),console.error("Save error:",w)}l(!1)},v=w=>{s(w),a(!0),f("")},b=(w,E)=>{try{const x=JSON.parse(E),j={...e,[w]:x};t(j),s(JSON.stringify(j,null,2)),a(!0),f("")}catch{f(`Invalid JSON in ${w} section`)}};return o?h.jsx("div",{className:"config-tab",children:h.jsx("div",{className:"config-loading",children:"Loading configuration..."})}):h.jsxs("div",{className:"config-tab",children:[h.jsxs("div",{className:"config-header",children:[h.jsxs("div",{children:[h.jsx("h2",{children:" LLM Configuration"}),h.jsx("p",{className:"config-subtitle",children:"Manage AI providers, prompts, and generation settings"})]}),h.jsxs("div",{className:"config-actions",children:[h.jsx("button",{onClick:d,disabled:r,className:"btn btn-secondary",children:" Reload"}),h.jsx("button",{onClick:m,disabled:!i||r,className:`btn ${i?"btn-primary":"btn-secondary"}`,children:r?" Saving...":i?" Save Config":" Saved"})]})]}),u&&h.jsxs("div",{className:"config-error",children:[" ",u]}),h.jsxs("div",{className:"config-accordion",children:[h.jsx(Ji,{title:"Scene Frame Prompt Generation",icon:"",defaultOpen:!0,children:h.jsxs("div",{className:"config-section",children:[h.jsx("p",{children:"System and user prompts for scene start frame generation"}),h.jsxs("div",{className:"prompt-subsection",children:[h.jsx("h4",{className:"prompt-subsection-title",children:" System Prompt"}),h.jsx("p",{className:"prompt-subsection-desc",children:"Instructions for the AI model about how to generate scene prompts"}),h.jsx("textarea",{value:((S=e==null?void 0:e.start_frame_prompt_generation)==null?void 0:S.system_prompt)||"",onChange:w=>{const E={...e,start_frame_prompt_generation:{...e==null?void 0:e.start_frame_prompt_generation,system_prompt:w.target.value}};t(E),s(JSON.stringify(E,null,2)),a(!0),f("")},className:"section-textarea prompt-textarea",rows:8,placeholder:"Enter system prompt instructions..."}),h.jsx("div",{className:"prompt-preview",children:h.jsxs("details",{children:[h.jsx("summary",{className:"prompt-preview-toggle",children:" Preview stored format"}),h.jsx("pre",{className:"prompt-preview-content",children:((p=e==null?void 0:e.start_frame_prompt_generation)==null?void 0:p.system_prompt)||"No content"})]})})]}),h.jsxs("div",{className:"prompt-subsection",children:[h.jsx("h4",{className:"prompt-subsection-title",children:" User Prompt"}),h.jsx("p",{className:"prompt-subsection-desc",children:"Template for user input to generate scene descriptions"}),h.jsx("textarea",{value:((g=e==null?void 0:e.start_frame_prompt_generation)==null?void 0:g.user_prompt)||"",onChange:w=>{const E={...e,start_frame_prompt_generation:{...e==null?void 0:e.start_frame_prompt_generation,user_prompt:w.target.value}};t(E),s(JSON.stringify(E,null,2)),a(!0),f("")},className:"section-textarea prompt-textarea",rows:6,placeholder:"Enter user prompt template..."}),h.jsx("div",{className:"prompt-preview",children:h.jsxs("details",{children:[h.jsx("summary",{className:"prompt-preview-toggle",children:" Preview stored format"}),h.jsx("pre",{className:"prompt-preview-content",children:((y=e==null?void 0:e.start_frame_prompt_generation)==null?void 0:y.user_prompt)||"No content"})]})})]})]})}),h.jsx(Ji,{title:"LLM Providers",icon:"",defaultOpen:!1,children:h.jsxs("div",{className:"config-section",children:[h.jsx("p",{children:"Model configurations for different AI providers"}),h.jsx("textarea",{value:JSON.stringify((e==null?void 0:e.llm_providers)||{},null,2),onChange:w=>b("llm_providers",w.target.value),className:"section-textarea",rows:8})]})}),h.jsx(Ji,{title:"Image Generation",icon:"",defaultOpen:!1,children:h.jsxs("div",{className:"config-section",children:[h.jsx("p",{children:"Image generation API settings and parameters"}),h.jsx("textarea",{value:JSON.stringify((e==null?void 0:e.image_generation)||{},null,2),onChange:w=>b("image_generation",w.target.value),className:"section-textarea",rows:8})]})}),h.jsx(Ji,{title:"Video Generation",icon:"",defaultOpen:!1,children:h.jsxs("div",{className:"config-section",children:[h.jsx("p",{children:"Video generation API settings and parameters"}),h.jsx("textarea",{value:JSON.stringify((e==null?void 0:e.video_generation)||{},null,2),onChange:w=>b("video_generation",w.target.value),className:"section-textarea",rows:8})]})}),h.jsx(Ji,{title:"Raw JSON",icon:"",defaultOpen:!1,children:h.jsxs("div",{className:"config-section",children:[h.jsx("p",{children:"Complete configuration JSON (advanced editing)"}),h.jsx("textarea",{value:n,onChange:w=>v(w.target.value),className:"section-textarea",rows:20})]})})]}),h.jsxs("div",{className:"config-status",children:[h.jsxs("span",{children:["Status: ",i?" Unsaved changes":" Saved"]}),h.jsxs("span",{children:["Version: ",((_=e==null?void 0:e.configuration_metadata)==null?void 0:_.version)||"Unknown"]})]})]})}const Kl=class Kl{static saveBackup(t,n,s){try{const i={masterJSON:n,timestamp:new Date().toISOString(),projectId:t,version:s},a=this.BACKUP_PREFIX+t;localStorage.setItem(a,JSON.stringify(i)),console.log(" Backup saved for project:",t)}catch(i){console.warn("Failed to save backup to localStorage:",i)}}static checkForRestoration(t,n){try{const s=this.BACKUP_PREFIX+t,i=localStorage.getItem(s);if(!i)return null;const a=JSON.parse(i);if(a.projectId===t&&a.masterJSON){const r=new Date(a.timestamp).getTime();if(Date.now()-r<this.BACKUP_EXPIRY_DAYS*24*60*60*1e3)return console.log(" Found potential backup for restoration:",{backupVersion:a.version,currentVersion:n,timestamp:a.timestamp}),a}return null}catch(s){return console.warn("Failed to check backup from localStorage:",s),null}}static clearBackup(t){try{const n=this.BACKUP_PREFIX+t;localStorage.removeItem(n),console.log(" Backup cleared for project:",t)}catch(n){console.warn("Failed to clear backup from localStorage:",n)}}static cleanupOldBackups(){try{const t=[],n=Date.now()-this.BACKUP_EXPIRY_DAYS*24*60*60*1e3;for(let s=0;s<localStorage.length;s++){const i=localStorage.key(s);if(i!=null&&i.startsWith(this.BACKUP_PREFIX)){const a=localStorage.getItem(i);if(a){const r=JSON.parse(a);new Date(r.timestamp).getTime()<n&&t.push(i)}}}t.forEach(s=>localStorage.removeItem(s)),t.length>0&&console.log(` Cleaned up ${t.length} old backups`)}catch(t){console.warn("Failed to cleanup old backups:",t)}}};Kl.BACKUP_PREFIX="flow-studio-backup-",Kl.BACKUP_EXPIRY_DAYS=7;let Gt=Kl;function YN({user:e}){var th;const{id:t}=uT(),n=mo(),[s,i]=T.useState(null),[a,r]=T.useState([]),[l,o]=T.useState(null),[c,u]=T.useState("timeline"),[f,d]=T.useState(!0),[m,v]=T.useState({}),[b,S]=T.useState(!1),[p,g]=T.useState([]),[y,_]=T.useState(!1),[w,E]=T.useState(!0),[x,j]=T.useState(""),[C,O]=T.useState(!1),[P,z]=T.useState(!1),[re,Y]=T.useState(""),[I,N]=T.useState(!1),[D,M]=T.useState(null),[K,te]=T.useState({loaded:!1,version:0});T.useEffect(()=>{if(!t){n("/dashboard");return}Gt.cleanupOldBackups(),Fn()},[t,n]);const Xn=T.useCallback(async()=>{if(t){te({loaded:!1,version:0});try{const R=await Xj(t);if(R){v(R),j(JSON.stringify(R,null,2));const $=await tp(t);$&&te({loaded:!0,version:$.current_version,lastSaved:$.updated_at}),O(!1);const ot=Gt.checkForRestoration(t,$.current_version);ot&&(M(ot),N(!0))}else te({loaded:!1,version:0,error:"Master JSON not found"})}catch(R){console.error("Error loading master JSON:",R),te({loaded:!1,version:0,error:"Failed to load master JSON"})}}},[t]),Kn=T.useCallback(async()=>{if(!t)return;_(!0);const R=await Kj(t);g(R),_(!1)},[t]),Bi=T.useCallback(async R=>{if(!t)return;const $=await Fj(t,R);$&&$.master_json&&(v($.master_json),j(JSON.stringify($.master_json,null,2)),O(!0),S(!1))},[t]),lt=T.useCallback(async()=>{if(!t||!x.trim()){Y("No content to save");return}z(!0),Y("");try{const R=JSON.parse(x);if(await $u(t,R,"Master JSON updated")){v(R),O(!1),Gt.clearBackup(t);const ot=a.find($i=>$i.phase_name===l),Ao=R.scenes&&typeof R.scenes=="object"&&R.scenes!==null&&Object.keys(R.scenes).length>0;await Xn();const Co=await np(t);r(Co);const Oo=Co.find($i=>$i.phase_index===2),No=Co.find($i=>$i.phase_index===3);Ao&&(!(Oo!=null&&Oo.can_proceed)||!(No!=null&&No.can_proceed))&&(console.warn("Phase unlock validation failed - phases not unlocked as expected"),Y("Phases should have unlocked but didn't. Please refresh the page."))}else Y("Failed to save master JSON to database")}catch(R){console.error("Error saving master JSON:",R),R instanceof SyntaxError?Y("Invalid JSON format. Please check your syntax."):R.message.includes("database")||R.message.includes("supabase")?Y("Database connection failed. Please check your internet connection and try again."):R.message.includes("project not found")?Y("Project not found. Please refresh the page and try again."):R.message.includes("reload data")?Y("Save succeeded but failed to reload. Please refresh the page to see changes."):Y(`Save failed: ${R.message||"Unknown error occurred"}`)}finally{z(!1)}},[t,x]),Fn=async()=>{if(!t)return;d(!0);const[R,$]=await Promise.all([tp(t),np(t)]);if(!R){n("/dashboard");return}i(R),r($);const ot=$.find(Ao=>Ao.can_proceed);ot&&o(ot.phase_name),await Xn(),d(!1)},zi=R=>({script_interpretation:"Script Rendering",element_images:"Elements Creation",scene_generation:"Scenes Frame Generation",scene_videos:"Scene Video",final_assembly:"Assembly"})[R]||R,Jd=R=>({script_interpretation:"",element_images:"",scene_generation:"",scene_videos:"",final_assembly:""})[R]||"",Wd=R=>R.status==="completed"?"#00cc00":R.status==="processing"?"#ff9900":R.can_proceed?"#0066cc":"#666",eh=R=>R.status==="completed"?"Completed":R.status==="processing"?"Processing":R.can_proceed?"Available":"Locked",R_=R=>{!R.can_proceed&&R.status!=="completed"||o(R.phase_name)};T.useCallback(async R=>{console.log("loadPhaseContent called but deprecated - using master JSON")},[]);const Eo=T.useCallback(R=>{j(R),O(!0)},[]);T.useCallback(async()=>{console.warn("handleSavePhase called - redirecting to handleSaveJSON"),await lt()},[lt]);const D_=()=>{const R=a.find($=>$.phase_name===l);if(!R||!s)return null;switch(c){case"json":return h.jsxs("div",{className:"view-content-container",children:[h.jsxs("div",{className:"view-content-header",children:[h.jsx("span",{className:"view-content-title",children:l==="script_interpretation"?`JSON Content (Phase ${R.phase_index})`:`Base Script Content (From Phase 1  Phase ${R.phase_index})`}),h.jsx("span",{className:"view-content-subtitle",children:x||m?"Master JSON loaded":"No content - Complete Phase 1 first"})]}),h.jsx("div",{className:"json-editor",children:h.jsx("textarea",{value:x||(m?JSON.stringify(m,null,2):""),onChange:$=>Eo($.target.value),className:"json-textarea",style:{width:"100%",minHeight:"500px",fontFamily:"Monaco, Menlo, Consolas, monospace",fontSize:"0.875rem",padding:"1rem",border:"1px solid var(--color-border-default)",borderRadius:"4px",background:"var(--color-bg-secondary)",color:"var(--color-text-primary)",resize:"vertical"},placeholder:"No script interpretation content available - Please complete Phase 1 first to proceed with subsequent phases.",disabled:l!=="script_interpretation"})})]});case"timeline":if(m&&Object.keys(m).length>0){const $=m;return h.jsx(HN,{content:$,projectId:s.id,projectName:s.name,phaseId:R.id,onContentUpdate:ot=>{v(ot),j(JSON.stringify(ot,null,2)),O(!0),Gt.saveBackup(t,ot,K.version)}})}return h.jsxs("div",{className:"view-placeholder",children:[h.jsx("div",{className:"view-placeholder-icon",children:""}),h.jsx("h3",{className:"view-placeholder-title",children:"Timeline View"}),h.jsxs("p",{children:["Story foundation for ",R.phase_name.replace("_"," ")]}),h.jsx("p",{children:h.jsx("em",{children:"Complete Phase 1 first to see the timeline foundation"})})]});case"elements":return h.jsxs("div",{className:"view-placeholder",children:[h.jsx("div",{className:"view-placeholder-icon",children:""}),h.jsx("h3",{className:"view-placeholder-title",children:"Elements View"}),h.jsx("p",{children:"Cross-scene element management (Phase 2+)"})]});case"style":return m&&Object.keys(m).length>0?h.jsx(qN,{masterJson:m,onContentUpdate:$=>{v($),j(JSON.stringify($,null,2)),O(!0),Gt.saveBackup(t,$,K.version)}}):h.jsxs("div",{className:"view-placeholder",children:[h.jsx("div",{className:"view-placeholder-icon",children:""}),h.jsx("h3",{className:"view-placeholder-title",children:"Style Control"}),h.jsx("p",{children:h.jsx("em",{children:"Complete Phase 1 first to access style controls"})})]});case"config":return h.jsx(GN,{});default:return null}},M_=()=>{if(!s)return null;const R=zu.getCompletedPhases(m),$=a.find(ot=>ot.phase_name===l);return h.jsx("div",{className:"project-header-sticky",children:h.jsxs("div",{className:"flex justify-between items-center text-sm text-muted",children:[h.jsxs("div",{children:["Project: ",h.jsx("strong",{className:"text-primary",children:s.name})]}),h.jsxs("div",{className:"project-status-center",children:["Progress: ",h.jsxs("strong",{className:"text-success",children:[R,"/5 phases completed"]}),C&&h.jsx("span",{className:"unsaved-changes-indicator",children:"  Unsaved Changes"})]}),h.jsxs("div",{className:"header-actions",children:[h.jsx("button",{onClick:lt,disabled:P||!C||!x.trim(),className:`btn text-xs px-md py-xs ${!C||!x.trim()||P?"btn-secondary":"btn-success"}`,children:P?" Saving...":C?" Save":" Saved"}),K.version>0&&h.jsx("button",{onClick:()=>{Kn(),S(!0)},className:"btn text-xs px-md py-xs btn-secondary",children:" History"}),$&&h.jsxs("span",{className:"current-phase-status",children:["Phase ",$.phase_index,": ",h.jsx("strong",{className:"text-accent",children:zi($.phase_name)})]})]})]})})},k_=()=>{const R=a.find($=>$.phase_name===l);return!R||!s?null:h.jsx("div",{className:"phase-content-container",children:l==="script_interpretation"?h.jsx(Jj,{phase:R,projectId:s.id,projectName:s.name,onContentChange:Fn,jsonContent:x,hasUnsavedChanges:C,isSaving:P,error:re,databaseStatus:K,showVersionHistory:b,versionHistory:p,loadingVersions:y,onJsonChange:Eo,onSavePhase:lt,onLoadPhaseContent:()=>{},onLoadVersionHistory:()=>Kn(),onLoadVersionContent:$=>Bi($),onShowVersionHistory:S,useProduction:w,onUseProductionChange:E}):l==="scene_generation"?h.jsx(iE,{phase:R,projectId:s.id,projectName:s.name,masterJSON:m,onContentUpdate:$=>{v($),j(JSON.stringify($,null,2)),O(!0),Gt.saveBackup(t,$,K.version)},hasUnsavedChanges:C,onJsonChange:Eo}):h.jsxs("div",{className:"phase-content-container",children:[h.jsx("div",{className:"phase-content-header",children:h.jsxs("div",{children:[h.jsxs("h2",{className:"phase-content-title",children:[Jd(R.phase_name)," ",zi(R.phase_name)]}),h.jsxs("div",{className:"phase-content-meta",children:[h.jsxs("span",{children:["Phase ",R.phase_index," of 5"]}),h.jsx("span",{className:"phase-status",style:{background:Wd(R)},children:eh(R)})]})]})}),h.jsx("div",{className:"phase-placeholder",children:h.jsxs("div",{className:"phase-placeholder-content",children:[h.jsx("div",{className:"phase-placeholder-icon",children:Jd(R.phase_name)}),h.jsxs("h3",{className:"phase-placeholder-title",children:[zi(R.phase_name)," Module"]}),h.jsxs("p",{className:"phase-placeholder-description",children:["This phase module will be implemented next. It will handle the ",R.phase_name.replace("_"," "),"workflow including n8n integration, content generation, and user approval interface."]}),R.can_proceed&&!R.user_saved&&h.jsx("div",{children:h.jsxs("button",{className:"phase-start-button",children:["Start ",zi(R.phase_name)]})})]})})]})})};return f?h.jsx("div",{className:"loading-container",children:"Loading project..."}):!s||!t?h.jsx("div",{className:"loading-container",children:"Project not found"}):h.jsxs("div",{className:"project-detail-container",children:[h.jsxs("div",{className:"project-detail-sidebar",children:[h.jsxs("div",{className:"phase-placeholder-section",children:[h.jsx("button",{onClick:()=>n("/dashboard"),className:"back-button",children:" Back to Projects"}),h.jsx("h1",{className:"project-title",children:s.name}),h.jsx("p",{className:"project-client",children:((th=m==null?void 0:m.project_metadata)==null?void 0:th.client)||"Unknown Client"})]}),h.jsxs("div",{className:"phase-placeholder-section",children:[h.jsx("h3",{className:"phases-section-title",children:"Project Phases"}),h.jsx("div",{className:"phases-list",children:a.map(R=>h.jsx("button",{onClick:()=>R_(R),disabled:!R.can_proceed&&!R.user_saved,className:`phase-button-container ${l===R.phase_name?"active":""}`,children:h.jsxs("div",{className:"phase-button-row",children:[h.jsx("div",{className:"phase-number-column",children:h.jsx("span",{className:"phase-number",children:R.phase_index})}),h.jsxs("div",{className:"phase-info-column",children:[h.jsx("div",{className:"phase-name",children:zi(R.phase_name)}),h.jsx("div",{className:"phase-status-text",children:eh(R)})]}),h.jsx("div",{className:"phase-status-dot",style:{background:Wd(R)}})]})},R.id))})]}),h.jsxs("div",{className:"progress-summary",children:[h.jsx("strong",{children:"Progress:"})," ",zu.getCompletedPhases(m)," of 5 phases completed"]})]}),h.jsxs("div",{className:"project-main-content",children:[M_(),h.jsxs("div",{className:"project-area project-area-1 project-nav-sticky",children:[h.jsx("div",{className:"project-area-header area-header-1",children:" AREA 1: NAVIGATION BAR (4 TABS)"}),h.jsx(aE,{activeView:c,onViewChange:u,masterJSON:m})]}),c!=="config"&&h.jsxs("div",{className:"project-area project-area-2",children:[h.jsx("div",{className:"project-area-header area-header-2",children:" AREA 2: PHASE CONTENT"}),k_()]}),h.jsxs("div",{className:"project-area project-area-3",children:[h.jsx("div",{className:"project-area-header area-header-3",children:" AREA 3: CONTENT AREA (JSON | TIMELINE | ELEMENTS | STYLE)"}),D_()]})]}),I&&D&&h.jsx("div",{className:"modal-overlay",children:h.jsxs("div",{className:"modal-content modal-width-500",children:[h.jsx("h2",{className:"text-primary text-2xl mb-xl flex items-center gap-md mb-0",children:" Restore Unsaved Changes?"}),h.jsxs("div",{className:"bg-warning border border-light p-xl rounded-md mb-2xl",children:[h.jsx("p",{className:"text-secondary mb-md mb-0",children:"We found unsaved changes from your previous session."}),h.jsxs("p",{className:"text-sm text-muted mb-0",children:["Backup saved: ",new Date(D.timestamp).toLocaleString()]})]}),h.jsx("div",{className:"db-status db-status-info mb-2xl",children:h.jsx("p",{className:"text-sm mb-0",children:" Your changes will be restored and you can continue editing where you left off."})}),h.jsxs("div",{className:"flex gap-xl justify-end",children:[h.jsx("button",{onClick:()=>{N(!1),M(null),Gt.clearBackup(t)},className:"btn btn-secondary",children:"Discard Changes"}),h.jsx("button",{onClick:()=>{v(D.masterJSON),j(JSON.stringify(D.masterJSON,null,2)),O(!0),N(!1),M(null)},className:"btn btn-primary",children:" Restore Changes"})]})]})})]})}function XN(){const[e,t]=T.useState(null),[n,s]=T.useState(!0);return T.useEffect(()=>{Ee.auth.getSession().then(({data:{session:a}})=>{t((a==null?void 0:a.user)??null),s(!1)});const{data:{subscription:i}}=Ee.auth.onAuthStateChange((a,r)=>{t((r==null?void 0:r.user)??null)});return()=>i.unsubscribe()},[]),n?h.jsx("div",{className:"app-loading",children:"Loading..."}):h.jsxs(ET,{children:[h.jsx(sa,{path:"/login",element:e?h.jsx(Vr,{to:"/dashboard",replace:!0}):h.jsx(qj,{})}),h.jsx(sa,{path:"/dashboard",element:e?h.jsx(Zj,{user:e}):h.jsx(Vr,{to:"/login",replace:!0})}),h.jsx(sa,{path:"/project/:id",element:e?h.jsx(YN,{user:e}):h.jsx(Vr,{to:"/login",replace:!0})}),h.jsx(sa,{path:"/",element:h.jsx(Vr,{to:e?"/dashboard":"/login",replace:!0})})]})}Uw.createRoot(document.getElementById("root")).render(h.jsx(T.StrictMode,{children:h.jsx(OT,{children:h.jsx(XN,{})})}));
