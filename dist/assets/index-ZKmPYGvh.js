function E_(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var bt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function A_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}),n}var fg={exports:{}},Yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_=Symbol.for("react.transitional.element"),C_=Symbol.for("react.fragment");function hg(e,t,n){var s=null;if(n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:O_,type:e,key:s,ref:t!==void 0?t:null,props:n}}Yl.Fragment=C_;Yl.jsx=hg;Yl.jsxs=hg;fg.exports=Yl;var m=fg.exports,dg={exports:{}},B={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sf=Symbol.for("react.transitional.element"),R_=Symbol.for("react.portal"),D_=Symbol.for("react.fragment"),N_=Symbol.for("react.strict_mode"),M_=Symbol.for("react.profiler"),k_=Symbol.for("react.consumer"),U_=Symbol.for("react.context"),V_=Symbol.for("react.forward_ref"),L_=Symbol.for("react.suspense"),B_=Symbol.for("react.memo"),mg=Symbol.for("react.lazy"),Fh=Symbol.iterator;function P_(e){return e===null||typeof e!="object"?null:(e=Fh&&e[Fh]||e["@@iterator"],typeof e=="function"?e:null)}var pg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gg=Object.assign,yg={};function Ti(e,t,n){this.props=e,this.context=t,this.refs=yg,this.updater=n||pg}Ti.prototype.isReactComponent={};Ti.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ti.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vg(){}vg.prototype=Ti.prototype;function af(e,t,n){this.props=e,this.context=t,this.refs=yg,this.updater=n||pg}var rf=af.prototype=new vg;rf.constructor=af;gg(rf,Ti.prototype);rf.isPureReactComponent=!0;var Jh=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},bg=Object.prototype.hasOwnProperty;function lf(e,t,n,s,i,a){return n=a.ref,{$$typeof:sf,type:e,key:t,ref:n!==void 0?n:null,props:a}}function z_(e,t){return lf(e.type,t,void 0,void 0,void 0,e.props)}function of(e){return typeof e=="object"&&e!==null&&e.$$typeof===sf}function H_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ih=/\/+/g;function Ao(e,t){return typeof e=="object"&&e!==null&&e.key!=null?H_(""+e.key):t.toString(36)}function Wh(){}function q_(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Wh,Wh):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Ns(e,t,n,s,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(a){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case sf:case R_:r=!0;break;case mg:return r=e._init,Ns(r(e._payload),t,n,s,i)}}if(r)return i=i(e),r=s===""?"."+Ao(e,0):s,Jh(i)?(n="",r!=null&&(n=r.replace(Ih,"$&/")+"/"),Ns(i,t,n,"",function(u){return u})):i!=null&&(of(i)&&(i=z_(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(Ih,"$&/")+"/")+r)),t.push(i)),1;r=0;var l=s===""?".":s+":";if(Jh(e))for(var o=0;o<e.length;o++)s=e[o],a=l+Ao(s,o),r+=Ns(s,t,n,a,i);else if(o=P_(e),typeof o=="function")for(e=o.call(e),o=0;!(s=e.next()).done;)s=s.value,a=l+Ao(s,o++),r+=Ns(s,t,n,a,i);else if(a==="object"){if(typeof e.then=="function")return Ns(q_(e),t,n,s,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function _r(e,t,n){if(e==null)return e;var s=[],i=0;return Ns(e,s,"","",function(a){return t.call(n,a,i++)}),s}function $_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ed=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function G_(){}B.Children={map:_r,forEach:function(e,t,n){_r(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _r(e,function(){t++}),t},toArray:function(e){return _r(e,function(t){return t})||[]},only:function(e){if(!of(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};B.Component=Ti;B.Fragment=D_;B.Profiler=M_;B.PureComponent=af;B.StrictMode=N_;B.Suspense=L_;B.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le;B.__COMPILER_RUNTIME={__proto__:null,c:function(e){return le.H.useMemoCache(e)}};B.cache=function(e){return function(){return e.apply(null,arguments)}};B.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var s=gg({},e.props),i=e.key,a=void 0;if(t!=null)for(r in t.ref!==void 0&&(a=void 0),t.key!==void 0&&(i=""+t.key),t)!bg.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(s[r]=t[r]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];s.children=l}return lf(e.type,i,void 0,void 0,a,s)};B.createContext=function(e){return e={$$typeof:U_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:k_,_context:e},e};B.createElement=function(e,t,n){var s,i={},a=null;if(t!=null)for(s in t.key!==void 0&&(a=""+t.key),t)bg.call(t,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(i[s]=t[s]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];i.children=l}if(e&&e.defaultProps)for(s in r=e.defaultProps,r)i[s]===void 0&&(i[s]=r[s]);return lf(e,a,void 0,void 0,null,i)};B.createRef=function(){return{current:null}};B.forwardRef=function(e){return{$$typeof:V_,render:e}};B.isValidElement=of;B.lazy=function(e){return{$$typeof:mg,_payload:{_status:-1,_result:e},_init:$_}};B.memo=function(e,t){return{$$typeof:B_,type:e,compare:t===void 0?null:t}};B.startTransition=function(e){var t=le.T,n={};le.T=n;try{var s=e(),i=le.S;i!==null&&i(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(G_,ed)}catch(a){ed(a)}finally{le.T=t}};B.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()};B.use=function(e){return le.H.use(e)};B.useActionState=function(e,t,n){return le.H.useActionState(e,t,n)};B.useCallback=function(e,t){return le.H.useCallback(e,t)};B.useContext=function(e){return le.H.useContext(e)};B.useDebugValue=function(){};B.useDeferredValue=function(e,t){return le.H.useDeferredValue(e,t)};B.useEffect=function(e,t,n){var s=le.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return s.useEffect(e,t)};B.useId=function(){return le.H.useId()};B.useImperativeHandle=function(e,t,n){return le.H.useImperativeHandle(e,t,n)};B.useInsertionEffect=function(e,t){return le.H.useInsertionEffect(e,t)};B.useLayoutEffect=function(e,t){return le.H.useLayoutEffect(e,t)};B.useMemo=function(e,t){return le.H.useMemo(e,t)};B.useOptimistic=function(e,t){return le.H.useOptimistic(e,t)};B.useReducer=function(e,t,n){return le.H.useReducer(e,t,n)};B.useRef=function(e){return le.H.useRef(e)};B.useState=function(e){return le.H.useState(e)};B.useSyncExternalStore=function(e,t,n){return le.H.useSyncExternalStore(e,t,n)};B.useTransition=function(){return le.H.useTransition()};B.version="19.1.0";dg.exports=B;var T=dg.exports;const Y_=j_(T),X_=E_({__proto__:null,default:Y_},[T]);var _g={exports:{}},Xl={},Sg={exports:{}},xg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,N){var M=R.length;R.push(N);e:for(;0<M;){var Z=M-1>>>1,ee=R[Z];if(0<i(ee,N))R[Z]=N,R[M]=ee,M=Z;else break e}}function n(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var N=R[0],M=R.pop();if(M!==N){R[0]=M;e:for(var Z=0,ee=R.length,Gn=ee>>>1;Z<Gn;){var Yn=2*(Z+1)-1,Li=R[Yn],lt=Yn+1,Xn=R[lt];if(0>i(Li,M))lt<ee&&0>i(Xn,Li)?(R[Z]=Xn,R[lt]=M,Z=lt):(R[Z]=Li,R[Yn]=M,Z=Yn);else if(lt<ee&&0>i(Xn,M))R[Z]=Xn,R[lt]=M,Z=lt;else break e}}return N}function i(R,N){var M=R.sortIndex-N.sortIndex;return M!==0?M:R.id-N.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var r=Date,l=r.now();e.unstable_now=function(){return r.now()-l}}var o=[],u=[],c=1,f=null,h=3,d=!1,v=!1,_=!1,x=!1,p=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function b(R){for(var N=n(u);N!==null;){if(N.callback===null)s(u);else if(N.startTime<=R)s(u),N.sortIndex=N.expirationTime,t(o,N);else break;N=n(u)}}function w(R){if(_=!1,b(R),!v)if(n(o)!==null)v=!0,E||(E=!0,z());else{var N=n(u);N!==null&&Pe(w,N.startTime-R)}}var E=!1,S=-1,j=5,D=-1;function O(){return x?!0:!(e.unstable_now()-D<j)}function V(){if(x=!1,E){var R=e.unstable_now();D=R;var N=!0;try{e:{v=!1,_&&(_=!1,g(S),S=-1),d=!0;var M=h;try{t:{for(b(R),f=n(o);f!==null&&!(f.expirationTime>R&&O());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var ee=Z(f.expirationTime<=R);if(R=e.unstable_now(),typeof ee=="function"){f.callback=ee,b(R),N=!0;break t}f===n(o)&&s(o),b(R)}else s(o);f=n(o)}if(f!==null)N=!0;else{var Gn=n(u);Gn!==null&&Pe(w,Gn.startTime-R),N=!1}}break e}finally{f=null,h=M,d=!1}N=void 0}}finally{N?z():E=!1}}}var z;if(typeof y=="function")z=function(){y(V)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,X=ne.port2;ne.port1.onmessage=V,z=function(){X.postMessage(null)}}else z=function(){p(V,0)};function Pe(R,N){S=p(function(){R(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var N=3;break;default:N=h}var M=h;h=N;try{return R()}finally{h=M}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(R,N){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var M=h;h=R;try{return N()}finally{h=M}},e.unstable_scheduleCallback=function(R,N,M){var Z=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?Z+M:Z):M=Z,R){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=M+ee,R={id:c++,callback:N,priorityLevel:R,startTime:M,expirationTime:ee,sortIndex:-1},M>Z?(R.sortIndex=M,t(u,R),n(o)===null&&R===n(u)&&(_?(g(S),S=-1):_=!0,Pe(w,M-Z))):(R.sortIndex=ee,t(o,R),v||d||(v=!0,E||(E=!0,z()))),R},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(R){var N=h;return function(){var M=h;h=N;try{return R.apply(this,arguments)}finally{h=M}}}})(xg);Sg.exports=xg;var K_=Sg.exports,wg={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_=T;function Tg(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function rn(){}var He={d:{f:rn,r:function(){throw Error(Tg(522))},D:rn,C:rn,L:rn,m:rn,X:rn,S:rn,M:rn},p:0,findDOMNode:null},Z_=Symbol.for("react.portal");function F_(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z_,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}var sa=Q_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Kl(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}$e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=He;$e.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Tg(299));return F_(e,t,null,n)};$e.flushSync=function(e){var t=sa.T,n=He.p;try{if(sa.T=null,He.p=2,e)return e()}finally{sa.T=t,He.p=n,He.d.f()}};$e.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,He.d.C(e,t))};$e.prefetchDNS=function(e){typeof e=="string"&&He.d.D(e)};$e.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,s=Kl(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?He.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:s,integrity:i,fetchPriority:a}):n==="script"&&He.d.X(e,{crossOrigin:s,integrity:i,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};$e.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Kl(t.as,t.crossOrigin);He.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&He.d.M(e)};$e.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,s=Kl(n,t.crossOrigin);He.d.L(e,n,{crossOrigin:s,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};$e.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Kl(t.as,t.crossOrigin);He.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else He.d.m(e)};$e.requestFormReset=function(e){He.d.r(e)};$e.unstable_batchedUpdates=function(e,t){return e(t)};$e.useFormState=function(e,t,n){return sa.H.useFormState(e,t,n)};$e.useFormStatus=function(){return sa.H.useHostTransitionStatus()};$e.version="19.1.0";function Eg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Eg)}catch(e){console.error(e)}}Eg(),wg.exports=$e;var J_=wg.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Te=K_,jg=T,I_=J_;function A(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ag(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Za(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Og(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function td(e){if(Za(e)!==e)throw Error(A(188))}function W_(e){var t=e.alternate;if(!t){if(t=Za(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return td(i),e;if(a===s)return td(i),t;a=a.sibling}throw Error(A(188))}if(n.return!==s.return)n=i,s=a;else{for(var r=!1,l=i.child;l;){if(l===n){r=!0,n=i,s=a;break}if(l===s){r=!0,s=i,n=a;break}l=l.sibling}if(!r){for(l=a.child;l;){if(l===n){r=!0,n=a,s=i;break}if(l===s){r=!0,s=a,n=i;break}l=l.sibling}if(!r)throw Error(A(189))}}if(n.alternate!==s)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function Cg(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Cg(e),t!==null)return t;e=e.sibling}return null}var ae=Object.assign,eS=Symbol.for("react.element"),Sr=Symbol.for("react.transitional.element"),Fi=Symbol.for("react.portal"),Bs=Symbol.for("react.fragment"),Rg=Symbol.for("react.strict_mode"),Ru=Symbol.for("react.profiler"),tS=Symbol.for("react.provider"),Dg=Symbol.for("react.consumer"),Yt=Symbol.for("react.context"),uf=Symbol.for("react.forward_ref"),Du=Symbol.for("react.suspense"),Nu=Symbol.for("react.suspense_list"),cf=Symbol.for("react.memo"),hn=Symbol.for("react.lazy"),Mu=Symbol.for("react.activity"),nS=Symbol.for("react.memo_cache_sentinel"),nd=Symbol.iterator;function zi(e){return e===null||typeof e!="object"?null:(e=nd&&e[nd]||e["@@iterator"],typeof e=="function"?e:null)}var sS=Symbol.for("react.client.reference");function ku(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===sS?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bs:return"Fragment";case Ru:return"Profiler";case Rg:return"StrictMode";case Du:return"Suspense";case Nu:return"SuspenseList";case Mu:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Fi:return"Portal";case Yt:return(e.displayName||"Context")+".Provider";case Dg:return(e._context.displayName||"Context")+".Consumer";case uf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cf:return t=e.displayName||null,t!==null?t:ku(e.type)||"Memo";case hn:t=e._payload,e=e._init;try{return ku(e(t))}catch{}}return null}var Ji=Array.isArray,U=jg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=I_.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rs={pending:!1,data:null,method:null,action:null},Uu=[],Ps=-1;function Lt(e){return{current:e}}function Ce(e){0>Ps||(e.current=Uu[Ps],Uu[Ps]=null,Ps--)}function oe(e,t){Ps++,Uu[Ps]=e.current,e.current=t}var Dt=Lt(null),Ea=Lt(null),jn=Lt(null),ll=Lt(null);function ol(e,t){switch(oe(jn,t),oe(Ea,e),oe(Dt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?lm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=lm(t),e=Qv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Ce(Dt),oe(Dt,e)}function ci(){Ce(Dt),Ce(Ea),Ce(jn)}function Vu(e){e.memoizedState!==null&&oe(ll,e);var t=Dt.current,n=Qv(t,e.type);t!==n&&(oe(Ea,e),oe(Dt,n))}function ul(e){Ea.current===e&&(Ce(Dt),Ce(Ea)),ll.current===e&&(Ce(ll),Ua._currentValue=rs)}var Lu=Object.prototype.hasOwnProperty,ff=Te.unstable_scheduleCallback,Oo=Te.unstable_cancelCallback,iS=Te.unstable_shouldYield,aS=Te.unstable_requestPaint,Nt=Te.unstable_now,rS=Te.unstable_getCurrentPriorityLevel,Ng=Te.unstable_ImmediatePriority,Mg=Te.unstable_UserBlockingPriority,cl=Te.unstable_NormalPriority,lS=Te.unstable_LowPriority,kg=Te.unstable_IdlePriority,oS=Te.log,uS=Te.unstable_setDisableYieldValue,Fa=null,nt=null;function Sn(e){if(typeof oS=="function"&&uS(e),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(Fa,e)}catch{}}var st=Math.clz32?Math.clz32:hS,cS=Math.log,fS=Math.LN2;function hS(e){return e>>>=0,e===0?32:31-(cS(e)/fS|0)|0}var xr=256,wr=4194304;function Jn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ql(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var i=0,a=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var l=s&134217727;return l!==0?(s=l&~a,s!==0?i=Jn(s):(r&=l,r!==0?i=Jn(r):n||(n=l&~e,n!==0&&(i=Jn(n))))):(l=s&~a,l!==0?i=Jn(l):r!==0?i=Jn(r):n||(n=s&~e,n!==0&&(i=Jn(n)))),i===0?0:t!==0&&t!==i&&!(t&a)&&(a=i&-i,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:i}function Ja(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function dS(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ug(){var e=xr;return xr<<=1,!(xr&4194048)&&(xr=256),e}function Vg(){var e=wr;return wr<<=1,!(wr&62914560)&&(wr=4194304),e}function Co(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ia(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function mS(e,t,n,s,i,a){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(n=r&~n;0<n;){var c=31-st(n),f=1<<c;l[c]=0,o[c]=-1;var h=u[c];if(h!==null)for(u[c]=null,c=0;c<h.length;c++){var d=h[c];d!==null&&(d.lane&=-536870913)}n&=~f}s!==0&&Lg(e,s,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(r&~t))}function Lg(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-st(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&4194090}function Bg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-st(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}function hf(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function df(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Pg(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:i0(e.type))}function pS(e,t){var n=Q.p;try{return Q.p=e,t()}finally{Q.p=n}}var Pn=Math.random().toString(36).slice(2),Ve="__reactFiber$"+Pn,Fe="__reactProps$"+Pn,Ei="__reactContainer$"+Pn,Bu="__reactEvents$"+Pn,gS="__reactListeners$"+Pn,yS="__reactHandles$"+Pn,sd="__reactResources$"+Pn,Wa="__reactMarker$"+Pn;function mf(e){delete e[Ve],delete e[Fe],delete e[Bu],delete e[gS],delete e[yS]}function zs(e){var t=e[Ve];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ei]||n[Ve]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cm(e);e!==null;){if(n=e[Ve])return n;e=cm(e)}return t}e=n,n=e.parentNode}return null}function ji(e){if(e=e[Ve]||e[Ei]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ii(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(A(33))}function ti(e){var t=e[sd];return t||(t=e[sd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ae(e){e[Wa]=!0}var zg=new Set,Hg={};function _s(e,t){fi(e,t),fi(e+"Capture",t)}function fi(e,t){for(Hg[e]=t,e=0;e<t.length;e++)zg.add(t[e])}var vS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),id={},ad={};function bS(e){return Lu.call(ad,e)?!0:Lu.call(id,e)?!1:vS.test(e)?ad[e]=!0:(id[e]=!0,!1)}function Gr(e,t,n){if(bS(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Tr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Pt(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}var Ro,rd;function Ms(e){if(Ro===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ro=t&&t[1]||"",rd=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ro+e+rd}var Do=!1;function No(e,t){if(!e||Do)return"";Do=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(d){var h=d}Reflect.construct(e,[],f)}else{try{f.call()}catch(d){h=d}e.call(f.prototype)}}else{try{throw Error()}catch(d){h=d}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(d){if(d&&h&&typeof d.stack=="string")return[d.stack,h.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=s.DetermineComponentFrameRoot(),r=a[0],l=a[1];if(r&&l){var o=r.split(`
`),u=l.split(`
`);for(i=s=0;s<o.length&&!o[s].includes("DetermineComponentFrameRoot");)s++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(s===o.length||i===u.length)for(s=o.length-1,i=u.length-1;1<=s&&0<=i&&o[s]!==u[i];)i--;for(;1<=s&&0<=i;s--,i--)if(o[s]!==u[i]){if(s!==1||i!==1)do if(s--,i--,0>i||o[s]!==u[i]){var c=`
`+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=i);break}}}finally{Do=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ms(n):""}function _S(e){switch(e.tag){case 26:case 27:case 5:return Ms(e.type);case 16:return Ms("Lazy");case 13:return Ms("Suspense");case 19:return Ms("SuspenseList");case 0:case 15:return No(e.type,!1);case 11:return No(e.type.render,!1);case 1:return No(e.type,!0);case 31:return Ms("Activity");default:return""}}function ld(e){try{var t="";do t+=_S(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function SS(e){var t=qg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(r){s=""+r,a.call(this,r)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(r){s=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function fl(e){e._valueTracker||(e._valueTracker=SS(e))}function $g(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=qg(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function hl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var xS=/[\n"\\]/g;function pt(e){return e.replace(xS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Pu(e,t,n,s,i,a,r,l){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ht(t)):e.value!==""+ht(t)&&(e.value=""+ht(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?zu(e,r,ht(t)):n!=null?zu(e,r,ht(n)):s!=null&&e.removeAttribute("value"),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+ht(l):e.removeAttribute("name")}function Gg(e,t,n,s,i,a,r,l){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null))return;n=n!=null?""+ht(n):"",t=t!=null?""+ht(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}s=s??i,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=l?e.checked:!!s,e.defaultChecked=!!s,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r)}function zu(e,t,n){t==="number"&&hl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ni(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+ht(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Yg(e,t,n){if(t!=null&&(t=""+ht(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+ht(n):""}function Xg(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(A(92));if(Ji(s)){if(1<s.length)throw Error(A(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=ht(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s)}function hi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function od(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||wS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Kg(e,t,n){if(t!=null&&typeof t!="object")throw Error(A(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var i in t)s=t[i],t.hasOwnProperty(i)&&n[i]!==s&&od(e,i,s)}else for(var a in t)t.hasOwnProperty(a)&&od(e,a,t[a])}function pf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var TS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ES=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yr(e){return ES.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Hu=null;function gf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hs=null,si=null;function ud(e){var t=ji(e);if(t&&(e=t.stateNode)){var n=e[Fe]||null;e:switch(e=t.stateNode,t.type){case"input":if(Pu(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=s[Fe]||null;if(!i)throw Error(A(90));Pu(s,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&$g(s)}break e;case"textarea":Yg(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ni(e,!!n.multiple,t,!1)}}}var Mo=!1;function Qg(e,t,n){if(Mo)return e(t,n);Mo=!0;try{var s=e(t);return s}finally{if(Mo=!1,(Hs!==null||si!==null)&&(io(),Hs&&(t=Hs,e=si,si=Hs=null,ud(t),e)))for(t=0;t<e.length;t++)ud(e[t])}}function ja(e,t){var n=e.stateNode;if(n===null)return null;var s=n[Fe]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var It=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qu=!1;if(It)try{var Hi={};Object.defineProperty(Hi,"passive",{get:function(){qu=!0}}),window.addEventListener("test",Hi,Hi),window.removeEventListener("test",Hi,Hi)}catch{qu=!1}var xn=null,yf=null,Xr=null;function Zg(){if(Xr)return Xr;var e,t=yf,n=t.length,s,i="value"in xn?xn.value:xn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var r=n-e;for(s=1;s<=r&&t[n-s]===i[a-s];s++);return Xr=i.slice(e,1<s?1-s:void 0)}function Kr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Er(){return!0}function cd(){return!1}function Je(e){function t(n,s,i,a,r){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=r,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Er:cd,this.isPropagationStopped=cd,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),t}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zl=Je(Ss),er=ae({},Ss,{view:0,detail:0}),jS=Je(er),ko,Uo,qi,Fl=ae({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qi&&(qi&&e.type==="mousemove"?(ko=e.screenX-qi.screenX,Uo=e.screenY-qi.screenY):Uo=ko=0,qi=e),ko)},movementY:function(e){return"movementY"in e?e.movementY:Uo}}),fd=Je(Fl),AS=ae({},Fl,{dataTransfer:0}),OS=Je(AS),CS=ae({},er,{relatedTarget:0}),Vo=Je(CS),RS=ae({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),DS=Je(RS),NS=ae({},Ss,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),MS=Je(NS),kS=ae({},Ss,{data:0}),hd=Je(kS),US={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LS[e])?!!t[e]:!1}function vf(){return BS}var PS=ae({},er,{key:function(e){if(e.key){var t=US[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?VS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vf,charCode:function(e){return e.type==="keypress"?Kr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),zS=Je(PS),HS=ae({},Fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dd=Je(HS),qS=ae({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vf}),$S=Je(qS),GS=ae({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),YS=Je(GS),XS=ae({},Fl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),KS=Je(XS),QS=ae({},Ss,{newState:0,oldState:0}),ZS=Je(QS),FS=[9,13,27,32],bf=It&&"CompositionEvent"in window,ia=null;It&&"documentMode"in document&&(ia=document.documentMode);var JS=It&&"TextEvent"in window&&!ia,Fg=It&&(!bf||ia&&8<ia&&11>=ia),md=" ",pd=!1;function Jg(e,t){switch(e){case"keyup":return FS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ig(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qs=!1;function IS(e,t){switch(e){case"compositionend":return Ig(t);case"keypress":return t.which!==32?null:(pd=!0,md);case"textInput":return e=t.data,e===md&&pd?null:e;default:return null}}function WS(e,t){if(qs)return e==="compositionend"||!bf&&Jg(e,t)?(e=Zg(),Xr=yf=xn=null,qs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fg&&t.locale!=="ko"?null:t.data;default:return null}}var ex={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ex[e.type]:t==="textarea"}function Wg(e,t,n,s){Hs?si?si.push(s):si=[s]:Hs=s,t=Rl(t,"onChange"),0<t.length&&(n=new Zl("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var aa=null,Aa=null;function tx(e){Yv(e,0)}function Jl(e){var t=Ii(e);if($g(t))return e}function yd(e,t){if(e==="change")return t}var ey=!1;if(It){var Lo;if(It){var Bo="oninput"in document;if(!Bo){var vd=document.createElement("div");vd.setAttribute("oninput","return;"),Bo=typeof vd.oninput=="function"}Lo=Bo}else Lo=!1;ey=Lo&&(!document.documentMode||9<document.documentMode)}function bd(){aa&&(aa.detachEvent("onpropertychange",ty),Aa=aa=null)}function ty(e){if(e.propertyName==="value"&&Jl(Aa)){var t=[];Wg(t,Aa,e,gf(e)),Qg(tx,t)}}function nx(e,t,n){e==="focusin"?(bd(),aa=t,Aa=n,aa.attachEvent("onpropertychange",ty)):e==="focusout"&&bd()}function sx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Jl(Aa)}function ix(e,t){if(e==="click")return Jl(t)}function ax(e,t){if(e==="input"||e==="change")return Jl(t)}function rx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rt=typeof Object.is=="function"?Object.is:rx;function Oa(e,t){if(rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!Lu.call(t,i)||!rt(e[i],t[i]))return!1}return!0}function _d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sd(e,t){var n=_d(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_d(n)}}function ny(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ny(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=hl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=hl(e.document)}return t}function _f(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var lx=It&&"documentMode"in document&&11>=document.documentMode,$s=null,$u=null,ra=null,Gu=!1;function xd(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gu||$s==null||$s!==hl(s)||(s=$s,"selectionStart"in s&&_f(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ra&&Oa(ra,s)||(ra=s,s=Rl($u,"onSelect"),0<s.length&&(t=new Zl("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=$s)))}function Kn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gs={animationend:Kn("Animation","AnimationEnd"),animationiteration:Kn("Animation","AnimationIteration"),animationstart:Kn("Animation","AnimationStart"),transitionrun:Kn("Transition","TransitionRun"),transitionstart:Kn("Transition","TransitionStart"),transitioncancel:Kn("Transition","TransitionCancel"),transitionend:Kn("Transition","TransitionEnd")},Po={},iy={};It&&(iy=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function xs(e){if(Po[e])return Po[e];if(!Gs[e])return e;var t=Gs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in iy)return Po[e]=t[n];return e}var ay=xs("animationend"),ry=xs("animationiteration"),ly=xs("animationstart"),ox=xs("transitionrun"),ux=xs("transitionstart"),cx=xs("transitioncancel"),oy=xs("transitionend"),uy=new Map,Yu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yu.push("scrollEnd");function At(e,t){uy.set(e,t),_s(t,[e])}var wd=new WeakMap;function gt(e,t){if(typeof e=="object"&&e!==null){var n=wd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:ld(t)},wd.set(e,t),t)}return{value:e,source:t,stack:ld(t)}}var ft=[],Ys=0,Sf=0;function Il(){for(var e=Ys,t=Sf=Ys=0;t<e;){var n=ft[t];ft[t++]=null;var s=ft[t];ft[t++]=null;var i=ft[t];ft[t++]=null;var a=ft[t];if(ft[t++]=null,s!==null&&i!==null){var r=s.pending;r===null?i.next=i:(i.next=r.next,r.next=i),s.pending=i}a!==0&&cy(n,i,a)}}function Wl(e,t,n,s){ft[Ys++]=e,ft[Ys++]=t,ft[Ys++]=n,ft[Ys++]=s,Sf|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function xf(e,t,n,s){return Wl(e,t,n,s),dl(e)}function Ai(e,t){return Wl(e,null,null,t),dl(e)}function cy(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,s=a.alternate,s!==null&&(s.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-st(n),e=a.hiddenUpdates,s=e[i],s===null?e[i]=[t]:s.push(t),t.lane=n|536870912),a):null}function dl(e){if(50<ga)throw ga=0,hc=null,Error(A(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Xs={};function fx(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(e,t,n,s){return new fx(e,t,n,s)}function wf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ft(e,t){var n=e.alternate;return n===null?(n=tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function fy(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Qr(e,t,n,s,i,a){var r=0;if(s=e,typeof e=="function")wf(e)&&(r=1);else if(typeof e=="string")r=dw(e,n,Dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Mu:return e=tt(31,n,t,i),e.elementType=Mu,e.lanes=a,e;case Bs:return ls(n.children,i,a,t);case Rg:r=8,i|=24;break;case Ru:return e=tt(12,n,t,i|2),e.elementType=Ru,e.lanes=a,e;case Du:return e=tt(13,n,t,i),e.elementType=Du,e.lanes=a,e;case Nu:return e=tt(19,n,t,i),e.elementType=Nu,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tS:case Yt:r=10;break e;case Dg:r=9;break e;case uf:r=11;break e;case cf:r=14;break e;case hn:r=16,s=null;break e}r=29,n=Error(A(130,e===null?"null":typeof e,"")),s=null}return t=tt(r,n,t,i),t.elementType=e,t.type=s,t.lanes=a,t}function ls(e,t,n,s){return e=tt(7,e,s,t),e.lanes=n,e}function zo(e,t,n){return e=tt(6,e,null,t),e.lanes=n,e}function Ho(e,t,n){return t=tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ks=[],Qs=0,ml=null,pl=0,dt=[],mt=0,os=null,Xt=1,Kt="";function In(e,t){Ks[Qs++]=pl,Ks[Qs++]=ml,ml=e,pl=t}function hy(e,t,n){dt[mt++]=Xt,dt[mt++]=Kt,dt[mt++]=os,os=e;var s=Xt;e=Kt;var i=32-st(s)-1;s&=~(1<<i),n+=1;var a=32-st(t)+i;if(30<a){var r=i-i%5;a=(s&(1<<r)-1).toString(32),s>>=r,i-=r,Xt=1<<32-st(t)+i|n<<i|s,Kt=a+e}else Xt=1<<a|n<<i|s,Kt=e}function Tf(e){e.return!==null&&(In(e,1),hy(e,1,0))}function Ef(e){for(;e===ml;)ml=Ks[--Qs],Ks[Qs]=null,pl=Ks[--Qs],Ks[Qs]=null;for(;e===os;)os=dt[--mt],dt[mt]=null,Kt=dt[--mt],dt[mt]=null,Xt=dt[--mt],dt[mt]=null}var ze=null,de=null,K=!1,us=null,Ct=!1,Xu=Error(A(519));function gs(e){var t=Error(A(418,""));throw Ca(gt(t,e)),Xu}function Td(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[Ve]=e,t[Fe]=s,n){case"dialog":q("cancel",t),q("close",t);break;case"iframe":case"object":case"embed":q("load",t);break;case"video":case"audio":for(n=0;n<Na.length;n++)q(Na[n],t);break;case"source":q("error",t);break;case"img":case"image":case"link":q("error",t),q("load",t);break;case"details":q("toggle",t);break;case"input":q("invalid",t),Gg(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),fl(t);break;case"select":q("invalid",t);break;case"textarea":q("invalid",t),Xg(t,s.value,s.defaultValue,s.children),fl(t)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||Kv(t.textContent,n)?(s.popover!=null&&(q("beforetoggle",t),q("toggle",t)),s.onScroll!=null&&q("scroll",t),s.onScrollEnd!=null&&q("scrollend",t),s.onClick!=null&&(t.onclick=lo),t=!0):t=!1,t||gs(e)}function Ed(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 13:Ct=!1;return;case 27:case 3:Ct=!0;return;default:ze=ze.return}}function $i(e){if(e!==ze)return!1;if(!K)return Ed(e),K=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||vc(e.type,e.memoizedProps)),n=!n),n&&de&&gs(e),Ed(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){de=jt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}de=null}}else t===27?(t=de,zn(e.type)?(e=Sc,Sc=null,de=e):de=t):de=ze?jt(e.stateNode.nextSibling):null;return!0}function tr(){de=ze=null,K=!1}function jd(){var e=us;return e!==null&&(Ke===null?Ke=e:Ke.push.apply(Ke,e),us=null),e}function Ca(e){us===null?us=[e]:us.push(e)}var Ku=Lt(null),ws=null,Qt=null;function gn(e,t,n){oe(Ku,t._currentValue),t._currentValue=n}function Jt(e){e._currentValue=Ku.current,Ce(Ku)}function Qu(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Zu(e,t,n,s){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){var r=i.child;a=a.firstContext;e:for(;a!==null;){var l=a;a=i;for(var o=0;o<t.length;o++)if(l.context===t[o]){a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Qu(a.return,n,e),s||(r=null);break e}a=l.next}}else if(i.tag===18){if(r=i.return,r===null)throw Error(A(341));r.lanes|=n,a=r.alternate,a!==null&&(a.lanes|=n),Qu(r,n,e),r=null}else r=i.child;if(r!==null)r.return=i;else for(r=i;r!==null;){if(r===e){r=null;break}if(i=r.sibling,i!==null){i.return=r.return,r=i;break}r=r.return}i=r}}function nr(e,t,n,s){e=null;for(var i=t,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var r=i.alternate;if(r===null)throw Error(A(387));if(r=r.memoizedProps,r!==null){var l=i.type;rt(i.pendingProps.value,r.value)||(e!==null?e.push(l):e=[l])}}else if(i===ll.current){if(r=i.alternate,r===null)throw Error(A(387));r.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(Ua):e=[Ua])}i=i.return}e!==null&&Zu(t,e,n,s),t.flags|=262144}function gl(e){for(e=e.firstContext;e!==null;){if(!rt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ys(e){ws=e,Qt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Le(e){return dy(ws,e)}function jr(e,t){return ws===null&&ys(e),dy(e,t)}function dy(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Qt===null){if(e===null)throw Error(A(308));Qt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Qt=Qt.next=t;return n}var hx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},dx=Te.unstable_scheduleCallback,mx=Te.unstable_NormalPriority,xe={$$typeof:Yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jf(){return{controller:new hx,data:new Map,refCount:0}}function sr(e){e.refCount--,e.refCount===0&&dx(mx,function(){e.controller.abort()})}var la=null,Fu=0,di=0,ii=null;function px(e,t){if(la===null){var n=la=[];Fu=0,di=Zf(),ii={status:"pending",value:void 0,then:function(s){n.push(s)}}}return Fu++,t.then(Ad,Ad),t}function Ad(){if(--Fu===0&&la!==null){ii!==null&&(ii.status="fulfilled");var e=la;la=null,di=0,ii=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function gx(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(s.status="rejected",s.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),s}var Od=U.S;U.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&px(e,t),Od!==null&&Od(e,t)};var cs=Lt(null);function Af(){var e=cs.current;return e!==null?e:ie.pooledCache}function Zr(e,t){t===null?oe(cs,cs.current):oe(cs,t.pool)}function my(){var e=Af();return e===null?null:{parent:xe._currentValue,pool:e}}var ir=Error(A(460)),py=Error(A(474)),eo=Error(A(542)),Ju={then:function(){}};function Cd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ar(){}function gy(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ar,Ar),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dd(e),e;default:if(typeof t.status=="string")t.then(Ar,Ar);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(A(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=s}},function(s){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dd(e),e}throw oa=t,ir}}var oa=null;function Rd(){if(oa===null)throw Error(A(459));var e=oa;return oa=null,e}function Dd(e){if(e===ir||e===eo)throw Error(A(483))}var dn=!1;function Of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Iu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function An(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function On(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,J&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,t=dl(e),cy(e,null,n),t}return Wl(e,s,t,n),dl(e)}function ua(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Bg(e,n)}}function qo(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=r:a=a.next=r,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Wu=!1;function ca(){if(Wu){var e=ii;if(e!==null)throw e}}function fa(e,t,n,s){Wu=!1;var i=e.updateQueue;dn=!1;var a=i.firstBaseUpdate,r=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var o=l,u=o.next;o.next=null,r===null?a=u:r.next=u,r=o;var c=e.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==r&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=o))}if(a!==null){var f=i.baseState;r=0,c=u=o=null,l=a;do{var h=l.lane&-536870913,d=h!==l.lane;if(d?(G&h)===h:(s&h)===h){h!==0&&h===di&&(Wu=!0),c!==null&&(c=c.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var v=e,_=l;h=t;var x=n;switch(_.tag){case 1:if(v=_.payload,typeof v=="function"){f=v.call(x,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,h=typeof v=="function"?v.call(x,f,h):v,h==null)break e;f=ae({},f,h);break e;case 2:dn=!0}}h=l.callback,h!==null&&(e.flags|=64,d&&(e.flags|=8192),d=i.callbacks,d===null?i.callbacks=[h]:d.push(h))}else d={lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=d,o=f):c=c.next=d,r|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);c===null&&(o=f),i.baseState=o,i.firstBaseUpdate=u,i.lastBaseUpdate=c,a===null&&(i.shared.lanes=0),Vn|=r,e.lanes=r,e.memoizedState=f}}function yy(e,t){if(typeof e!="function")throw Error(A(191,e));e.call(t)}function vy(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)yy(n[e],t)}var mi=Lt(null),yl=Lt(0);function Nd(e,t){e=tn,oe(yl,e),oe(mi,t),tn=e|t.baseLanes}function ec(){oe(yl,tn),oe(mi,mi.current)}function Cf(){tn=yl.current,Ce(mi),Ce(yl)}var kn=0,P=null,W=null,be=null,vl=!1,ai=!1,vs=!1,bl=0,Ra=0,ri=null,yx=0;function pe(){throw Error(A(321))}function Rf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rt(e[n],t[n]))return!1;return!0}function Df(e,t,n,s,i,a){return kn=a,P=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?Zy:Fy,vs=!1,a=n(s,i),vs=!1,ai&&(a=_y(t,n,s,i)),by(e),a}function by(e){U.H=_l;var t=W!==null&&W.next!==null;if(kn=0,be=W=P=null,vl=!1,Ra=0,ri=null,t)throw Error(A(300));e===null||Oe||(e=e.dependencies,e!==null&&gl(e)&&(Oe=!0))}function _y(e,t,n,s){P=e;var i=0;do{if(ai&&(ri=null),Ra=0,ai=!1,25<=i)throw Error(A(301));if(i+=1,be=W=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}U.H=Tx,a=t(n,s)}while(ai);return a}function vx(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?ar(t):t,e=e.useState()[0],(W!==null?W.memoizedState:null)!==e&&(P.flags|=1024),t}function Nf(){var e=bl!==0;return bl=0,e}function Mf(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function kf(e){if(vl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}vl=!1}kn=0,be=W=P=null,ai=!1,Ra=bl=0,ri=null}function Ye(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?P.memoizedState=be=e:be=be.next=e,be}function _e(){if(W===null){var e=P.alternate;e=e!==null?e.memoizedState:null}else e=W.next;var t=be===null?P.memoizedState:be.next;if(t!==null)be=t,W=e;else{if(e===null)throw P.alternate===null?Error(A(467)):Error(A(310));W=e,e={memoizedState:W.memoizedState,baseState:W.baseState,baseQueue:W.baseQueue,queue:W.queue,next:null},be===null?P.memoizedState=be=e:be=be.next=e}return be}function Uf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ar(e){var t=Ra;return Ra+=1,ri===null&&(ri=[]),e=gy(ri,e,t),t=P,(be===null?t.memoizedState:be.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?Zy:Fy),e}function to(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ar(e);if(e.$$typeof===Yt)return Le(e)}throw Error(A(438,String(e)))}function Vf(e){var t=null,n=P.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=P.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Uf(),P.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=nS;return t.index++,n}function Wt(e,t){return typeof t=="function"?t(e):t}function Fr(e){var t=_e();return Lf(t,W,e)}function Lf(e,t,n){var s=e.queue;if(s===null)throw Error(A(311));s.lastRenderedReducer=n;var i=e.baseQueue,a=s.pending;if(a!==null){if(i!==null){var r=i.next;i.next=a.next,a.next=r}t.baseQueue=i=a,s.pending=null}if(a=e.baseState,i===null)e.memoizedState=a;else{t=i.next;var l=r=null,o=null,u=t,c=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(G&f)===f:(kn&f)===f){var h=u.revertLane;if(h===0)o!==null&&(o=o.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===di&&(c=!0);else if((kn&h)===h){u=u.next,h===di&&(c=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=f,r=a):o=o.next=f,P.lanes|=h,Vn|=h;f=u.action,vs&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else h={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(l=o=h,r=a):o=o.next=h,P.lanes|=f,Vn|=f;u=u.next}while(u!==null&&u!==t);if(o===null?r=a:o.next=l,!rt(a,e.memoizedState)&&(Oe=!0,c&&(n=ii,n!==null)))throw n;e.memoizedState=a,e.baseState=r,e.baseQueue=o,s.lastRenderedState=a}return i===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function $o(e){var t=_e(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var r=i=i.next;do a=e(a,r.action),r=r.next;while(r!==i);rt(a,t.memoizedState)||(Oe=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function Sy(e,t,n){var s=P,i=_e(),a=K;if(a){if(n===void 0)throw Error(A(407));n=n()}else n=t();var r=!rt((W||i).memoizedState,n);r&&(i.memoizedState=n,Oe=!0),i=i.queue;var l=Ty.bind(null,s,i,e);if(rr(2048,8,l,[e]),i.getSnapshot!==t||r||be!==null&&be.memoizedState.tag&1){if(s.flags|=2048,pi(9,no(),wy.bind(null,s,i,n,t),null),ie===null)throw Error(A(349));a||kn&124||xy(s,t,n)}return n}function xy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=P.updateQueue,t===null?(t=Uf(),P.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function wy(e,t,n,s){t.value=n,t.getSnapshot=s,Ey(t)&&jy(e)}function Ty(e,t,n){return n(function(){Ey(t)&&jy(e)})}function Ey(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rt(e,n)}catch{return!0}}function jy(e){var t=Ai(e,2);t!==null&&at(t,e,2)}function tc(e){var t=Ye();if(typeof e=="function"){var n=e;if(e=n(),vs){Sn(!0);try{n()}finally{Sn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:e},t}function Ay(e,t,n,s){return e.baseState=n,Lf(e,W,typeof s=="function"?s:Wt)}function bx(e,t,n,s,i){if(so(e))throw Error(A(485));if(e=t.action,e!==null){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){a.listeners.push(r)}};U.T!==null?n(!0):a.isTransition=!1,s(a),n=t.pending,n===null?(a.next=t.pending=a,Oy(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Oy(e,t){var n=t.action,s=t.payload,i=e.state;if(t.isTransition){var a=U.T,r={};U.T=r;try{var l=n(i,s),o=U.S;o!==null&&o(r,l),Md(e,t,l)}catch(u){nc(e,t,u)}finally{U.T=a}}else try{a=n(i,s),Md(e,t,a)}catch(u){nc(e,t,u)}}function Md(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){kd(e,t,s)},function(s){return nc(e,t,s)}):kd(e,t,n)}function kd(e,t,n){t.status="fulfilled",t.value=n,Cy(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Oy(e,n)))}function nc(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,Cy(t),t=t.next;while(t!==s)}e.action=null}function Cy(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ry(e,t){return t}function Ud(e,t){if(K){var n=ie.formState;if(n!==null){e:{var s=P;if(K){if(de){t:{for(var i=de,a=Ct;i.nodeType!==8;){if(!a){i=null;break t}if(i=jt(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){de=jt(i.nextSibling),s=i.data==="F!";break e}}gs(s)}s=!1}s&&(t=n[0])}}return n=Ye(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ry,lastRenderedState:t},n.queue=s,n=Xy.bind(null,P,s),s.dispatch=n,s=tc(!1),a=Hf.bind(null,P,!1,s.queue),s=Ye(),i={state:t,dispatch:null,action:e,pending:null},s.queue=i,n=bx.bind(null,P,i,a,n),i.dispatch=n,s.memoizedState=e,[t,n,!1]}function Vd(e){var t=_e();return Dy(t,W,e)}function Dy(e,t,n){if(t=Lf(e,t,Ry)[0],e=Fr(Wt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=ar(t)}catch(r){throw r===ir?eo:r}else s=t;t=_e();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(P.flags|=2048,pi(9,no(),_x.bind(null,i,n),null)),[s,a,e]}function _x(e,t){e.action=t}function Ld(e){var t=_e(),n=W;if(n!==null)return Dy(t,n,e);_e(),t=t.memoizedState,n=_e();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function pi(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=P.updateQueue,t===null&&(t=Uf(),P.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function no(){return{destroy:void 0,resource:void 0}}function Ny(){return _e().memoizedState}function Jr(e,t,n,s){var i=Ye();s=s===void 0?null:s,P.flags|=e,i.memoizedState=pi(1|t,no(),n,s)}function rr(e,t,n,s){var i=_e();s=s===void 0?null:s;var a=i.memoizedState.inst;W!==null&&s!==null&&Rf(s,W.memoizedState.deps)?i.memoizedState=pi(t,a,n,s):(P.flags|=e,i.memoizedState=pi(1|t,a,n,s))}function Bd(e,t){Jr(8390656,8,e,t)}function My(e,t){rr(2048,8,e,t)}function ky(e,t){return rr(4,2,e,t)}function Uy(e,t){return rr(4,4,e,t)}function Vy(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ly(e,t,n){n=n!=null?n.concat([e]):null,rr(4,4,Vy.bind(null,t,e),n)}function Bf(){}function By(e,t){var n=_e();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&Rf(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Py(e,t){var n=_e();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&Rf(t,s[1]))return s[0];if(s=e(),vs){Sn(!0);try{e()}finally{Sn(!1)}}return n.memoizedState=[s,t],s}function Pf(e,t,n){return n===void 0||kn&1073741824?e.memoizedState=t:(e.memoizedState=n,e=Cv(),P.lanes|=e,Vn|=e,n)}function zy(e,t,n,s){return rt(n,t)?n:mi.current!==null?(e=Pf(e,n,s),rt(e,t)||(Oe=!0),e):kn&42?(e=Cv(),P.lanes|=e,Vn|=e,t):(Oe=!0,e.memoizedState=n)}function Hy(e,t,n,s,i){var a=Q.p;Q.p=a!==0&&8>a?a:8;var r=U.T,l={};U.T=l,Hf(e,!1,t,n);try{var o=i(),u=U.S;if(u!==null&&u(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var c=gx(o,s);ha(e,t,c,it(e))}else ha(e,t,s,it(e))}catch(f){ha(e,t,{then:function(){},status:"rejected",reason:f},it())}finally{Q.p=a,U.T=r}}function Sx(){}function sc(e,t,n,s){if(e.tag!==5)throw Error(A(476));var i=qy(e).queue;Hy(e,i,t,rs,n===null?Sx:function(){return $y(e),n(s)})}function qy(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:rs,baseState:rs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:rs},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function $y(e){var t=qy(e).next.queue;ha(e,t,{},it())}function zf(){return Le(Ua)}function Gy(){return _e().memoizedState}function Yy(){return _e().memoizedState}function xx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=it();e=An(n);var s=On(t,e,n);s!==null&&(at(s,t,n),ua(s,t,n)),t={cache:jf()},e.payload=t;return}t=t.return}}function wx(e,t,n){var s=it();n={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},so(e)?Ky(t,n):(n=xf(e,t,n,s),n!==null&&(at(n,e,s),Qy(n,t,s)))}function Xy(e,t,n){var s=it();ha(e,t,n,s)}function ha(e,t,n,s){var i={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(so(e))Ky(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var r=t.lastRenderedState,l=a(r,n);if(i.hasEagerState=!0,i.eagerState=l,rt(l,r))return Wl(e,t,i,0),ie===null&&Il(),!1}catch{}finally{}if(n=xf(e,t,i,s),n!==null)return at(n,e,s),Qy(n,t,s),!0}return!1}function Hf(e,t,n,s){if(s={lane:2,revertLane:Zf(),action:s,hasEagerState:!1,eagerState:null,next:null},so(e)){if(t)throw Error(A(479))}else t=xf(e,n,s,2),t!==null&&at(t,e,2)}function so(e){var t=e.alternate;return e===P||t!==null&&t===P}function Ky(e,t){ai=vl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qy(e,t,n){if(n&4194048){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Bg(e,n)}}var _l={readContext:Le,use:to,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe},Zy={readContext:Le,use:to,useCallback:function(e,t){return Ye().memoizedState=[e,t===void 0?null:t],e},useContext:Le,useEffect:Bd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Jr(4194308,4,Vy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jr(4194308,4,e,t)},useInsertionEffect:function(e,t){Jr(4,2,e,t)},useMemo:function(e,t){var n=Ye();t=t===void 0?null:t;var s=e();if(vs){Sn(!0);try{e()}finally{Sn(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=Ye();if(n!==void 0){var i=n(t);if(vs){Sn(!0);try{n(t)}finally{Sn(!1)}}}else i=t;return s.memoizedState=s.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},s.queue=e,e=e.dispatch=wx.bind(null,P,e),[s.memoizedState,e]},useRef:function(e){var t=Ye();return e={current:e},t.memoizedState=e},useState:function(e){e=tc(e);var t=e.queue,n=Xy.bind(null,P,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Bf,useDeferredValue:function(e,t){var n=Ye();return Pf(n,e,t)},useTransition:function(){var e=tc(!1);return e=Hy.bind(null,P,e.queue,!0,!1),Ye().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=P,i=Ye();if(K){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),ie===null)throw Error(A(349));G&124||xy(s,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Bd(Ty.bind(null,s,a,e),[e]),s.flags|=2048,pi(9,no(),wy.bind(null,s,a,n,t),null),n},useId:function(){var e=Ye(),t=ie.identifierPrefix;if(K){var n=Kt,s=Xt;n=(s&~(1<<32-st(s)-1)).toString(32)+n,t="«"+t+"R"+n,n=bl++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=yx++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:zf,useFormState:Ud,useActionState:Ud,useOptimistic:function(e){var t=Ye();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Hf.bind(null,P,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vf,useCacheRefresh:function(){return Ye().memoizedState=xx.bind(null,P)}},Fy={readContext:Le,use:to,useCallback:By,useContext:Le,useEffect:My,useImperativeHandle:Ly,useInsertionEffect:ky,useLayoutEffect:Uy,useMemo:Py,useReducer:Fr,useRef:Ny,useState:function(){return Fr(Wt)},useDebugValue:Bf,useDeferredValue:function(e,t){var n=_e();return zy(n,W.memoizedState,e,t)},useTransition:function(){var e=Fr(Wt)[0],t=_e().memoizedState;return[typeof e=="boolean"?e:ar(e),t]},useSyncExternalStore:Sy,useId:Gy,useHostTransitionStatus:zf,useFormState:Vd,useActionState:Vd,useOptimistic:function(e,t){var n=_e();return Ay(n,W,e,t)},useMemoCache:Vf,useCacheRefresh:Yy},Tx={readContext:Le,use:to,useCallback:By,useContext:Le,useEffect:My,useImperativeHandle:Ly,useInsertionEffect:ky,useLayoutEffect:Uy,useMemo:Py,useReducer:$o,useRef:Ny,useState:function(){return $o(Wt)},useDebugValue:Bf,useDeferredValue:function(e,t){var n=_e();return W===null?Pf(n,e,t):zy(n,W.memoizedState,e,t)},useTransition:function(){var e=$o(Wt)[0],t=_e().memoizedState;return[typeof e=="boolean"?e:ar(e),t]},useSyncExternalStore:Sy,useId:Gy,useHostTransitionStatus:zf,useFormState:Ld,useActionState:Ld,useOptimistic:function(e,t){var n=_e();return W!==null?Ay(n,W,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vf,useCacheRefresh:Yy},li=null,Da=0;function Or(e){var t=Da;return Da+=1,li===null&&(li=[]),gy(li,e,t)}function Gi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Cr(e,t){throw t.$$typeof===eS?Error(A(525)):(e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Pd(e){var t=e._init;return t(e._payload)}function Jy(e){function t(p,g){if(e){var y=p.deletions;y===null?(p.deletions=[g],p.flags|=16):y.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function s(p){for(var g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(p,g){return p=Ft(p,g),p.index=0,p.sibling=null,p}function a(p,g,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<g?(p.flags|=67108866,g):y):(p.flags|=67108866,g)):(p.flags|=1048576,g)}function r(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function l(p,g,y,b){return g===null||g.tag!==6?(g=zo(y,p.mode,b),g.return=p,g):(g=i(g,y),g.return=p,g)}function o(p,g,y,b){var w=y.type;return w===Bs?c(p,g,y.props.children,b,y.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===hn&&Pd(w)===g.type)?(g=i(g,y.props),Gi(g,y),g.return=p,g):(g=Qr(y.type,y.key,y.props,null,p.mode,b),Gi(g,y),g.return=p,g)}function u(p,g,y,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Ho(y,p.mode,b),g.return=p,g):(g=i(g,y.children||[]),g.return=p,g)}function c(p,g,y,b,w){return g===null||g.tag!==7?(g=ls(y,p.mode,b,w),g.return=p,g):(g=i(g,y),g.return=p,g)}function f(p,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=zo(""+g,p.mode,y),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Sr:return y=Qr(g.type,g.key,g.props,null,p.mode,y),Gi(y,g),y.return=p,y;case Fi:return g=Ho(g,p.mode,y),g.return=p,g;case hn:var b=g._init;return g=b(g._payload),f(p,g,y)}if(Ji(g)||zi(g))return g=ls(g,p.mode,y,null),g.return=p,g;if(typeof g.then=="function")return f(p,Or(g),y);if(g.$$typeof===Yt)return f(p,jr(p,g),y);Cr(p,g)}return null}function h(p,g,y,b){var w=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return w!==null?null:l(p,g,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Sr:return y.key===w?o(p,g,y,b):null;case Fi:return y.key===w?u(p,g,y,b):null;case hn:return w=y._init,y=w(y._payload),h(p,g,y,b)}if(Ji(y)||zi(y))return w!==null?null:c(p,g,y,b,null);if(typeof y.then=="function")return h(p,g,Or(y),b);if(y.$$typeof===Yt)return h(p,g,jr(p,y),b);Cr(p,y)}return null}function d(p,g,y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return p=p.get(y)||null,l(g,p,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Sr:return p=p.get(b.key===null?y:b.key)||null,o(g,p,b,w);case Fi:return p=p.get(b.key===null?y:b.key)||null,u(g,p,b,w);case hn:var E=b._init;return b=E(b._payload),d(p,g,y,b,w)}if(Ji(b)||zi(b))return p=p.get(y)||null,c(g,p,b,w,null);if(typeof b.then=="function")return d(p,g,y,Or(b),w);if(b.$$typeof===Yt)return d(p,g,y,jr(g,b),w);Cr(g,b)}return null}function v(p,g,y,b){for(var w=null,E=null,S=g,j=g=0,D=null;S!==null&&j<y.length;j++){S.index>j?(D=S,S=null):D=S.sibling;var O=h(p,S,y[j],b);if(O===null){S===null&&(S=D);break}e&&S&&O.alternate===null&&t(p,S),g=a(O,g,j),E===null?w=O:E.sibling=O,E=O,S=D}if(j===y.length)return n(p,S),K&&In(p,j),w;if(S===null){for(;j<y.length;j++)S=f(p,y[j],b),S!==null&&(g=a(S,g,j),E===null?w=S:E.sibling=S,E=S);return K&&In(p,j),w}for(S=s(S);j<y.length;j++)D=d(S,p,j,y[j],b),D!==null&&(e&&D.alternate!==null&&S.delete(D.key===null?j:D.key),g=a(D,g,j),E===null?w=D:E.sibling=D,E=D);return e&&S.forEach(function(V){return t(p,V)}),K&&In(p,j),w}function _(p,g,y,b){if(y==null)throw Error(A(151));for(var w=null,E=null,S=g,j=g=0,D=null,O=y.next();S!==null&&!O.done;j++,O=y.next()){S.index>j?(D=S,S=null):D=S.sibling;var V=h(p,S,O.value,b);if(V===null){S===null&&(S=D);break}e&&S&&V.alternate===null&&t(p,S),g=a(V,g,j),E===null?w=V:E.sibling=V,E=V,S=D}if(O.done)return n(p,S),K&&In(p,j),w;if(S===null){for(;!O.done;j++,O=y.next())O=f(p,O.value,b),O!==null&&(g=a(O,g,j),E===null?w=O:E.sibling=O,E=O);return K&&In(p,j),w}for(S=s(S);!O.done;j++,O=y.next())O=d(S,p,j,O.value,b),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?j:O.key),g=a(O,g,j),E===null?w=O:E.sibling=O,E=O);return e&&S.forEach(function(z){return t(p,z)}),K&&In(p,j),w}function x(p,g,y,b){if(typeof y=="object"&&y!==null&&y.type===Bs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Sr:e:{for(var w=y.key;g!==null;){if(g.key===w){if(w=y.type,w===Bs){if(g.tag===7){n(p,g.sibling),b=i(g,y.props.children),b.return=p,p=b;break e}}else if(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===hn&&Pd(w)===g.type){n(p,g.sibling),b=i(g,y.props),Gi(b,y),b.return=p,p=b;break e}n(p,g);break}else t(p,g);g=g.sibling}y.type===Bs?(b=ls(y.props.children,p.mode,b,y.key),b.return=p,p=b):(b=Qr(y.type,y.key,y.props,null,p.mode,b),Gi(b,y),b.return=p,p=b)}return r(p);case Fi:e:{for(w=y.key;g!==null;){if(g.key===w)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(p,g.sibling),b=i(g,y.children||[]),b.return=p,p=b;break e}else{n(p,g);break}else t(p,g);g=g.sibling}b=Ho(y,p.mode,b),b.return=p,p=b}return r(p);case hn:return w=y._init,y=w(y._payload),x(p,g,y,b)}if(Ji(y))return v(p,g,y,b);if(zi(y)){if(w=zi(y),typeof w!="function")throw Error(A(150));return y=w.call(y),_(p,g,y,b)}if(typeof y.then=="function")return x(p,g,Or(y),b);if(y.$$typeof===Yt)return x(p,g,jr(p,y),b);Cr(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(n(p,g.sibling),b=i(g,y),b.return=p,p=b):(n(p,g),b=zo(y,p.mode,b),b.return=p,p=b),r(p)):n(p,g)}return function(p,g,y,b){try{Da=0;var w=x(p,g,y,b);return li=null,w}catch(S){if(S===ir||S===eo)throw S;var E=tt(29,S,null,p.mode);return E.lanes=b,E.return=p,E}finally{}}}var gi=Jy(!0),Iy=Jy(!1),_t=Lt(null),Mt=null;function yn(e){var t=e.alternate;oe(we,we.current&1),oe(_t,e),Mt===null&&(t===null||mi.current!==null||t.memoizedState!==null)&&(Mt=e)}function Wy(e){if(e.tag===22){if(oe(we,we.current),oe(_t,e),Mt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Mt=e)}}else vn()}function vn(){oe(we,we.current),oe(_t,_t.current)}function Zt(e){Ce(_t),Mt===e&&(Mt=null),Ce(we)}var we=Lt(0);function Sl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||_c(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Go(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:ae({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ic={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=it(),i=An(s);i.payload=t,n!=null&&(i.callback=n),t=On(e,i,s),t!==null&&(at(t,e,s),ua(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=it(),i=An(s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=On(e,i,s),t!==null&&(at(t,e,s),ua(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=it(),s=An(n);s.tag=2,t!=null&&(s.callback=t),t=On(e,s,n),t!==null&&(at(t,e,n),ua(t,e,n))}};function zd(e,t,n,s,i,a,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,r):t.prototype&&t.prototype.isPureReactComponent?!Oa(n,s)||!Oa(i,a):!0}function Hd(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&ic.enqueueReplaceState(t,t.state,null)}function bs(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=ae({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}var xl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ev(e){xl(e)}function tv(e){console.error(e)}function nv(e){xl(e)}function wl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function qd(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function ac(e,t,n){return n=An(n),n.tag=3,n.payload={element:null},n.callback=function(){wl(e,t)},n}function sv(e){return e=An(e),e.tag=3,e}function iv(e,t,n,s){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=s.value;e.payload=function(){return i(a)},e.callback=function(){qd(t,n,s)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){qd(t,n,s),typeof i!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})})}function Ex(e,t,n,s,i){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&nr(t,n,i,!0),n=_t.current,n!==null){switch(n.tag){case 13:return Mt===null?dc():n.alternate===null&&me===0&&(me=3),n.flags&=-257,n.flags|=65536,n.lanes=i,s===Ju?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),tu(e,s,i)),!1;case 22:return n.flags|=65536,s===Ju?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),tu(e,s,i)),!1}throw Error(A(435,n.tag))}return tu(e,s,i),dc(),!1}if(K)return t=_t.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,s!==Xu&&(e=Error(A(422),{cause:s}),Ca(gt(e,n)))):(s!==Xu&&(t=Error(A(423),{cause:s}),Ca(gt(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,s=gt(s,n),i=ac(e.stateNode,s,i),qo(e,i),me!==4&&(me=2)),!1;var a=Error(A(520),{cause:s});if(a=gt(a,n),pa===null?pa=[a]:pa.push(a),me!==4&&(me=2),t===null)return!0;s=gt(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=ac(n.stateNode,s,e),qo(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Cn===null||!Cn.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=sv(i),iv(i,e,n,s),qo(n,i),!1}n=n.return}while(n!==null);return!1}var av=Error(A(461)),Oe=!1;function De(e,t,n,s){t.child=e===null?Iy(t,null,n,s):gi(t,e.child,n,s)}function $d(e,t,n,s,i){n=n.render;var a=t.ref;if("ref"in s){var r={};for(var l in s)l!=="ref"&&(r[l]=s[l])}else r=s;return ys(t),s=Df(e,t,n,r,a,i),l=Nf(),e!==null&&!Oe?(Mf(e,t,i),en(e,t,i)):(K&&l&&Tf(t),t.flags|=1,De(e,t,s,i),t.child)}function Gd(e,t,n,s,i){if(e===null){var a=n.type;return typeof a=="function"&&!wf(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,rv(e,t,a,s,i)):(e=Qr(n.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!qf(e,i)){var r=a.memoizedProps;if(n=n.compare,n=n!==null?n:Oa,n(r,s)&&e.ref===t.ref)return en(e,t,i)}return t.flags|=1,e=Ft(a,s),e.ref=t.ref,e.return=t,t.child=e}function rv(e,t,n,s,i){if(e!==null){var a=e.memoizedProps;if(Oa(a,s)&&e.ref===t.ref)if(Oe=!1,t.pendingProps=s=a,qf(e,i))e.flags&131072&&(Oe=!0);else return t.lanes=e.lanes,en(e,t,i)}return rc(e,t,n,s,i)}function lv(e,t,n){var s=t.pendingProps,i=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if(t.flags&128){if(s=a!==null?a.baseLanes|n:n,e!==null){for(i=t.child=e.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~s}else t.childLanes=0,t.child=null;return Yd(e,t,s,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Zr(t,a!==null?a.cachePool:null),a!==null?Nd(t,a):ec(),Wy(t);else return t.lanes=t.childLanes=536870912,Yd(e,t,a!==null?a.baseLanes|n:n,n)}else a!==null?(Zr(t,a.cachePool),Nd(t,a),vn(),t.memoizedState=null):(e!==null&&Zr(t,null),ec(),vn());return De(e,t,i,n),t.child}function Yd(e,t,n,s){var i=Af();return i=i===null?null:{parent:xe._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&Zr(t,null),ec(),Wy(t),e!==null&&nr(e,t,s,!0),null}function Ir(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(A(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function rc(e,t,n,s,i){return ys(t),n=Df(e,t,n,s,void 0,i),s=Nf(),e!==null&&!Oe?(Mf(e,t,i),en(e,t,i)):(K&&s&&Tf(t),t.flags|=1,De(e,t,n,i),t.child)}function Xd(e,t,n,s,i,a){return ys(t),t.updateQueue=null,n=_y(t,s,n,i),by(e),s=Nf(),e!==null&&!Oe?(Mf(e,t,a),en(e,t,a)):(K&&s&&Tf(t),t.flags|=1,De(e,t,n,a),t.child)}function Kd(e,t,n,s,i){if(ys(t),t.stateNode===null){var a=Xs,r=n.contextType;typeof r=="object"&&r!==null&&(a=Le(r)),a=new n(s,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=ic,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=s,a.state=t.memoizedState,a.refs={},Of(t),r=n.contextType,a.context=typeof r=="object"&&r!==null?Le(r):Xs,a.state=t.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(Go(t,n,r,s),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&ic.enqueueReplaceState(a,a.state,null),fa(t,s,a,i),ca(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){a=t.stateNode;var l=t.memoizedProps,o=bs(n,l);a.props=o;var u=a.context,c=n.contextType;r=Xs,typeof c=="object"&&c!==null&&(r=Le(c));var f=n.getDerivedStateFromProps;c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l||u!==r)&&Hd(t,a,s,r),dn=!1;var h=t.memoizedState;a.state=h,fa(t,s,a,i),ca(),u=t.memoizedState,l||h!==u||dn?(typeof f=="function"&&(Go(t,n,f,s),u=t.memoizedState),(o=dn||zd(t,n,o,s,h,u,r))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=u),a.props=s,a.state=u,a.context=r,s=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{a=t.stateNode,Iu(e,t),r=t.memoizedProps,c=bs(n,r),a.props=c,f=t.pendingProps,h=a.context,u=n.contextType,o=Xs,typeof u=="object"&&u!==null&&(o=Le(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(r!==f||h!==o)&&Hd(t,a,s,o),dn=!1,h=t.memoizedState,a.state=h,fa(t,s,a,i),ca();var d=t.memoizedState;r!==f||h!==d||dn||e!==null&&e.dependencies!==null&&gl(e.dependencies)?(typeof l=="function"&&(Go(t,n,l,s),d=t.memoizedState),(c=dn||zd(t,n,c,s,h,d,o)||e!==null&&e.dependencies!==null&&gl(e.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,d,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,d,o)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=d),a.props=s,a.state=d,a.context=o,s=c):(typeof a.componentDidUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return a=s,Ir(e,t),s=(t.flags&128)!==0,a||s?(a=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&s?(t.child=gi(t,e.child,null,i),t.child=gi(t,null,n,i)):De(e,t,n,i),t.memoizedState=a.state,e=t.child):e=en(e,t,i),e}function Qd(e,t,n,s){return tr(),t.flags|=256,De(e,t,n,s),t.child}var Yo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xo(e){return{baseLanes:e,cachePool:my()}}function Ko(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=yt),e}function ov(e,t,n){var s=t.pendingProps,i=!1,a=(t.flags&128)!==0,r;if((r=a)||(r=e!==null&&e.memoizedState===null?!1:(we.current&2)!==0),r&&(i=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(K){if(i?yn(t):vn(),K){var l=de,o;if(o=l){e:{for(o=l,l=Ct;o.nodeType!==8;){if(!l){l=null;break e}if(o=jt(o.nextSibling),o===null){l=null;break e}}l=o}l!==null?(t.memoizedState={dehydrated:l,treeContext:os!==null?{id:Xt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},o=tt(18,null,null,0),o.stateNode=l,o.return=t,t.child=o,ze=t,de=null,o=!0):o=!1}o||gs(t)}if(l=t.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return _c(l)?t.lanes=32:t.lanes=536870912,null;Zt(t)}return l=s.children,s=s.fallback,i?(vn(),i=t.mode,l=Tl({mode:"hidden",children:l},i),s=ls(s,i,n,null),l.return=t,s.return=t,l.sibling=s,t.child=l,i=t.child,i.memoizedState=Xo(n),i.childLanes=Ko(e,r,n),t.memoizedState=Yo,s):(yn(t),lc(t,l))}if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null)){if(a)t.flags&256?(yn(t),t.flags&=-257,t=Qo(e,t,n)):t.memoizedState!==null?(vn(),t.child=e.child,t.flags|=128,t=null):(vn(),i=s.fallback,l=t.mode,s=Tl({mode:"visible",children:s.children},l),i=ls(i,l,n,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,gi(t,e.child,null,n),s=t.child,s.memoizedState=Xo(n),s.childLanes=Ko(e,r,n),t.memoizedState=Yo,t=i);else if(yn(t),_c(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var u=r.dgst;r=u,s=Error(A(419)),s.stack="",s.digest=r,Ca({value:s,source:null,stack:null}),t=Qo(e,t,n)}else if(Oe||nr(e,t,n,!1),r=(n&e.childLanes)!==0,Oe||r){if(r=ie,r!==null&&(s=n&-n,s=s&42?1:hf(s),s=s&(r.suspendedLanes|n)?0:s,s!==0&&s!==o.retryLane))throw o.retryLane=s,Ai(e,s),at(r,e,s),av;l.data==="$?"||dc(),t=Qo(e,t,n)}else l.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,de=jt(l.nextSibling),ze=t,K=!0,us=null,Ct=!1,e!==null&&(dt[mt++]=Xt,dt[mt++]=Kt,dt[mt++]=os,Xt=e.id,Kt=e.overflow,os=t),t=lc(t,s.children),t.flags|=4096);return t}return i?(vn(),i=s.fallback,l=t.mode,o=e.child,u=o.sibling,s=Ft(o,{mode:"hidden",children:s.children}),s.subtreeFlags=o.subtreeFlags&65011712,u!==null?i=Ft(u,i):(i=ls(i,l,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,l=e.child.memoizedState,l===null?l=Xo(n):(o=l.cachePool,o!==null?(u=xe._currentValue,o=o.parent!==u?{parent:u,pool:u}:o):o=my(),l={baseLanes:l.baseLanes|n,cachePool:o}),i.memoizedState=l,i.childLanes=Ko(e,r,n),t.memoizedState=Yo,s):(yn(t),n=e.child,e=n.sibling,n=Ft(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function lc(e,t){return t=Tl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Tl(e,t){return e=tt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Qo(e,t,n){return gi(t,e.child,null,n),e=lc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zd(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Qu(e.return,t,n)}function Zo(e,t,n,s,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i)}function uv(e,t,n){var s=t.pendingProps,i=s.revealOrder,a=s.tail;if(De(e,t,s.children,n),s=we.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zd(e,n,t);else if(e.tag===19)Zd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(oe(we,s),i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Sl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Sl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zo(t,!0,n,null,a);break;case"together":Zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function en(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vn|=t.lanes,!(n&t.childLanes))if(e!==null){if(nr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=Ft(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ft(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qf(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&gl(e)))}function jx(e,t,n){switch(t.tag){case 3:ol(t,t.stateNode.containerInfo),gn(t,xe,e.memoizedState.cache),tr();break;case 27:case 5:Vu(t);break;case 4:ol(t,t.stateNode.containerInfo);break;case 10:gn(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(yn(t),t.flags|=128,null):n&t.child.childLanes?ov(e,t,n):(yn(t),e=en(e,t,n),e!==null?e.sibling:null);yn(t);break;case 19:var i=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(nr(e,t,n,!1),s=(n&t.childLanes)!==0),i){if(s)return uv(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),oe(we,we.current),s)break;return null;case 22:case 23:return t.lanes=0,lv(e,t,n);case 24:gn(t,xe,e.memoizedState.cache)}return en(e,t,n)}function cv(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Oe=!0;else{if(!qf(e,n)&&!(t.flags&128))return Oe=!1,jx(e,t,n);Oe=!!(e.flags&131072)}else Oe=!1,K&&t.flags&1048576&&hy(t,pl,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,i=s._init;if(s=i(s._payload),t.type=s,typeof s=="function")wf(s)?(e=bs(s,e),t.tag=1,t=Kd(null,t,s,e,n)):(t.tag=0,t=rc(null,t,s,e,n));else{if(s!=null){if(i=s.$$typeof,i===uf){t.tag=11,t=$d(null,t,s,e,n);break e}else if(i===cf){t.tag=14,t=Gd(null,t,s,e,n);break e}}throw t=ku(s)||s,Error(A(306,t,""))}}return t;case 0:return rc(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,i=bs(s,t.pendingProps),Kd(e,t,s,i,n);case 3:e:{if(ol(t,t.stateNode.containerInfo),e===null)throw Error(A(387));s=t.pendingProps;var a=t.memoizedState;i=a.element,Iu(e,t),fa(t,s,null,n);var r=t.memoizedState;if(s=r.cache,gn(t,xe,s),s!==a.cache&&Zu(t,[xe],n,!0),ca(),s=r.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=Qd(e,t,s,n);break e}else if(s!==i){i=gt(Error(A(424)),t),Ca(i),t=Qd(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(de=jt(e.firstChild),ze=t,K=!0,us=null,Ct=!0,n=Iy(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(tr(),s===i){t=en(e,t,n);break e}De(e,t,s,n)}t=t.child}return t;case 26:return Ir(e,t),e===null?(n=hm(t.type,null,t.pendingProps,null))?t.memoizedState=n:K||(n=t.type,e=t.pendingProps,s=Dl(jn.current).createElement(n),s[Ve]=t,s[Fe]=e,Me(s,n,e),Ae(s),t.stateNode=s):t.memoizedState=hm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Vu(t),e===null&&K&&(s=t.stateNode=Fv(t.type,t.pendingProps,jn.current),ze=t,Ct=!0,i=de,zn(t.type)?(Sc=i,de=jt(s.firstChild)):de=i),De(e,t,t.pendingProps.children,n),Ir(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&K&&((i=s=de)&&(s=ew(s,t.type,t.pendingProps,Ct),s!==null?(t.stateNode=s,ze=t,de=jt(s.firstChild),Ct=!1,i=!0):i=!1),i||gs(t)),Vu(t),i=t.type,a=t.pendingProps,r=e!==null?e.memoizedProps:null,s=a.children,vc(i,a)?s=null:r!==null&&vc(i,r)&&(t.flags|=32),t.memoizedState!==null&&(i=Df(e,t,vx,null,null,n),Ua._currentValue=i),Ir(e,t),De(e,t,s,n),t.child;case 6:return e===null&&K&&((e=n=de)&&(n=tw(n,t.pendingProps,Ct),n!==null?(t.stateNode=n,ze=t,de=null,e=!0):e=!1),e||gs(t)),null;case 13:return ov(e,t,n);case 4:return ol(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=gi(t,null,s,n):De(e,t,s,n),t.child;case 11:return $d(e,t,t.type,t.pendingProps,n);case 7:return De(e,t,t.pendingProps,n),t.child;case 8:return De(e,t,t.pendingProps.children,n),t.child;case 12:return De(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,gn(t,t.type,s.value),De(e,t,s.children,n),t.child;case 9:return i=t.type._context,s=t.pendingProps.children,ys(t),i=Le(i),s=s(i),t.flags|=1,De(e,t,s,n),t.child;case 14:return Gd(e,t,t.type,t.pendingProps,n);case 15:return rv(e,t,t.type,t.pendingProps,n);case 19:return uv(e,t,n);case 31:return s=t.pendingProps,n=t.mode,s={mode:s.mode,children:s.children},e===null?(n=Tl(s,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Ft(e.child,s),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return lv(e,t,n);case 24:return ys(t),s=Le(xe),e===null?(i=Af(),i===null&&(i=ie,a=jf(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:s,cache:i},Of(t),gn(t,xe,i)):(e.lanes&n&&(Iu(e,t),fa(t,null,null,n),ca()),i=e.memoizedState,a=t.memoizedState,i.parent!==s?(i={parent:s,cache:s},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),gn(t,xe,s)):(s=a.cache,gn(t,xe,s),s!==i.cache&&Zu(t,[xe],n,!0))),De(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(A(156,t.tag))}function zt(e){e.flags|=4}function Fd(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Wv(t)){if(t=_t.current,t!==null&&((G&4194048)===G?Mt!==null:(G&62914560)!==G&&!(G&536870912)||t!==Mt))throw oa=Ju,py;e.flags|=8192}}function Rr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Vg():536870912,e.lanes|=t,yi|=t)}function Yi(e,t){if(!K)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&65011712,s|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Ax(e,t,n){var s=t.pendingProps;switch(Ef(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(t),null;case 1:return ce(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Jt(xe),ci(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($i(t)?zt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jd())),ce(t),null;case 26:return n=t.memoizedState,e===null?(zt(t),n!==null?(ce(t),Fd(t,n)):(ce(t),t.flags&=-16777217)):n?n!==e.memoizedState?(zt(t),ce(t),Fd(t,n)):(ce(t),t.flags&=-16777217):(e.memoizedProps!==s&&zt(t),ce(t),t.flags&=-16777217),null;case 27:ul(t),n=jn.current;var i=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&zt(t);else{if(!s){if(t.stateNode===null)throw Error(A(166));return ce(t),null}e=Dt.current,$i(t)?Td(t):(e=Fv(i,s,n),t.stateNode=e,zt(t))}return ce(t),null;case 5:if(ul(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&zt(t);else{if(!s){if(t.stateNode===null)throw Error(A(166));return ce(t),null}if(e=Dt.current,$i(t))Td(t);else{switch(i=Dl(jn.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?i.createElement("select",{is:s.is}):i.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?i.createElement(n,{is:s.is}):i.createElement(n)}}e[Ve]=t,e[Fe]=s;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Me(e,n,s),n){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&zt(t)}}return ce(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&zt(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(A(166));if(e=jn.current,$i(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,i=ze,i!==null)switch(i.tag){case 27:case 5:s=i.memoizedProps}e[Ve]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||Kv(e.nodeValue,n)),e||gs(t)}else e=Dl(e).createTextNode(s),e[Ve]=t,t.stateNode=e}return ce(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=$i(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(A(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[Ve]=t}else tr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ce(t),i=!1}else i=jd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Zt(t),t):(Zt(t),null)}if(Zt(t),t.flags&128)return t.lanes=n,t;if(n=s!==null,e=e!==null&&e.memoizedState!==null,n){s=t.child,i=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(i=s.alternate.memoizedState.cachePool.pool);var a=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==i&&(s.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Rr(t,t.updateQueue),ce(t),null;case 4:return ci(),e===null&&Ff(t.stateNode.containerInfo),ce(t),null;case 10:return Jt(t.type),ce(t),null;case 19:if(Ce(we),i=t.memoizedState,i===null)return ce(t),null;if(s=(t.flags&128)!==0,a=i.rendering,a===null)if(s)Yi(i,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Sl(e),a!==null){for(t.flags|=128,Yi(i,!1),e=a.updateQueue,t.updateQueue=e,Rr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)fy(n,e),n=n.sibling;return oe(we,we.current&1|2),t.child}e=e.sibling}i.tail!==null&&Nt()>jl&&(t.flags|=128,s=!0,Yi(i,!1),t.lanes=4194304)}else{if(!s)if(e=Sl(a),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Rr(t,e),Yi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!K)return ce(t),null}else 2*Nt()-i.renderingStartTime>jl&&n!==536870912&&(t.flags|=128,s=!0,Yi(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(e=i.last,e!==null?e.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Nt(),t.sibling=null,e=we.current,oe(we,s?e&1|2:e&1),t):(ce(t),null);case 22:case 23:return Zt(t),Cf(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?n&536870912&&!(t.flags&128)&&(ce(t),t.subtreeFlags&6&&(t.flags|=8192)):ce(t),n=t.updateQueue,n!==null&&Rr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&Ce(cs),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Jt(xe),ce(t),null;case 25:return null;case 30:return null}throw Error(A(156,t.tag))}function Ox(e,t){switch(Ef(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jt(xe),ci(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ul(t),null;case 13:if(Zt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));tr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ce(we),null;case 4:return ci(),null;case 10:return Jt(t.type),null;case 22:case 23:return Zt(t),Cf(),e!==null&&Ce(cs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Jt(xe),null;case 25:return null;default:return null}}function fv(e,t){switch(Ef(t),t.tag){case 3:Jt(xe),ci();break;case 26:case 27:case 5:ul(t);break;case 4:ci();break;case 13:Zt(t);break;case 19:Ce(we);break;case 10:Jt(t.type);break;case 22:case 23:Zt(t),Cf(),e!==null&&Ce(cs);break;case 24:Jt(xe)}}function lr(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var i=s.next;n=i;do{if((n.tag&e)===e){s=void 0;var a=n.create,r=n.inst;s=a(),r.destroy=s}n=n.next}while(n!==i)}}catch(l){te(t,t.return,l)}}function Un(e,t,n){try{var s=t.updateQueue,i=s!==null?s.lastEffect:null;if(i!==null){var a=i.next;s=a;do{if((s.tag&e)===e){var r=s.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,i=t;var o=n,u=l;try{u()}catch(c){te(i,o,c)}}}s=s.next}while(s!==a)}}catch(c){te(t,t.return,c)}}function hv(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{vy(t,n)}catch(s){te(e,e.return,s)}}}function dv(e,t,n){n.props=bs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){te(e,t,s)}}function da(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(i){te(e,t,i)}}function Rt(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(i){te(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){te(e,t,i)}else n.current=null}function mv(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(i){te(e,e.return,i)}}function Fo(e,t,n){try{var s=e.stateNode;Zx(s,e.type,n,t),s[Fe]=t}catch(i){te(e,e.return,i)}}function pv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zn(e.type)||e.tag===4}function Jo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function oc(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=lo));else if(s!==4&&(s===27&&zn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(oc(e,t,n),e=e.sibling;e!==null;)oc(e,t,n),e=e.sibling}function El(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&zn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(El(e,t,n),e=e.sibling;e!==null;)El(e,t,n),e=e.sibling}function gv(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Me(t,s,n),t[Ve]=e,t[Fe]=n}catch(a){te(e,e.return,a)}}var Gt=!1,ye=!1,Io=!1,Jd=typeof WeakSet=="function"?WeakSet:Set,je=null;function Cx(e,t){if(e=e.containerInfo,gc=Ul,e=sy(e),_f(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var r=0,l=-1,o=-1,u=0,c=0,f=e,h=null;t:for(;;){for(var d;f!==n||i!==0&&f.nodeType!==3||(l=r+i),f!==a||s!==0&&f.nodeType!==3||(o=r+s),f.nodeType===3&&(r+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===e)break t;if(h===n&&++u===i&&(l=r),h===a&&++c===s&&(o=r),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(yc={focusedElem:e,selectionRange:n},Ul=!1,je=t;je!==null;)if(t=je,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,je=e;else for(;je!==null;){switch(t=je,a=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,s=n.stateNode;try{var v=bs(n.type,i,n.elementType===n.type);e=s.getSnapshotBeforeUpdate(v,a),s.__reactInternalSnapshotBeforeUpdate=e}catch(_){te(n,n.return,_)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)bc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(A(163))}if(e=t.sibling,e!==null){e.return=t.return,je=e;break}je=t.return}}function yv(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:ln(e,n),s&4&&lr(5,n);break;case 1:if(ln(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(r){te(n,n.return,r)}else{var i=bs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){te(n,n.return,r)}}s&64&&hv(n),s&512&&da(n,n.return);break;case 3:if(ln(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{vy(e,t)}catch(r){te(n,n.return,r)}}break;case 27:t===null&&s&4&&gv(n);case 26:case 5:ln(e,n),t===null&&s&4&&mv(n),s&512&&da(n,n.return);break;case 12:ln(e,n);break;case 13:ln(e,n),s&4&&_v(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Bx.bind(null,n),nw(e,n))));break;case 22:if(s=n.memoizedState!==null||Gt,!s){t=t!==null&&t.memoizedState!==null||ye,i=Gt;var a=ye;Gt=s,(ye=t)&&!a?un(e,n,(n.subtreeFlags&8772)!==0):ln(e,n),Gt=i,ye=a}break;case 30:break;default:ln(e,n)}}function vv(e){var t=e.alternate;t!==null&&(e.alternate=null,vv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&mf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,Xe=!1;function Ht(e,t,n){for(n=n.child;n!==null;)bv(e,t,n),n=n.sibling}function bv(e,t,n){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(Fa,n)}catch{}switch(n.tag){case 26:ye||Rt(n,t),Ht(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ye||Rt(n,t);var s=re,i=Xe;zn(n.type)&&(re=n.stateNode,Xe=!1),Ht(e,t,n),ya(n.stateNode),re=s,Xe=i;break;case 5:ye||Rt(n,t);case 6:if(s=re,i=Xe,re=null,Ht(e,t,n),re=s,Xe=i,re!==null)if(Xe)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(n.stateNode)}catch(a){te(n,t,a)}else try{re.removeChild(n.stateNode)}catch(a){te(n,t,a)}break;case 18:re!==null&&(Xe?(e=re,um(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ba(e)):um(re,n.stateNode));break;case 4:s=re,i=Xe,re=n.stateNode.containerInfo,Xe=!0,Ht(e,t,n),re=s,Xe=i;break;case 0:case 11:case 14:case 15:ye||Un(2,n,t),ye||Un(4,n,t),Ht(e,t,n);break;case 1:ye||(Rt(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&dv(n,t,s)),Ht(e,t,n);break;case 21:Ht(e,t,n);break;case 22:ye=(s=ye)||n.memoizedState!==null,Ht(e,t,n),ye=s;break;default:Ht(e,t,n)}}function _v(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(n){te(t,t.return,n)}}function Rx(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Jd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Jd),t;default:throw Error(A(435,e.tag))}}function Wo(e,t){var n=Rx(e);t.forEach(function(s){var i=Px.bind(null,e,s);n.has(s)||(n.add(s),s.then(i,i))})}function Ie(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s],a=e,r=t,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(zn(l.type)){re=l.stateNode,Xe=!1;break e}break;case 5:re=l.stateNode,Xe=!1;break e;case 3:case 4:re=l.stateNode.containerInfo,Xe=!0;break e}l=l.return}if(re===null)throw Error(A(160));bv(a,r,i),re=null,Xe=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Sv(t,e),t=t.sibling}var Tt=null;function Sv(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ie(t,e),We(e),s&4&&(Un(3,e,e.return),lr(3,e),Un(5,e,e.return));break;case 1:Ie(t,e),We(e),s&512&&(ye||n===null||Rt(n,n.return)),s&64&&Gt&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var i=Tt;if(Ie(t,e),We(e),s&512&&(ye||n===null||Rt(n,n.return)),s&4){var a=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(s){case"title":a=i.getElementsByTagName("title")[0],(!a||a[Wa]||a[Ve]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(s),i.head.insertBefore(a,i.querySelector("head > title"))),Me(a,s,n),a[Ve]=e,Ae(a),s=a;break e;case"link":var r=mm("link","href",i).get(s+(n.href||""));if(r){for(var l=0;l<r.length;l++)if(a=r[l],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(l,1);break t}}a=i.createElement(s),Me(a,s,n),i.head.appendChild(a);break;case"meta":if(r=mm("meta","content",i).get(s+(n.content||""))){for(l=0;l<r.length;l++)if(a=r[l],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(l,1);break t}}a=i.createElement(s),Me(a,s,n),i.head.appendChild(a);break;default:throw Error(A(468,s))}a[Ve]=e,Ae(a),s=a}e.stateNode=s}else pm(i,e.type,e.stateNode);else e.stateNode=dm(i,s,e.memoizedProps);else a!==s?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,s===null?pm(i,e.type,e.stateNode):dm(i,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Fo(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ie(t,e),We(e),s&512&&(ye||n===null||Rt(n,n.return)),n!==null&&s&4&&Fo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ie(t,e),We(e),s&512&&(ye||n===null||Rt(n,n.return)),e.flags&32){i=e.stateNode;try{hi(i,"")}catch(d){te(e,e.return,d)}}s&4&&e.stateNode!=null&&(i=e.memoizedProps,Fo(e,i,n!==null?n.memoizedProps:i)),s&1024&&(Io=!0);break;case 6:if(Ie(t,e),We(e),s&4){if(e.stateNode===null)throw Error(A(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(d){te(e,e.return,d)}}break;case 3:if(tl=null,i=Tt,Tt=Nl(t.containerInfo),Ie(t,e),Tt=i,We(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Ba(t.containerInfo)}catch(d){te(e,e.return,d)}Io&&(Io=!1,xv(e));break;case 4:s=Tt,Tt=Nl(e.stateNode.containerInfo),Ie(t,e),We(e),Tt=s;break;case 12:Ie(t,e),We(e);break;case 13:Ie(t,e),We(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Kf=Nt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Wo(e,s)));break;case 22:i=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,u=Gt,c=ye;if(Gt=u||i,ye=c||o,Ie(t,e),ye=c,Gt=u,We(e),s&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||o||Gt||ye||Wn(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(a=o.stateNode,i)r=a.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=o.stateNode;var f=o.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(d){te(o,o.return,d)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=i?"":o.memoizedProps}catch(d){te(o,o.return,d)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,Wo(e,n))));break;case 19:Ie(t,e),We(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Wo(e,s)));break;case 30:break;case 21:break;default:Ie(t,e),We(e)}}function We(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(pv(s)){n=s;break}s=s.return}if(n==null)throw Error(A(160));switch(n.tag){case 27:var i=n.stateNode,a=Jo(e);El(e,a,i);break;case 5:var r=n.stateNode;n.flags&32&&(hi(r,""),n.flags&=-33);var l=Jo(e);El(e,l,r);break;case 3:case 4:var o=n.stateNode.containerInfo,u=Jo(e);oc(e,u,o);break;default:throw Error(A(161))}}catch(c){te(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xv(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ln(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)yv(e,t.alternate,t),t=t.sibling}function Wn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Un(4,t,t.return),Wn(t);break;case 1:Rt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&dv(t,t.return,n),Wn(t);break;case 27:ya(t.stateNode);case 26:case 5:Rt(t,t.return),Wn(t);break;case 22:t.memoizedState===null&&Wn(t);break;case 30:Wn(t);break;default:Wn(t)}e=e.sibling}}function un(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,i=e,a=t,r=a.flags;switch(a.tag){case 0:case 11:case 15:un(i,a,n),lr(4,a);break;case 1:if(un(i,a,n),s=a,i=s.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){te(s,s.return,u)}if(s=a,i=s.updateQueue,i!==null){var l=s.stateNode;try{var o=i.shared.hiddenCallbacks;if(o!==null)for(i.shared.hiddenCallbacks=null,i=0;i<o.length;i++)yy(o[i],l)}catch(u){te(s,s.return,u)}}n&&r&64&&hv(a),da(a,a.return);break;case 27:gv(a);case 26:case 5:un(i,a,n),n&&s===null&&r&4&&mv(a),da(a,a.return);break;case 12:un(i,a,n);break;case 13:un(i,a,n),n&&r&4&&_v(i,a);break;case 22:a.memoizedState===null&&un(i,a,n),da(a,a.return);break;case 30:break;default:un(i,a,n)}t=t.sibling}}function $f(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&sr(n))}function Gf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&sr(e))}function Ot(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wv(e,t,n,s),t=t.sibling}function wv(e,t,n,s){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Ot(e,t,n,s),i&2048&&lr(9,t);break;case 1:Ot(e,t,n,s);break;case 3:Ot(e,t,n,s),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&sr(e)));break;case 12:if(i&2048){Ot(e,t,n,s),e=t.stateNode;try{var a=t.memoizedProps,r=a.id,l=a.onPostCommit;typeof l=="function"&&l(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){te(t,t.return,o)}}else Ot(e,t,n,s);break;case 13:Ot(e,t,n,s);break;case 23:break;case 22:a=t.stateNode,r=t.alternate,t.memoizedState!==null?a._visibility&2?Ot(e,t,n,s):ma(e,t):a._visibility&2?Ot(e,t,n,s):(a._visibility|=2,ks(e,t,n,s,(t.subtreeFlags&10256)!==0)),i&2048&&$f(r,t);break;case 24:Ot(e,t,n,s),i&2048&&Gf(t.alternate,t);break;default:Ot(e,t,n,s)}}function ks(e,t,n,s,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var a=e,r=t,l=n,o=s,u=r.flags;switch(r.tag){case 0:case 11:case 15:ks(a,r,l,o,i),lr(8,r);break;case 23:break;case 22:var c=r.stateNode;r.memoizedState!==null?c._visibility&2?ks(a,r,l,o,i):ma(a,r):(c._visibility|=2,ks(a,r,l,o,i)),i&&u&2048&&$f(r.alternate,r);break;case 24:ks(a,r,l,o,i),i&&u&2048&&Gf(r.alternate,r);break;default:ks(a,r,l,o,i)}t=t.sibling}}function ma(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,i=s.flags;switch(s.tag){case 22:ma(n,s),i&2048&&$f(s.alternate,s);break;case 24:ma(n,s),i&2048&&Gf(s.alternate,s);break;default:ma(n,s)}t=t.sibling}}var Wi=8192;function Es(e){if(e.subtreeFlags&Wi)for(e=e.child;e!==null;)Tv(e),e=e.sibling}function Tv(e){switch(e.tag){case 26:Es(e),e.flags&Wi&&e.memoizedState!==null&&pw(Tt,e.memoizedState,e.memoizedProps);break;case 5:Es(e);break;case 3:case 4:var t=Tt;Tt=Nl(e.stateNode.containerInfo),Es(e),Tt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Wi,Wi=16777216,Es(e),Wi=t):Es(e));break;default:Es(e)}}function Ev(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Xi(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];je=s,Av(s,e)}Ev(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jv(e),e=e.sibling}function jv(e){switch(e.tag){case 0:case 11:case 15:Xi(e),e.flags&2048&&Un(9,e,e.return);break;case 3:Xi(e);break;case 12:Xi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Wr(e)):Xi(e);break;default:Xi(e)}}function Wr(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];je=s,Av(s,e)}Ev(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Un(8,t,t.return),Wr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Wr(t));break;default:Wr(t)}e=e.sibling}}function Av(e,t){for(;je!==null;){var n=je;switch(n.tag){case 0:case 11:case 15:Un(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:sr(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,je=s;else e:for(n=e;je!==null;){s=je;var i=s.sibling,a=s.return;if(vv(s),s===n){je=null;break e}if(i!==null){i.return=a,je=i;break e}je=a}}}var Dx={getCacheForType:function(e){var t=Le(xe),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Nx=typeof WeakMap=="function"?WeakMap:Map,J=0,ie=null,$=null,G=0,F=0,et=null,wn=!1,Oi=!1,Yf=!1,tn=0,me=0,Vn=0,fs=0,Xf=0,yt=0,yi=0,pa=null,Ke=null,uc=!1,Kf=0,jl=1/0,Al=null,Cn=null,Ne=0,Rn=null,vi=null,oi=0,cc=0,fc=null,Ov=null,ga=0,hc=null;function it(){if(J&2&&G!==0)return G&-G;if(U.T!==null){var e=di;return e!==0?e:Zf()}return Pg()}function Cv(){yt===0&&(yt=!(G&536870912)||K?Ug():536870912);var e=_t.current;return e!==null&&(e.flags|=32),yt}function at(e,t,n){(e===ie&&(F===2||F===9)||e.cancelPendingCommit!==null)&&(bi(e,0),Tn(e,G,yt,!1)),Ia(e,n),(!(J&2)||e!==ie)&&(e===ie&&(!(J&2)&&(fs|=n),me===4&&Tn(e,G,yt,!1)),Bt(e))}function Rv(e,t,n){if(J&6)throw Error(A(327));var s=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Ja(e,t),i=s?Ux(e,t):eu(e,t,!0),a=s;do{if(i===0){Oi&&!s&&Tn(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!Mx(n)){i=eu(e,t,!1),a=!1;continue}if(i===2){if(a=t,e.errorRecoveryDisabledLanes&a)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var l=e;i=pa;var o=l.current.memoizedState.isDehydrated;if(o&&(bi(l,r).flags|=256),r=eu(l,r,!1),r!==2){if(Yf&&!o){l.errorRecoveryDisabledLanes|=a,fs|=a,i=4;break e}a=Ke,Ke=i,a!==null&&(Ke===null?Ke=a:Ke.push.apply(Ke,a))}i=r}if(a=!1,i!==2)continue}}if(i===1){bi(e,0),Tn(e,t,0,!0);break}e:{switch(s=e,a=i,a){case 0:case 1:throw Error(A(345));case 4:if((t&4194048)!==t)break;case 6:Tn(s,t,yt,!wn);break e;case 2:Ke=null;break;case 3:case 5:break;default:throw Error(A(329))}if((t&62914560)===t&&(i=Kf+300-Nt(),10<i)){if(Tn(s,t,yt,!wn),Ql(s,0,!0)!==0)break e;s.timeoutHandle=Zv(Id.bind(null,s,n,Ke,Al,uc,t,yt,fs,yi,wn,a,2,-0,0),i);break e}Id(s,n,Ke,Al,uc,t,yt,fs,yi,wn,a,0,-0,0)}}break}while(!0);Bt(e)}function Id(e,t,n,s,i,a,r,l,o,u,c,f,h,d){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(ka={stylesheets:null,count:0,unsuspend:mw},Tv(t),f=gw(),f!==null)){e.cancelPendingCommit=f(em.bind(null,e,t,a,n,s,i,r,l,o,c,1,h,d)),Tn(e,a,r,!u);return}em(e,t,a,n,s,i,r,l,o)}function Mx(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var i=n[s],a=i.getSnapshot;i=i.value;try{if(!rt(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tn(e,t,n,s){t&=~Xf,t&=~fs,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var i=t;0<i;){var a=31-st(i),r=1<<a;s[a]=-1,i&=~r}n!==0&&Lg(e,n,t)}function io(){return J&6?!0:(or(0),!1)}function Qf(){if($!==null){if(F===0)var e=$.return;else e=$,Qt=ws=null,kf(e),li=null,Da=0,e=$;for(;e!==null;)fv(e.alternate,e),e=e.return;$=null}}function bi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Jx(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Qf(),ie=e,$=n=Ft(e.current,null),G=t,F=0,et=null,wn=!1,Oi=Ja(e,t),Yf=!1,yi=yt=Xf=fs=Vn=me=0,Ke=pa=null,uc=!1,t&8&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var i=31-st(s),a=1<<i;t|=e[i],s&=~a}return tn=t,Il(),n}function Dv(e,t){P=null,U.H=_l,t===ir||t===eo?(t=Rd(),F=3):t===py?(t=Rd(),F=4):F=t===av?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,et=t,$===null&&(me=1,wl(e,gt(t,e.current)))}function Nv(){var e=U.H;return U.H=_l,e===null?_l:e}function Mv(){var e=U.A;return U.A=Dx,e}function dc(){me=4,wn||(G&4194048)!==G&&_t.current!==null||(Oi=!0),!(Vn&134217727)&&!(fs&134217727)||ie===null||Tn(ie,G,yt,!1)}function eu(e,t,n){var s=J;J|=2;var i=Nv(),a=Mv();(ie!==e||G!==t)&&(Al=null,bi(e,t)),t=!1;var r=me;e:do try{if(F!==0&&$!==null){var l=$,o=et;switch(F){case 8:Qf(),r=6;break e;case 3:case 2:case 9:case 6:_t.current===null&&(t=!0);var u=F;if(F=0,et=null,Zs(e,l,o,u),n&&Oi){r=0;break e}break;default:u=F,F=0,et=null,Zs(e,l,o,u)}}kx(),r=me;break}catch(c){Dv(e,c)}while(!0);return t&&e.shellSuspendCounter++,Qt=ws=null,J=s,U.H=i,U.A=a,$===null&&(ie=null,G=0,Il()),r}function kx(){for(;$!==null;)kv($)}function Ux(e,t){var n=J;J|=2;var s=Nv(),i=Mv();ie!==e||G!==t?(Al=null,jl=Nt()+500,bi(e,t)):Oi=Ja(e,t);e:do try{if(F!==0&&$!==null){t=$;var a=et;t:switch(F){case 1:F=0,et=null,Zs(e,t,a,1);break;case 2:case 9:if(Cd(a)){F=0,et=null,Wd(t);break}t=function(){F!==2&&F!==9||ie!==e||(F=7),Bt(e)},a.then(t,t);break e;case 3:F=7;break e;case 4:F=5;break e;case 7:Cd(a)?(F=0,et=null,Wd(t)):(F=0,et=null,Zs(e,t,a,7));break;case 5:var r=null;switch($.tag){case 26:r=$.memoizedState;case 5:case 27:var l=$;if(!r||Wv(r)){F=0,et=null;var o=l.sibling;if(o!==null)$=o;else{var u=l.return;u!==null?($=u,ao(u)):$=null}break t}}F=0,et=null,Zs(e,t,a,5);break;case 6:F=0,et=null,Zs(e,t,a,6);break;case 8:Qf(),me=6;break e;default:throw Error(A(462))}}Vx();break}catch(c){Dv(e,c)}while(!0);return Qt=ws=null,U.H=s,U.A=i,J=n,$!==null?0:(ie=null,G=0,Il(),me)}function Vx(){for(;$!==null&&!iS();)kv($)}function kv(e){var t=cv(e.alternate,e,tn);e.memoizedProps=e.pendingProps,t===null?ao(e):$=t}function Wd(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Xd(n,t,t.pendingProps,t.type,void 0,G);break;case 11:t=Xd(n,t,t.pendingProps,t.type.render,t.ref,G);break;case 5:kf(t);default:fv(n,t),t=$=fy(t,tn),t=cv(n,t,tn)}e.memoizedProps=e.pendingProps,t===null?ao(e):$=t}function Zs(e,t,n,s){Qt=ws=null,kf(t),li=null,Da=0;var i=t.return;try{if(Ex(e,i,t,n,G)){me=1,wl(e,gt(n,e.current)),$=null;return}}catch(a){if(i!==null)throw $=i,a;me=1,wl(e,gt(n,e.current)),$=null;return}t.flags&32768?(K||s===1?e=!0:Oi||G&536870912?e=!1:(wn=e=!0,(s===2||s===9||s===3||s===6)&&(s=_t.current,s!==null&&s.tag===13&&(s.flags|=16384))),Uv(t,e)):ao(t)}function ao(e){var t=e;do{if(t.flags&32768){Uv(t,wn);return}e=t.return;var n=Ax(t.alternate,t,tn);if(n!==null){$=n;return}if(t=t.sibling,t!==null){$=t;return}$=t=e}while(t!==null);me===0&&(me=5)}function Uv(e,t){do{var n=Ox(e.alternate,e);if(n!==null){n.flags&=32767,$=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){$=e;return}$=e=n}while(e!==null);me=6,$=null}function em(e,t,n,s,i,a,r,l,o){e.cancelPendingCommit=null;do ro();while(Ne!==0);if(J&6)throw Error(A(327));if(t!==null){if(t===e.current)throw Error(A(177));if(a=t.lanes|t.childLanes,a|=Sf,mS(e,n,a,r,l,o),e===ie&&($=ie=null,G=0),vi=t,Rn=e,oi=n,cc=a,fc=i,Ov=s,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,zx(cl,function(){return zv(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,t.subtreeFlags&13878||s){s=U.T,U.T=null,i=Q.p,Q.p=2,r=J,J|=4;try{Cx(e,t,n)}finally{J=r,Q.p=i,U.T=s}}Ne=1,Vv(),Lv(),Bv()}}function Vv(){if(Ne===1){Ne=0;var e=Rn,t=vi,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=U.T,U.T=null;var s=Q.p;Q.p=2;var i=J;J|=4;try{Sv(t,e);var a=yc,r=sy(e.containerInfo),l=a.focusedElem,o=a.selectionRange;if(r!==l&&l&&l.ownerDocument&&ny(l.ownerDocument.documentElement,l)){if(o!==null&&_f(l)){var u=o.start,c=o.end;if(c===void 0&&(c=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(c,l.value.length);else{var f=l.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var d=h.getSelection(),v=l.textContent.length,_=Math.min(o.start,v),x=o.end===void 0?_:Math.min(o.end,v);!d.extend&&_>x&&(r=x,x=_,_=r);var p=Sd(l,_),g=Sd(l,x);if(p&&g&&(d.rangeCount!==1||d.anchorNode!==p.node||d.anchorOffset!==p.offset||d.focusNode!==g.node||d.focusOffset!==g.offset)){var y=f.createRange();y.setStart(p.node,p.offset),d.removeAllRanges(),_>x?(d.addRange(y),d.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),d.addRange(y))}}}}for(f=[],d=l;d=d.parentNode;)d.nodeType===1&&f.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var b=f[l];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}Ul=!!gc,yc=gc=null}finally{J=i,Q.p=s,U.T=n}}e.current=t,Ne=2}}function Lv(){if(Ne===2){Ne=0;var e=Rn,t=vi,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=U.T,U.T=null;var s=Q.p;Q.p=2;var i=J;J|=4;try{yv(e,t.alternate,t)}finally{J=i,Q.p=s,U.T=n}}Ne=3}}function Bv(){if(Ne===4||Ne===3){Ne=0,aS();var e=Rn,t=vi,n=oi,s=Ov;t.subtreeFlags&10256||t.flags&10256?Ne=5:(Ne=0,vi=Rn=null,Pv(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Cn=null),df(n),t=t.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(Fa,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=U.T,i=Q.p,Q.p=2,U.T=null;try{for(var a=e.onRecoverableError,r=0;r<s.length;r++){var l=s[r];a(l.value,{componentStack:l.stack})}}finally{U.T=t,Q.p=i}}oi&3&&ro(),Bt(e),i=e.pendingLanes,n&4194090&&i&42?e===hc?ga++:(ga=0,hc=e):ga=0,or(0)}}function Pv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,sr(t)))}function ro(e){return Vv(),Lv(),Bv(),zv()}function zv(){if(Ne!==5)return!1;var e=Rn,t=cc;cc=0;var n=df(oi),s=U.T,i=Q.p;try{Q.p=32>n?32:n,U.T=null,n=fc,fc=null;var a=Rn,r=oi;if(Ne=0,vi=Rn=null,oi=0,J&6)throw Error(A(331));var l=J;if(J|=4,jv(a.current),wv(a,a.current,r,n),J=l,or(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(Fa,a)}catch{}return!0}finally{Q.p=i,U.T=s,Pv(e,t)}}function tm(e,t,n){t=gt(n,t),t=ac(e.stateNode,t,2),e=On(e,t,2),e!==null&&(Ia(e,2),Bt(e))}function te(e,t,n){if(e.tag===3)tm(e,e,n);else for(;t!==null;){if(t.tag===3){tm(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Cn===null||!Cn.has(s))){e=gt(n,e),n=sv(2),s=On(t,n,2),s!==null&&(iv(n,s,t,e),Ia(s,2),Bt(s));break}}t=t.return}}function tu(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Nx;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(n)||(Yf=!0,i.add(n),e=Lx.bind(null,e,t,n),t.then(e,e))}function Lx(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ie===e&&(G&n)===n&&(me===4||me===3&&(G&62914560)===G&&300>Nt()-Kf?!(J&2)&&bi(e,0):Xf|=n,yi===G&&(yi=0)),Bt(e)}function Hv(e,t){t===0&&(t=Vg()),e=Ai(e,t),e!==null&&(Ia(e,t),Bt(e))}function Bx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Hv(e,n)}function Px(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(A(314))}s!==null&&s.delete(t),Hv(e,n)}function zx(e,t){return ff(e,t)}var Ol=null,Us=null,mc=!1,Cl=!1,nu=!1,hs=0;function Bt(e){e!==Us&&e.next===null&&(Us===null?Ol=Us=e:Us=Us.next=e),Cl=!0,mc||(mc=!0,qx())}function or(e,t){if(!nu&&Cl){nu=!0;do for(var n=!1,s=Ol;s!==null;){if(e!==0){var i=s.pendingLanes;if(i===0)var a=0;else{var r=s.suspendedLanes,l=s.pingedLanes;a=(1<<31-st(42|e)+1)-1,a&=i&~(r&~l),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,nm(s,a))}else a=G,a=Ql(s,s===ie?a:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(a&3)||Ja(s,a)||(n=!0,nm(s,a));s=s.next}while(n);nu=!1}}function Hx(){qv()}function qv(){Cl=mc=!1;var e=0;hs!==0&&(Fx()&&(e=hs),hs=0);for(var t=Nt(),n=null,s=Ol;s!==null;){var i=s.next,a=$v(s,t);a===0?(s.next=null,n===null?Ol=i:n.next=i,i===null&&(Us=n)):(n=s,(e!==0||a&3)&&(Cl=!0)),s=i}or(e)}function $v(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var r=31-st(a),l=1<<r,o=i[r];o===-1?(!(l&n)||l&s)&&(i[r]=dS(l,t)):o<=t&&(e.expiredLanes|=l),a&=~l}if(t=ie,n=G,n=Ql(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(F===2||F===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Oo(s),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Ja(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&Oo(s),df(n)){case 2:case 8:n=Mg;break;case 32:n=cl;break;case 268435456:n=kg;break;default:n=cl}return s=Gv.bind(null,e),n=ff(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&Oo(s),e.callbackPriority=2,e.callbackNode=null,2}function Gv(e,t){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ro()&&e.callbackNode!==n)return null;var s=G;return s=Ql(e,e===ie?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Rv(e,s,t),$v(e,Nt()),e.callbackNode!=null&&e.callbackNode===n?Gv.bind(null,e):null)}function nm(e,t){if(ro())return null;Rv(e,t,!0)}function qx(){Ix(function(){J&6?ff(Ng,Hx):qv()})}function Zf(){return hs===0&&(hs=Ug()),hs}function sm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Yr(""+e)}function im(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function $x(e,t,n,s,i){if(t==="submit"&&n&&n.stateNode===i){var a=sm((i[Fe]||null).action),r=s.submitter;r&&(t=(t=r[Fe]||null)?sm(t.formAction):r.getAttribute("formAction"),t!==null&&(a=t,r=null));var l=new Zl("action","action",null,s,i);e.push({event:l,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(hs!==0){var o=r?im(i,r):new FormData(i);sc(n,{pending:!0,data:o,method:i.method,action:a},null,o)}}else typeof a=="function"&&(l.preventDefault(),o=r?im(i,r):new FormData(i),sc(n,{pending:!0,data:o,method:i.method,action:a},a,o))},currentTarget:i}]})}}for(var su=0;su<Yu.length;su++){var iu=Yu[su],Gx=iu.toLowerCase(),Yx=iu[0].toUpperCase()+iu.slice(1);At(Gx,"on"+Yx)}At(ay,"onAnimationEnd");At(ry,"onAnimationIteration");At(ly,"onAnimationStart");At("dblclick","onDoubleClick");At("focusin","onFocus");At("focusout","onBlur");At(ox,"onTransitionRun");At(ux,"onTransitionStart");At(cx,"onTransitionCancel");At(oy,"onTransitionEnd");fi("onMouseEnter",["mouseout","mouseover"]);fi("onMouseLeave",["mouseout","mouseover"]);fi("onPointerEnter",["pointerout","pointerover"]);fi("onPointerLeave",["pointerout","pointerover"]);_s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_s("onBeforeInput",["compositionend","keypress","textInput","paste"]);_s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Na));function Yv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var r=s.length-1;0<=r;r--){var l=s[r],o=l.instance,u=l.currentTarget;if(l=l.listener,o!==a&&i.isPropagationStopped())break e;a=l,i.currentTarget=u;try{a(i)}catch(c){xl(c)}i.currentTarget=null,a=o}else for(r=0;r<s.length;r++){if(l=s[r],o=l.instance,u=l.currentTarget,l=l.listener,o!==a&&i.isPropagationStopped())break e;a=l,i.currentTarget=u;try{a(i)}catch(c){xl(c)}i.currentTarget=null,a=o}}}}function q(e,t){var n=t[Bu];n===void 0&&(n=t[Bu]=new Set);var s=e+"__bubble";n.has(s)||(Xv(t,e,2,!1),n.add(s))}function au(e,t,n){var s=0;t&&(s|=4),Xv(n,e,s,t)}var Dr="_reactListening"+Math.random().toString(36).slice(2);function Ff(e){if(!e[Dr]){e[Dr]=!0,zg.forEach(function(n){n!=="selectionchange"&&(Xx.has(n)||au(n,!1,e),au(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dr]||(t[Dr]=!0,au("selectionchange",!1,t))}}function Xv(e,t,n,s){switch(i0(t)){case 2:var i=bw;break;case 8:i=_w;break;default:i=eh}n=i.bind(null,t,n,e),i=void 0,!qu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ru(e,t,n,s,i){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var r=s.tag;if(r===3||r===4){var l=s.stateNode.containerInfo;if(l===i)break;if(r===4)for(r=s.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===i)return;r=r.return}for(;l!==null;){if(r=zs(l),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){s=a=r;continue e}l=l.parentNode}}s=s.return}Qg(function(){var u=a,c=gf(n),f=[];e:{var h=uy.get(e);if(h!==void 0){var d=Zl,v=e;switch(e){case"keypress":if(Kr(n)===0)break e;case"keydown":case"keyup":d=zS;break;case"focusin":v="focus",d=Vo;break;case"focusout":v="blur",d=Vo;break;case"beforeblur":case"afterblur":d=Vo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=fd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=OS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=$S;break;case ay:case ry:case ly:d=DS;break;case oy:d=YS;break;case"scroll":case"scrollend":d=jS;break;case"wheel":d=KS;break;case"copy":case"cut":case"paste":d=MS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=dd;break;case"toggle":case"beforetoggle":d=ZS}var _=(t&4)!==0,x=!_&&(e==="scroll"||e==="scrollend"),p=_?h!==null?h+"Capture":null:h;_=[];for(var g=u,y;g!==null;){var b=g;if(y=b.stateNode,b=b.tag,b!==5&&b!==26&&b!==27||y===null||p===null||(b=ja(g,p),b!=null&&_.push(Ma(g,b,y))),x)break;g=g.return}0<_.length&&(h=new d(h,v,null,n,c),f.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",h&&n!==Hu&&(v=n.relatedTarget||n.fromElement)&&(zs(v)||v[Ei]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(v=n.relatedTarget||n.toElement,d=u,v=v?zs(v):null,v!==null&&(x=Za(v),_=v.tag,v!==x||_!==5&&_!==27&&_!==6)&&(v=null)):(d=null,v=u),d!==v)){if(_=fd,b="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(_=dd,b="onPointerLeave",p="onPointerEnter",g="pointer"),x=d==null?h:Ii(d),y=v==null?h:Ii(v),h=new _(b,g+"leave",d,n,c),h.target=x,h.relatedTarget=y,b=null,zs(c)===u&&(_=new _(p,g+"enter",v,n,c),_.target=y,_.relatedTarget=x,b=_),x=b,d&&v)t:{for(_=d,p=v,g=0,y=_;y;y=js(y))g++;for(y=0,b=p;b;b=js(b))y++;for(;0<g-y;)_=js(_),g--;for(;0<y-g;)p=js(p),y--;for(;g--;){if(_===p||p!==null&&_===p.alternate)break t;_=js(_),p=js(p)}_=null}else _=null;d!==null&&am(f,h,d,_,!1),v!==null&&x!==null&&am(f,x,v,_,!0)}}e:{if(h=u?Ii(u):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var w=yd;else if(gd(h))if(ey)w=ax;else{w=sx;var E=nx}else d=h.nodeName,!d||d.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&pf(u.elementType)&&(w=yd):w=ix;if(w&&(w=w(e,u))){Wg(f,w,n,c);break e}E&&E(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&zu(h,"number",h.value)}switch(E=u?Ii(u):window,e){case"focusin":(gd(E)||E.contentEditable==="true")&&($s=E,$u=u,ra=null);break;case"focusout":ra=$u=$s=null;break;case"mousedown":Gu=!0;break;case"contextmenu":case"mouseup":case"dragend":Gu=!1,xd(f,n,c);break;case"selectionchange":if(lx)break;case"keydown":case"keyup":xd(f,n,c)}var S;if(bf)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else qs?Jg(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Fg&&n.locale!=="ko"&&(qs||j!=="onCompositionStart"?j==="onCompositionEnd"&&qs&&(S=Zg()):(xn=c,yf="value"in xn?xn.value:xn.textContent,qs=!0)),E=Rl(u,j),0<E.length&&(j=new hd(j,e,null,n,c),f.push({event:j,listeners:E}),S?j.data=S:(S=Ig(n),S!==null&&(j.data=S)))),(S=JS?IS(e,n):WS(e,n))&&(j=Rl(u,"onBeforeInput"),0<j.length&&(E=new hd("onBeforeInput","beforeinput",null,n,c),f.push({event:E,listeners:j}),E.data=S)),$x(f,e,u,n,c)}Yv(f,t)})}function Ma(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rl(e,t){for(var n=t+"Capture",s=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=ja(e,n),i!=null&&s.unshift(Ma(e,i,a)),i=ja(e,t),i!=null&&s.push(Ma(e,i,a))),e.tag===3)return s;e=e.return}return[]}function js(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function am(e,t,n,s,i){for(var a=t._reactName,r=[];n!==null&&n!==s;){var l=n,o=l.alternate,u=l.stateNode;if(l=l.tag,o!==null&&o===s)break;l!==5&&l!==26&&l!==27||u===null||(o=u,i?(u=ja(n,a),u!=null&&r.unshift(Ma(n,u,o))):i||(u=ja(n,a),u!=null&&r.push(Ma(n,u,o)))),n=n.return}r.length!==0&&e.push({event:t,listeners:r})}var Kx=/\r\n?/g,Qx=/\u0000|\uFFFD/g;function rm(e){return(typeof e=="string"?e:""+e).replace(Kx,`
`).replace(Qx,"")}function Kv(e,t){return t=rm(t),rm(e)===t}function lo(){}function I(e,t,n,s,i,a){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||hi(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&hi(e,""+s);break;case"className":Tr(e,"class",s);break;case"tabIndex":Tr(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Tr(e,n,s);break;case"style":Kg(e,s,a);break;case"data":if(t!=="object"){Tr(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Yr(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&I(e,t,"name",i.name,i,null),I(e,t,"formEncType",i.formEncType,i,null),I(e,t,"formMethod",i.formMethod,i,null),I(e,t,"formTarget",i.formTarget,i,null)):(I(e,t,"encType",i.encType,i,null),I(e,t,"method",i.method,i,null),I(e,t,"target",i.target,i,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Yr(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=lo);break;case"onScroll":s!=null&&q("scroll",e);break;case"onScrollEnd":s!=null&&q("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(A(61));if(n=s.__html,n!=null){if(i.children!=null)throw Error(A(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=Yr(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":q("beforetoggle",e),q("toggle",e),Gr(e,"popover",s);break;case"xlinkActuate":Pt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Pt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Pt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Pt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Pt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Pt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Pt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Gr(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=TS.get(n)||n,Gr(e,n,s))}}function pc(e,t,n,s,i,a){switch(n){case"style":Kg(e,s,a);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(A(61));if(n=s.__html,n!=null){if(i.children!=null)throw Error(A(60));e.innerHTML=n}}break;case"children":typeof s=="string"?hi(e,s):(typeof s=="number"||typeof s=="bigint")&&hi(e,""+s);break;case"onScroll":s!=null&&q("scroll",e);break;case"onScrollEnd":s!=null&&q("scrollend",e);break;case"onClick":s!=null&&(e.onclick=lo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hg.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),a=e[Fe]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,i),typeof s=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,i);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):Gr(e,n,s)}}}function Me(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":q("error",e),q("load",e);var s=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var r=n[a];if(r!=null)switch(a){case"src":s=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(A(137,t));default:I(e,t,a,r,n,null)}}i&&I(e,t,"srcSet",n.srcSet,n,null),s&&I(e,t,"src",n.src,n,null);return;case"input":q("invalid",e);var l=a=r=i=null,o=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var c=n[s];if(c!=null)switch(s){case"name":i=c;break;case"type":r=c;break;case"checked":o=c;break;case"defaultChecked":u=c;break;case"value":a=c;break;case"defaultValue":l=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(A(137,t));break;default:I(e,t,s,c,n,null)}}Gg(e,a,l,o,u,r,i,!1),fl(e);return;case"select":q("invalid",e),s=r=a=null;for(i in n)if(n.hasOwnProperty(i)&&(l=n[i],l!=null))switch(i){case"value":a=l;break;case"defaultValue":r=l;break;case"multiple":s=l;default:I(e,t,i,l,n,null)}t=a,n=r,e.multiple=!!s,t!=null?ni(e,!!s,t,!1):n!=null&&ni(e,!!s,n,!0);return;case"textarea":q("invalid",e),a=i=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":i=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(A(91));break;default:I(e,t,r,l,n,null)}Xg(e,s,i,a),fl(e);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(s=n[o],s!=null))switch(o){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:I(e,t,o,s,n,null)}return;case"dialog":q("beforetoggle",e),q("toggle",e),q("cancel",e),q("close",e);break;case"iframe":case"object":q("load",e);break;case"video":case"audio":for(s=0;s<Na.length;s++)q(Na[s],e);break;case"image":q("error",e),q("load",e);break;case"details":q("toggle",e);break;case"embed":case"source":case"link":q("error",e),q("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(s=n[u],s!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(A(137,t));default:I(e,t,u,s,n,null)}return;default:if(pf(t)){for(c in n)n.hasOwnProperty(c)&&(s=n[c],s!==void 0&&pc(e,t,c,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(s=n[l],s!=null&&I(e,t,l,s,n,null))}function Zx(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,r=null,l=null,o=null,u=null,c=null;for(d in n){var f=n[d];if(n.hasOwnProperty(d)&&f!=null)switch(d){case"checked":break;case"value":break;case"defaultValue":o=f;default:s.hasOwnProperty(d)||I(e,t,d,null,s,f)}}for(var h in s){var d=s[h];if(f=n[h],s.hasOwnProperty(h)&&(d!=null||f!=null))switch(h){case"type":a=d;break;case"name":i=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(A(137,t));break;default:d!==f&&I(e,t,h,d,s,f)}}Pu(e,r,l,o,u,c,a,i);return;case"select":d=r=l=h=null;for(a in n)if(o=n[a],n.hasOwnProperty(a)&&o!=null)switch(a){case"value":break;case"multiple":d=o;default:s.hasOwnProperty(a)||I(e,t,a,null,s,o)}for(i in s)if(a=s[i],o=n[i],s.hasOwnProperty(i)&&(a!=null||o!=null))switch(i){case"value":h=a;break;case"defaultValue":l=a;break;case"multiple":r=a;default:a!==o&&I(e,t,i,a,s,o)}t=l,n=r,s=d,h!=null?ni(e,!!n,h,!1):!!s!=!!n&&(t!=null?ni(e,!!n,t,!0):ni(e,!!n,n?[]:"",!1));return;case"textarea":d=h=null;for(l in n)if(i=n[l],n.hasOwnProperty(l)&&i!=null&&!s.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:I(e,t,l,null,s,i)}for(r in s)if(i=s[r],a=n[r],s.hasOwnProperty(r)&&(i!=null||a!=null))switch(r){case"value":h=i;break;case"defaultValue":d=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(A(91));break;default:i!==a&&I(e,t,r,i,s,a)}Yg(e,h,d);return;case"option":for(var v in n)if(h=n[v],n.hasOwnProperty(v)&&h!=null&&!s.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:I(e,t,v,null,s,h)}for(o in s)if(h=s[o],d=n[o],s.hasOwnProperty(o)&&h!==d&&(h!=null||d!=null))switch(o){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:I(e,t,o,h,s,d)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in n)h=n[_],n.hasOwnProperty(_)&&h!=null&&!s.hasOwnProperty(_)&&I(e,t,_,null,s,h);for(u in s)if(h=s[u],d=n[u],s.hasOwnProperty(u)&&h!==d&&(h!=null||d!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(A(137,t));break;default:I(e,t,u,h,s,d)}return;default:if(pf(t)){for(var x in n)h=n[x],n.hasOwnProperty(x)&&h!==void 0&&!s.hasOwnProperty(x)&&pc(e,t,x,void 0,s,h);for(c in s)h=s[c],d=n[c],!s.hasOwnProperty(c)||h===d||h===void 0&&d===void 0||pc(e,t,c,h,s,d);return}}for(var p in n)h=n[p],n.hasOwnProperty(p)&&h!=null&&!s.hasOwnProperty(p)&&I(e,t,p,null,s,h);for(f in s)h=s[f],d=n[f],!s.hasOwnProperty(f)||h===d||h==null&&d==null||I(e,t,f,h,s,d)}var gc=null,yc=null;function Dl(e){return e.nodeType===9?e:e.ownerDocument}function lm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function vc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lu=null;function Fx(){var e=window.event;return e&&e.type==="popstate"?e===lu?!1:(lu=e,!0):(lu=null,!1)}var Zv=typeof setTimeout=="function"?setTimeout:void 0,Jx=typeof clearTimeout=="function"?clearTimeout:void 0,om=typeof Promise=="function"?Promise:void 0,Ix=typeof queueMicrotask=="function"?queueMicrotask:typeof om<"u"?function(e){return om.resolve(null).then(e).catch(Wx)}:Zv;function Wx(e){setTimeout(function(){throw e})}function zn(e){return e==="head"}function um(e,t){var n=t,s=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<s&&8>s){n=s;var r=e.ownerDocument;if(n&1&&ya(r.documentElement),n&2&&ya(r.body),n&4)for(n=r.head,ya(n),r=n.firstChild;r;){var l=r.nextSibling,o=r.nodeName;r[Wa]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=l}}if(i===0){e.removeChild(a),Ba(t);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:s=n.charCodeAt(0)-48;else s=0;n=a}while(n);Ba(t)}function bc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":bc(n),mf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function ew(e,t,n,s){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Wa])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=jt(e.nextSibling),e===null)break}return null}function tw(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=jt(e.nextSibling),e===null))return null;return e}function _c(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function nw(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Sc=null;function cm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function Fv(e,t,n){switch(t=Dl(n),e){case"html":if(e=t.documentElement,!e)throw Error(A(452));return e;case"head":if(e=t.head,!e)throw Error(A(453));return e;case"body":if(e=t.body,!e)throw Error(A(454));return e;default:throw Error(A(451))}}function ya(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);mf(e)}var St=new Map,fm=new Set;function Nl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var an=Q.d;Q.d={f:sw,r:iw,D:aw,C:rw,L:lw,m:ow,X:cw,S:uw,M:fw};function sw(){var e=an.f(),t=io();return e||t}function iw(e){var t=ji(e);t!==null&&t.tag===5&&t.type==="form"?$y(t):an.r(e)}var Ci=typeof document>"u"?null:document;function Jv(e,t,n){var s=Ci;if(s&&typeof t=="string"&&t){var i=pt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),fm.has(i)||(fm.add(i),e={rel:e,crossOrigin:n,href:t},s.querySelector(i)===null&&(t=s.createElement("link"),Me(t,"link",e),Ae(t),s.head.appendChild(t)))}}function aw(e){an.D(e),Jv("dns-prefetch",e,null)}function rw(e,t){an.C(e,t),Jv("preconnect",e,t)}function lw(e,t,n){an.L(e,t,n);var s=Ci;if(s&&e&&t){var i='link[rel="preload"][as="'+pt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+pt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+pt(n.imageSizes)+'"]')):i+='[href="'+pt(e)+'"]';var a=i;switch(t){case"style":a=_i(e);break;case"script":a=Ri(e)}St.has(a)||(e=ae({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),St.set(a,e),s.querySelector(i)!==null||t==="style"&&s.querySelector(ur(a))||t==="script"&&s.querySelector(cr(a))||(t=s.createElement("link"),Me(t,"link",e),Ae(t),s.head.appendChild(t)))}}function ow(e,t){an.m(e,t);var n=Ci;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+pt(s)+'"][href="'+pt(e)+'"]',a=i;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Ri(e)}if(!St.has(a)&&(e=ae({rel:"modulepreload",href:e},t),St.set(a,e),n.querySelector(i)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(cr(a)))return}s=n.createElement("link"),Me(s,"link",e),Ae(s),n.head.appendChild(s)}}}function uw(e,t,n){an.S(e,t,n);var s=Ci;if(s&&e){var i=ti(s).hoistableStyles,a=_i(e);t=t||"default";var r=i.get(a);if(!r){var l={loading:0,preload:null};if(r=s.querySelector(ur(a)))l.loading=5;else{e=ae({rel:"stylesheet",href:e,"data-precedence":t},n),(n=St.get(a))&&Jf(e,n);var o=r=s.createElement("link");Ae(o),Me(o,"link",e),o._p=new Promise(function(u,c){o.onload=u,o.onerror=c}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,el(r,t,s)}r={type:"stylesheet",instance:r,count:1,state:l},i.set(a,r)}}}function cw(e,t){an.X(e,t);var n=Ci;if(n&&e){var s=ti(n).hoistableScripts,i=Ri(e),a=s.get(i);a||(a=n.querySelector(cr(i)),a||(e=ae({src:e,async:!0},t),(t=St.get(i))&&If(e,t),a=n.createElement("script"),Ae(a),Me(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},s.set(i,a))}}function fw(e,t){an.M(e,t);var n=Ci;if(n&&e){var s=ti(n).hoistableScripts,i=Ri(e),a=s.get(i);a||(a=n.querySelector(cr(i)),a||(e=ae({src:e,async:!0,type:"module"},t),(t=St.get(i))&&If(e,t),a=n.createElement("script"),Ae(a),Me(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},s.set(i,a))}}function hm(e,t,n,s){var i=(i=jn.current)?Nl(i):null;if(!i)throw Error(A(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=_i(n.href),n=ti(i).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=_i(n.href);var a=ti(i).hoistableStyles,r=a.get(e);if(r||(i=i.ownerDocument||i,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,r),(a=i.querySelector(ur(e)))&&!a._p&&(r.instance=a,r.state.loading=5),St.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},St.set(e,n),a||hw(i,e,n,r.state))),t&&s===null)throw Error(A(528,""));return r}if(t&&s!==null)throw Error(A(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ri(n),n=ti(i).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(A(444,e))}}function _i(e){return'href="'+pt(e)+'"'}function ur(e){return'link[rel="stylesheet"]['+e+"]"}function Iv(e){return ae({},e,{"data-precedence":e.precedence,precedence:null})}function hw(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Me(t,"link",n),Ae(t),e.head.appendChild(t))}function Ri(e){return'[src="'+pt(e)+'"]'}function cr(e){return"script[async]"+e}function dm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+pt(n.href)+'"]');if(s)return t.instance=s,Ae(s),s;var i=ae({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Ae(s),Me(s,"style",i),el(s,n.precedence,e),t.instance=s;case"stylesheet":i=_i(n.href);var a=e.querySelector(ur(i));if(a)return t.state.loading|=4,t.instance=a,Ae(a),a;s=Iv(n),(i=St.get(i))&&Jf(s,i),a=(e.ownerDocument||e).createElement("link"),Ae(a);var r=a;return r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Me(a,"link",s),t.state.loading|=4,el(a,n.precedence,e),t.instance=a;case"script":return a=Ri(n.src),(i=e.querySelector(cr(a)))?(t.instance=i,Ae(i),i):(s=n,(i=St.get(a))&&(s=ae({},n),If(s,i)),e=e.ownerDocument||e,i=e.createElement("script"),Ae(i),Me(i,"link",s),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(A(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(s=t.instance,t.state.loading|=4,el(s,n.precedence,e));return t.instance}function el(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=s.length?s[s.length-1]:null,a=i,r=0;r<s.length;r++){var l=s[r];if(l.dataset.precedence===t)a=l;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Jf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function If(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var tl=null;function mm(e,t,n){if(tl===null){var s=new Map,i=tl=new Map;i.set(n,s)}else i=tl,s=i.get(n),s||(s=new Map,i.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Wa]||a[Ve]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var r=a.getAttribute(t)||"";r=e+r;var l=s.get(r);l?l.push(a):s.set(r,[a])}}return s}function pm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function dw(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Wv(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var ka=null;function mw(){}function pw(e,t,n){if(ka===null)throw Error(A(475));var s=ka;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var i=_i(n.href),a=e.querySelector(ur(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=Ml.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=a,Ae(a);return}a=e.ownerDocument||e,n=Iv(n),(i=St.get(i))&&Jf(n,i),a=a.createElement("link"),Ae(a);var r=a;r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Me(a,"link",n),t.instance=a}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(s.count++,t=Ml.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function gw(){if(ka===null)throw Error(A(475));var e=ka;return e.stylesheets&&e.count===0&&xc(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&xc(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Ml(){if(this.count--,this.count===0){if(this.stylesheets)xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var kl=null;function xc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,kl=new Map,t.forEach(yw,e),kl=null,Ml.call(e))}function yw(e,t){if(!(t.state.loading&4)){var n=kl.get(e);if(n)var s=n.get(null);else{n=new Map,kl.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var r=i[a];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),s=r)}s&&n.set(null,s)}i=t.instance,r=i.getAttribute("data-precedence"),a=n.get(r)||s,a===s&&n.set(null,i),n.set(r,i),this.count++,s=Ml.bind(this),i.addEventListener("load",s),i.addEventListener("error",s),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var Ua={$$typeof:Yt,Provider:null,Consumer:null,_currentValue:rs,_currentValue2:rs,_threadCount:0};function vw(e,t,n,s,i,a,r,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Co(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Co(0),this.hiddenUpdates=Co(null),this.identifierPrefix=s,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function e0(e,t,n,s,i,a,r,l,o,u,c,f){return e=new vw(e,t,n,r,l,o,u,f),t=1,a===!0&&(t|=24),a=tt(3,null,null,t),e.current=a,a.stateNode=e,t=jf(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:s,isDehydrated:n,cache:t},Of(a),e}function t0(e){return e?(e=Xs,e):Xs}function n0(e,t,n,s,i,a){i=t0(i),s.context===null?s.context=i:s.pendingContext=i,s=An(t),s.payload={element:n},a=a===void 0?null:a,a!==null&&(s.callback=a),n=On(e,s,t),n!==null&&(at(n,e,t),ua(n,e,t))}function gm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wf(e,t){gm(e,t),(e=e.alternate)&&gm(e,t)}function s0(e){if(e.tag===13){var t=Ai(e,67108864);t!==null&&at(t,e,67108864),Wf(e,67108864)}}var Ul=!0;function bw(e,t,n,s){var i=U.T;U.T=null;var a=Q.p;try{Q.p=2,eh(e,t,n,s)}finally{Q.p=a,U.T=i}}function _w(e,t,n,s){var i=U.T;U.T=null;var a=Q.p;try{Q.p=8,eh(e,t,n,s)}finally{Q.p=a,U.T=i}}function eh(e,t,n,s){if(Ul){var i=wc(s);if(i===null)ru(e,t,s,Vl,n),ym(e,s);else if(xw(i,e,t,n,s))s.stopPropagation();else if(ym(e,s),t&4&&-1<Sw.indexOf(e)){for(;i!==null;){var a=ji(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var r=Jn(a.pendingLanes);if(r!==0){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var o=1<<31-st(r);l.entanglements[1]|=o,r&=~o}Bt(a),!(J&6)&&(jl=Nt()+500,or(0))}}break;case 13:l=Ai(a,2),l!==null&&at(l,a,2),io(),Wf(a,2)}if(a=wc(s),a===null&&ru(e,t,s,Vl,n),a===i)break;i=a}i!==null&&s.stopPropagation()}else ru(e,t,s,null,n)}}function wc(e){return e=gf(e),th(e)}var Vl=null;function th(e){if(Vl=null,e=zs(e),e!==null){var t=Za(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Og(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Vl=e,null}function i0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rS()){case Ng:return 2;case Mg:return 8;case cl:case lS:return 32;case kg:return 268435456;default:return 32}default:return 32}}var Tc=!1,Dn=null,Nn=null,Mn=null,Va=new Map,La=new Map,bn=[],Sw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ym(e,t){switch(e){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":Va.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":La.delete(t.pointerId)}}function Ki(e,t,n,s,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ji(t),t!==null&&s0(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function xw(e,t,n,s,i){switch(t){case"focusin":return Dn=Ki(Dn,e,t,n,s,i),!0;case"dragenter":return Nn=Ki(Nn,e,t,n,s,i),!0;case"mouseover":return Mn=Ki(Mn,e,t,n,s,i),!0;case"pointerover":var a=i.pointerId;return Va.set(a,Ki(Va.get(a)||null,e,t,n,s,i)),!0;case"gotpointercapture":return a=i.pointerId,La.set(a,Ki(La.get(a)||null,e,t,n,s,i)),!0}return!1}function a0(e){var t=zs(e.target);if(t!==null){var n=Za(t);if(n!==null){if(t=n.tag,t===13){if(t=Og(n),t!==null){e.blockedOn=t,pS(e.priority,function(){if(n.tag===13){var s=it();s=hf(s);var i=Ai(n,s);i!==null&&at(i,n,s),Wf(n,s)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=wc(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Hu=s,n.target.dispatchEvent(s),Hu=null}else return t=ji(n),t!==null&&s0(t),e.blockedOn=n,!1;t.shift()}return!0}function vm(e,t,n){nl(e)&&n.delete(t)}function ww(){Tc=!1,Dn!==null&&nl(Dn)&&(Dn=null),Nn!==null&&nl(Nn)&&(Nn=null),Mn!==null&&nl(Mn)&&(Mn=null),Va.forEach(vm),La.forEach(vm)}function Nr(e,t){e.blockedOn===t&&(e.blockedOn=null,Tc||(Tc=!0,Te.unstable_scheduleCallback(Te.unstable_NormalPriority,ww)))}var Mr=null;function bm(e){Mr!==e&&(Mr=e,Te.unstable_scheduleCallback(Te.unstable_NormalPriority,function(){Mr===e&&(Mr=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],i=e[t+2];if(typeof s!="function"){if(th(s||n)===null)continue;break}var a=ji(n);a!==null&&(e.splice(t,3),t-=3,sc(a,{pending:!0,data:i,method:n.method,action:s},s,i))}}))}function Ba(e){function t(o){return Nr(o,e)}Dn!==null&&Nr(Dn,e),Nn!==null&&Nr(Nn,e),Mn!==null&&Nr(Mn,e),Va.forEach(t),La.forEach(t);for(var n=0;n<bn.length;n++){var s=bn[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<bn.length&&(n=bn[0],n.blockedOn===null);)a0(n),n.blockedOn===null&&bn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var i=n[s],a=n[s+1],r=i[Fe]||null;if(typeof a=="function")r||bm(n);else if(r){var l=null;if(a&&a.hasAttribute("formAction")){if(i=a,r=a[Fe]||null)l=r.formAction;else if(th(i)!==null)continue}else l=r.action;typeof l=="function"?n[s+1]=l:(n.splice(s,3),s-=3),bm(n)}}}function nh(e){this._internalRoot=e}oo.prototype.render=nh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));var n=t.current,s=it();n0(n,s,e,t,null,null)};oo.prototype.unmount=nh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;n0(e.current,2,null,e,null,null),io(),t[Ei]=null}};function oo(e){this._internalRoot=e}oo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bn.length&&t!==0&&t<bn[n].priority;n++);bn.splice(n,0,e),n===0&&a0(e)}};var _m=jg.version;if(_m!=="19.1.0")throw Error(A(527,_m,"19.1.0"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=W_(t),e=e!==null?Cg(e):null,e=e===null?null:e.stateNode,e};var Tw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kr.isDisabled&&kr.supportsFiber)try{Fa=kr.inject(Tw),nt=kr}catch{}}Xl.createRoot=function(e,t){if(!Ag(e))throw Error(A(299));var n=!1,s="",i=ev,a=tv,r=nv,l=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=e0(e,1,!1,null,null,n,s,i,a,r,l,null),e[Ei]=t.current,Ff(e),new nh(t)};Xl.hydrateRoot=function(e,t,n){if(!Ag(e))throw Error(A(299));var s=!1,i="",a=ev,r=tv,l=nv,o=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(o=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),t=e0(e,1,!0,t,n??null,s,i,a,r,l,o,u),t.context=t0(null),n=t.current,s=it(),s=hf(s),i=An(s),i.callback=null,On(n,i,s),n=s,t.current.lanes=n,Ia(t,n),Bt(t),e[Ei]=t.current,Ff(e),new oo(t)};Xl.version="19.1.0";function r0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r0)}catch(e){console.error(e)}}r0(),_g.exports=Xl;var Ew=_g.exports;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pa(){return Pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Pa.apply(this,arguments)}var En;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(En||(En={}));const Sm="popstate";function jw(e){e===void 0&&(e={});function t(s,i){let{pathname:a,search:r,hash:l}=s.location;return Ec("",{pathname:a,search:r,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:o0(i)}return Ow(t,n,null,e)}function Se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function l0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Aw(){return Math.random().toString(36).substr(2,8)}function xm(e,t){return{usr:e.state,key:e.key,idx:t}}function Ec(e,t,n,s){return n===void 0&&(n=null),Pa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Di(t):t,{state:n,key:t&&t.key||s||Aw()})}function o0(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Di(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Ow(e,t,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,r=i.history,l=En.Pop,o=null,u=c();u==null&&(u=0,r.replaceState(Pa({},r.state,{idx:u}),""));function c(){return(r.state||{idx:null}).idx}function f(){l=En.Pop;let x=c(),p=x==null?null:x-u;u=x,o&&o({action:l,location:_.location,delta:p})}function h(x,p){l=En.Push;let g=Ec(_.location,x,p);u=c()+1;let y=xm(g,u),b=_.createHref(g);try{r.pushState(y,"",b)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(b)}a&&o&&o({action:l,location:_.location,delta:1})}function d(x,p){l=En.Replace;let g=Ec(_.location,x,p);u=c();let y=xm(g,u),b=_.createHref(g);r.replaceState(y,"",b),a&&o&&o({action:l,location:_.location,delta:0})}function v(x){let p=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof x=="string"?x:o0(x);return g=g.replace(/ $/,"%20"),Se(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let _={get action(){return l},get location(){return e(i,r)},listen(x){if(o)throw new Error("A history only accepts one active listener");return i.addEventListener(Sm,f),o=x,()=>{i.removeEventListener(Sm,f),o=null}},createHref(x){return t(i,x)},createURL:v,encodeLocation(x){let p=v(x);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:d,go(x){return r.go(x)}};return _}var wm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(wm||(wm={}));function Cw(e,t,n){return n===void 0&&(n="/"),Rw(e,t,n)}function Rw(e,t,n,s){let i=typeof t=="string"?Di(t):t,a=f0(i.pathname||"/",n);if(a==null)return null;let r=u0(e);Dw(r);let l=null;for(let o=0;l==null&&o<r.length;++o){let u=$w(a);l=zw(r[o],u)}return l}function u0(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(a,r,l)=>{let o={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:r,route:a};o.relativePath.startsWith("/")&&(Se(o.relativePath.startsWith(s),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(s.length));let u=ds([s,o.relativePath]),c=n.concat(o);a.children&&a.children.length>0&&(Se(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),u0(a.children,t,c,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Bw(u,a.index),routesMeta:c})};return e.forEach((a,r)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,r);else for(let o of c0(a.path))i(a,r,o)}),t}function c0(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let r=c0(s.join("/")),l=[];return l.push(...r.map(o=>o===""?a:[a,o].join("/"))),i&&l.push(...r),l.map(o=>e.startsWith("/")&&o===""?"/":o)}function Dw(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Pw(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Nw=/^:[\w-]+$/,Mw=3,kw=2,Uw=1,Vw=10,Lw=-2,Tm=e=>e==="*";function Bw(e,t){let n=e.split("/"),s=n.length;return n.some(Tm)&&(s+=Lw),t&&(s+=kw),n.filter(i=>!Tm(i)).reduce((i,a)=>i+(Nw.test(a)?Mw:a===""?Uw:Vw),s)}function Pw(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function zw(e,t,n){let{routesMeta:s}=e,i={},a="/",r=[];for(let l=0;l<s.length;++l){let o=s[l],u=l===s.length-1,c=a==="/"?t:t.slice(a.length)||"/",f=Hw({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},c),h=o.route;if(!f)return null;Object.assign(i,f.params),r.push({params:i,pathname:ds([a,f.pathname]),pathnameBase:Kw(ds([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=ds([a,f.pathnameBase]))}return r}function Hw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=qw(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],r=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((u,c,f)=>{let{paramName:h,isOptional:d}=c;if(h==="*"){let _=l[f]||"";r=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const v=l[f];return d&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:r,pattern:e}}function qw(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),l0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,l,o)=>(s.push({paramName:l,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function $w(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return l0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function f0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function Gw(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:i=""}=typeof e=="string"?Di(e):e;return{pathname:n?n.startsWith("/")?n:Yw(n,t):t,search:Qw(s),hash:Zw(i)}}function Yw(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ou(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Xw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function h0(e,t){let n=Xw(e);return t?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function d0(e,t,n,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=Di(e):(i=Pa({},e),Se(!i.pathname||!i.pathname.includes("?"),ou("?","pathname","search",i)),Se(!i.pathname||!i.pathname.includes("#"),ou("#","pathname","hash",i)),Se(!i.search||!i.search.includes("#"),ou("#","search","hash",i)));let a=e===""||i.pathname==="",r=a?"/":i.pathname,l;if(r==null)l=n;else{let f=t.length-1;if(!s&&r.startsWith("..")){let h=r.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?t[f]:"/"}let o=Gw(i,l),u=r&&r!=="/"&&r.endsWith("/"),c=(a||r===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(u||c)&&(o.pathname+="/"),o}const ds=e=>e.join("/").replace(/\/\/+/g,"/"),Kw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Qw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Zw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Fw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const m0=["post","put","patch","delete"];new Set(m0);const Jw=["get",...m0];new Set(Jw);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function za(){return za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},za.apply(this,arguments)}const sh=T.createContext(null),Iw=T.createContext(null),fr=T.createContext(null),uo=T.createContext(null),Hn=T.createContext({outlet:null,matches:[],isDataRoute:!1}),p0=T.createContext(null);function hr(){return T.useContext(uo)!=null}function ih(){return hr()||Se(!1),T.useContext(uo).location}function g0(e){T.useContext(fr).static||T.useLayoutEffect(e)}function co(){let{isDataRoute:e}=T.useContext(Hn);return e?hT():Ww()}function Ww(){hr()||Se(!1);let e=T.useContext(sh),{basename:t,future:n,navigator:s}=T.useContext(fr),{matches:i}=T.useContext(Hn),{pathname:a}=ih(),r=JSON.stringify(h0(i,n.v7_relativeSplatPath)),l=T.useRef(!1);return g0(()=>{l.current=!0}),T.useCallback(function(u,c){if(c===void 0&&(c={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let f=d0(u,JSON.parse(r),a,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ds([t,f.pathname])),(c.replace?s.replace:s.push)(f,c.state,c)},[t,s,r,a,e])}function eT(){let{matches:e}=T.useContext(Hn),t=e[e.length-1];return t?t.params:{}}function tT(e,t){return nT(e,t)}function nT(e,t,n,s){hr()||Se(!1);let{navigator:i}=T.useContext(fr),{matches:a}=T.useContext(Hn),r=a[a.length-1],l=r?r.params:{};r&&r.pathname;let o=r?r.pathnameBase:"/";r&&r.route;let u=ih(),c;if(t){var f;let x=typeof t=="string"?Di(t):t;o==="/"||(f=x.pathname)!=null&&f.startsWith(o)||Se(!1),c=x}else c=u;let h=c.pathname||"/",d=h;if(o!=="/"){let x=o.replace(/^\//,"").split("/");d="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=Cw(e,{pathname:d}),_=lT(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:ds([o,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?o:ds([o,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,n,s);return t&&_?T.createElement(uo.Provider,{value:{location:za({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:En.Pop}},_):_}function sT(){let e=fT(),t=Fw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:i},n):null,null)}const iT=T.createElement(sT,null);class aT extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?T.createElement(Hn.Provider,{value:this.props.routeContext},T.createElement(p0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rT(e){let{routeContext:t,match:n,children:s}=e,i=T.useContext(sh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Hn.Provider,{value:t},s)}function lT(e,t,n,s){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let c=r.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);c>=0||Se(!1),r=r.slice(0,Math.min(r.length,c+1))}let o=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let c=0;c<r.length;c++){let f=r[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:d}=n,v=f.route.loader&&h[f.route.id]===void 0&&(!d||d[f.route.id]===void 0);if(f.route.lazy||v){o=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}return r.reduceRight((c,f,h)=>{let d,v=!1,_=null,x=null;n&&(d=l&&f.route.id?l[f.route.id]:void 0,_=f.route.errorElement||iT,o&&(u<0&&h===0?(dT("route-fallback"),v=!0,x=null):u===h&&(v=!0,x=f.route.hydrateFallbackElement||null)));let p=t.concat(r.slice(0,h+1)),g=()=>{let y;return d?y=_:v?y=x:f.route.Component?y=T.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=c,T.createElement(rT,{match:f,routeContext:{outlet:c,matches:p,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?T.createElement(aT,{location:n.location,revalidation:n.revalidation,component:_,error:d,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var y0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(y0||{}),v0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(v0||{});function oT(e){let t=T.useContext(sh);return t||Se(!1),t}function uT(e){let t=T.useContext(Iw);return t||Se(!1),t}function cT(e){let t=T.useContext(Hn);return t||Se(!1),t}function b0(e){let t=cT(),n=t.matches[t.matches.length-1];return n.route.id||Se(!1),n.route.id}function fT(){var e;let t=T.useContext(p0),n=uT(),s=b0();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function hT(){let{router:e}=oT(y0.UseNavigateStable),t=b0(v0.UseNavigateStable),n=T.useRef(!1);return g0(()=>{n.current=!0}),T.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,za({fromRouteId:t},a)))},[e,t])}const Em={};function dT(e,t,n){Em[e]||(Em[e]=!0)}function mT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ur(e){let{to:t,replace:n,state:s,relative:i}=e;hr()||Se(!1);let{future:a,static:r}=T.useContext(fr),{matches:l}=T.useContext(Hn),{pathname:o}=ih(),u=co(),c=d0(t,h0(l,a.v7_relativeSplatPath),o,i==="path"),f=JSON.stringify(c);return T.useEffect(()=>u(JSON.parse(f),{replace:n,state:s,relative:i}),[u,f,i,n,s]),null}function ea(e){Se(!1)}function pT(e){let{basename:t="/",children:n=null,location:s,navigationType:i=En.Pop,navigator:a,static:r=!1,future:l}=e;hr()&&Se(!1);let o=t.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:o,navigator:a,static:r,future:za({v7_relativeSplatPath:!1},l)}),[o,l,a,r]);typeof s=="string"&&(s=Di(s));let{pathname:c="/",search:f="",hash:h="",state:d=null,key:v="default"}=s,_=T.useMemo(()=>{let x=f0(c,o);return x==null?null:{location:{pathname:x,search:f,hash:h,state:d,key:v},navigationType:i}},[o,c,f,h,d,v,i]);return _==null?null:T.createElement(fr.Provider,{value:u},T.createElement(uo.Provider,{children:n,value:_}))}function gT(e){let{children:t,location:n}=e;return tT(jc(t),n)}new Promise(()=>{});function jc(e,t){t===void 0&&(t=[]);let n=[];return T.Children.forEach(e,(s,i)=>{if(!T.isValidElement(s))return;let a=[...t,i];if(s.type===T.Fragment){n.push.apply(n,jc(s.props.children,a));return}s.type!==ea&&Se(!1),!s.props.index||!s.props.children||Se(!1);let r={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(r.children=jc(s.props.children,a)),n.push(r)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const yT="6";try{window.__reactRouterVersion=yT}catch{}const vT="startTransition",jm=X_[vT];function bT(e){let{basename:t,children:n,future:s,window:i}=e,a=T.useRef();a.current==null&&(a.current=jw({window:i,v5Compat:!0}));let r=a.current,[l,o]=T.useState({action:r.action,location:r.location}),{v7_startTransition:u}=s||{},c=T.useCallback(f=>{u&&jm?jm(()=>o(f)):o(f)},[o,u]);return T.useLayoutEffect(()=>r.listen(c),[r,c]),T.useEffect(()=>mT(s),[s]),T.createElement(pT,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:r,future:s})}var Am;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Am||(Am={}));var Om;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Om||(Om={}));const _T="modulepreload",ST=function(e){return"/"+e},Cm={},dr=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));i=Promise.allSettled(n.map(o=>{if(o=ST(o),o in Cm)return;Cm[o]=!0;const u=o.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":_T,u||(f.as="script"),f.crossOrigin="",f.href=o,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,d)=>{f.addEventListener("load",h),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return i.then(r=>{for(const l of r||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},xT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>dr(async()=>{const{default:s}=await Promise.resolve().then(()=>Ni);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class ah extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class wT extends ah{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Rm extends ah{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Dm extends ah{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ac;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ac||(Ac={}));var TT=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(c){try{u(s.next(c))}catch(f){r(f)}}function o(c){try{u(s.throw(c))}catch(f){r(f)}}function u(c){c.done?a(c.value):i(c.value).then(l,o)}u((s=s.apply(e,t||[])).next())})};class ET{constructor(t,{headers:n={},customFetch:s,region:i=Ac.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=xT(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return TT(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:r}=n;let l={},{region:o}=n;o||(o=this.region);const u=new URL(`${this.url}/${t}`);o&&o!=="any"&&(l["x-region"]=o,u.searchParams.set("forceFunctionRegion",o));let c;r&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&r instanceof Blob||r instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=r):typeof r=="string"?(l["Content-Type"]="text/plain",c=r):typeof FormData<"u"&&r instanceof FormData?c=r:(l["Content-Type"]="application/json",c=JSON.stringify(r)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:c}).catch(_=>{throw new wT(_)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Rm(f);if(!f.ok)throw new Dm(f);let d=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),v;return d==="application/json"?v=yield f.json():d==="application/octet-stream"?v=yield f.blob():d==="text/event-stream"?v=f:d==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof Dm||i instanceof Rm?i.context:void 0}}})}}var Qe={},rh={},fo={},mr={},ho={},mo={},jT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Si=jT();const AT=Si.fetch,_0=Si.fetch.bind(Si),S0=Si.Headers,OT=Si.Request,CT=Si.Response,Ni=Object.freeze(Object.defineProperty({__proto__:null,Headers:S0,Request:OT,Response:CT,default:_0,fetch:AT},Symbol.toStringTag,{value:"Module"})),RT=A_(Ni);var po={};Object.defineProperty(po,"__esModule",{value:!0});let DT=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};po.default=DT;var x0=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mo,"__esModule",{value:!0});const NT=x0(RT),MT=x0(po);let kT=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=NT.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let i=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var r,l,o;let u=null,c=null,f=null,h=a.status,d=a.statusText;if(a.ok){if(this.method!=="HEAD"){const p=await a.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=p:c=JSON.parse(p))}const _=(r=this.headers.Prefer)===null||r===void 0?void 0:r.match(/count=(exact|planned|estimated)/),x=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");_&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,h=406,d="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const _=await a.text();try{u=JSON.parse(_),Array.isArray(u)&&a.status===404&&(c=[],u=null,h=200,d="OK")}catch{a.status===404&&_===""?(h=204,d="No Content"):u={message:_}}if(u&&this.isMaybeSingle&&(!((o=u==null?void 0:u.details)===null||o===void 0)&&o.includes("0 rows"))&&(u=null,h=200,d="OK"),u&&this.shouldThrowOnError)throw new MT.default(u)}return{error:u,data:c,count:f,status:h,statusText:d}});return this.shouldThrowOnError||(i=i.catch(a=>{var r,l,o;return{error:{message:`${(r=a==null?void 0:a.name)!==null&&r!==void 0?r:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(o=a==null?void 0:a.code)!==null&&o!==void 0?o:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};mo.default=kT;var UT=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ho,"__esModule",{value:!0});const VT=UT(mo);let LT=class extends VT.default{select(t){let n=!1;const s=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:i,referencedTable:a=i}={}){const r=a?`${a}.order`:"order",l=this.url.searchParams.get(r);return this.url.searchParams.set(r,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:i=s}={}){const a=typeof i>"u"?"offset":`${i}.offset`,r=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(r,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:i=!1,wal:a=!1,format:r="text"}={}){var l;const o=[t?"analyze":null,n?"verbose":null,s?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${r}; for="${u}"; options=${o};`,r==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ho.default=LT;var BT=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mr,"__esModule",{value:!0});const PT=BT(ho);let zT=class extends PT.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const r=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${a}fts${r}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};mr.default=zT;var HT=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fo,"__esModule",{value:!0});const Qi=HT(mr);let qT=class{constructor(t,{headers:n={},schema:s,fetch:i}){this.url=t,this.headers=n,this.schema=s,this.fetch=i}select(t,{head:n=!1,count:s}={}){const i=n?"HEAD":"GET";let a=!1;const r=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",r),s&&(this.headers.Prefer=`count=${s}`),new Qi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:s=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const r=t.reduce((l,o)=>l.concat(Object.keys(o)),[]);if(r.length>0){const l=[...new Set(r)].map(o=>`"${o}"`);this.url.searchParams.set("columns",l.join(","))}}return new Qi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:i,defaultToNull:a=!0}={}){const r="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const o=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(o.length>0){const u=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new Qi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const s="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Qi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Qi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};fo.default=qT;var go={},yo={};Object.defineProperty(yo,"__esModule",{value:!0});yo.version=void 0;yo.version="0.0.0-automated";Object.defineProperty(go,"__esModule",{value:!0});go.DEFAULT_HEADERS=void 0;const $T=yo;go.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${$T.version}`};var w0=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rh,"__esModule",{value:!0});const GT=w0(fo),YT=w0(mr),XT=go;let KT=class T0{constructor(t,{headers:n={},schema:s,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},XT.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new GT.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new T0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:i=!1,count:a}={}){let r;const l=new URL(`${this.url}/rpc/${t}`);let o;s||i?(r=s?"HEAD":"GET",Object.entries(n).filter(([c,f])=>f!==void 0).map(([c,f])=>[c,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([c,f])=>{l.searchParams.append(c,f)})):(r="POST",o=n);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new YT.default({method:r,url:l,headers:u,schema:this.schemaName,body:o,fetch:this.fetch,allowEmpty:!1})}};rh.default=KT;var Mi=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.PostgrestError=Qe.PostgrestBuilder=Qe.PostgrestTransformBuilder=Qe.PostgrestFilterBuilder=Qe.PostgrestQueryBuilder=Qe.PostgrestClient=void 0;const E0=Mi(rh);Qe.PostgrestClient=E0.default;const j0=Mi(fo);Qe.PostgrestQueryBuilder=j0.default;const A0=Mi(mr);Qe.PostgrestFilterBuilder=A0.default;const O0=Mi(ho);Qe.PostgrestTransformBuilder=O0.default;const C0=Mi(mo);Qe.PostgrestBuilder=C0.default;const R0=Mi(po);Qe.PostgrestError=R0.default;var QT=Qe.default={PostgrestClient:E0.default,PostgrestQueryBuilder:j0.default,PostgrestFilterBuilder:A0.default,PostgrestTransformBuilder:O0.default,PostgrestBuilder:C0.default,PostgrestError:R0.default};const{PostgrestClient:ZT,PostgrestQueryBuilder:kR,PostgrestFilterBuilder:UR,PostgrestTransformBuilder:VR,PostgrestBuilder:LR,PostgrestError:BR}=QT;function FT(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const JT=FT(),IT="2.11.15",WT=`realtime-js/${IT}`,e1="1.0.0",D0=1e4,t1=1e3;var va;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(va||(va={}));var Ue;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ue||(Ue={}));var Et;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Et||(Et={}));var Oc;(function(e){e.websocket="websocket"})(Oc||(Oc={}));var ss;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ss||(ss={}));class n1{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const i=n.getUint8(1),a=n.getUint8(2);let r=this.HEADER_LENGTH+2;const l=s.decode(t.slice(r,r+i));r=r+i;const o=s.decode(t.slice(r,r+a));r=r+a;const u=JSON.parse(s.decode(t.slice(r,t.byteLength)));return{ref:null,topic:l,event:o,payload:u}}}class N0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var se;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(se||(se={}));const Nm=(e,t,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((a,r)=>(a[r]=s1(r,e,t,i),a),{})},s1=(e,t,n,s)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,r=n[e];return a&&!s.includes(a)?M0(a,r):Cc(r)},M0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return l1(t,n)}switch(e){case se.bool:return i1(t);case se.float4:case se.float8:case se.int2:case se.int4:case se.int8:case se.numeric:case se.oid:return a1(t);case se.json:case se.jsonb:return r1(t);case se.timestamp:return o1(t);case se.abstime:case se.date:case se.daterange:case se.int4range:case se.int8range:case se.money:case se.reltime:case se.text:case se.time:case se.timestamptz:case se.timetz:case se.tsrange:case se.tstzrange:return Cc(t);default:return Cc(t)}},Cc=e=>e,i1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},a1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},r1=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},l1=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let a;const r=e.slice(1,n);try{a=JSON.parse("["+r+"]")}catch{a=r?r.split(","):[]}return a.map(l=>M0(t,l))}return e},o1=e=>typeof e=="string"?e.replace(" ","T"):e,k0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class uu{constructor(t,n,s={},i=D0){this.channel=t,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Mm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Mm||(Mm={}));class ba{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:a,onLeave:r,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ba.syncState(this.state,i,a,r),this.pendingDiffs.forEach(o=>{this.state=ba.syncDiff(this.state,o,a,r)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},i=>{const{onJoin:a,onLeave:r,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ba.syncDiff(this.state,i,a,r),l())}),this.onJoin((i,a,r)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:r})}),this.onLeave((i,a,r)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,i){const a=this.cloneDeep(t),r=this.transformState(n),l={},o={};return this.map(a,(u,c)=>{r[u]||(o[u]=c)}),this.map(r,(u,c)=>{const f=a[u];if(f){const h=c.map(x=>x.presence_ref),d=f.map(x=>x.presence_ref),v=c.filter(x=>d.indexOf(x.presence_ref)<0),_=f.filter(x=>h.indexOf(x.presence_ref)<0);v.length>0&&(l[u]=v),_.length>0&&(o[u]=_)}else l[u]=c}),this.syncDiff(a,{joins:l,leaves:o},s,i)}static syncDiff(t,n,s,i){const{joins:a,leaves:r}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(a,(l,o)=>{var u;const c=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(o),c.length>0){const f=t[l].map(d=>d.presence_ref),h=c.filter(d=>f.indexOf(d.presence_ref)<0);t[l].unshift(...h)}s(l,c,o)}),this.map(r,(l,o)=>{let u=t[l];if(!u)return;const c=o.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,o),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const i=t[s];return"metas"in i?n[s]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var km;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(km||(km={}));var Um;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Um||(Um={}));var $t;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})($t||($t={}));class lh{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new uu(this,Et.join,this.params,this.timeout),this.rejoinTimer=new N0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Et.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new ba(this),this.broadcastEndpointURL=k0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ue.closed){const{config:{broadcast:a,presence:r,private:l}}=this.params;this._onError(c=>t==null?void 0:t($t.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t($t.CLOSED));const o={},u={broadcast:a,presence:r,postgres_changes:(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(c=>c.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},o)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:c})=>{var f;if(this.socket.setAuth(),c===void 0){t==null||t($t.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,d=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let _=0;_<d;_++){const x=h[_],{filter:{event:p,schema:g,table:y,filter:b}}=x,w=c&&c[_];if(w&&w.event===p&&w.schema===g&&w.table===y&&w.filter===b)v.push(Object.assign(Object.assign({},x),{id:w.id}));else{this.unsubscribe(),this.state=Ue.errored,t==null||t($t.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t($t.SUBSCRIBED);return}}).receive("error",c=>{this.state=Ue.errored,t==null||t($t.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t($t.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this._on(t,n,s)}async send(t,n={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:r}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var r,l,o;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(l=(r=this.params)===null||r===void 0?void 0:r.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ue.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Et.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new uu(this,Et.leave,{},t),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,s){const i=new AbortController,a=setTimeout(()=>i.abort(),s),r=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),r}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new uu(this,t,n,s);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var i,a;const r=t.toLocaleLowerCase(),{close:l,error:o,leave:u,join:c}=Et;if(s&&[l,o,u,c].indexOf(r)>=0&&s!==this._joinRef())return;let h=this._onMessage(r,n,s);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(d=>{var v,_,x;return((v=d.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(_=d.filter)===null||_===void 0?void 0:_.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===r}).map(d=>d.callback(h,s)):(a=this.bindings[r])===null||a===void 0||a.filter(d=>{var v,_,x,p,g,y;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in d){const b=d.id,w=(v=d.filter)===null||v===void 0?void 0:v.event;return b&&((_=n.ids)===null||_===void 0?void 0:_.includes(b))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const b=(g=(p=d==null?void 0:d.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return b==="*"||b===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===r}).map(d=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:_,table:x,commit_timestamp:p,type:g,errors:y}=v;h=Object.assign(Object.assign({},{schema:_,table:x,commit_timestamp:p,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(v))}d.callback(h,s)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&lh.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Et.close,{},t)}_onError(t){this._on(Et.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Nm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Nm(t.columns,t.old_record)),n}}const Vm=()=>{},u1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class c1{constructor(t,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=D0,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vm,this.ref=0,this.logger=Vm,this.conn=null,this.sendBuffer=[],this.serializer=new n1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let r;return a?r=a:typeof fetch>"u"?r=(...l)=>dr(async()=>{const{default:o}=await Promise.resolve().then(()=>Ni);return{default:o}},void 0).then(({default:o})=>o(...l)):r=fetch,(...l)=>r(...l)},this.endPoint=`${t}/${Oc.websocket}`,this.httpEndpoint=k0(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,r)=>r(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new N0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=JT),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:e1}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case va.connecting:return ss.Connecting;case va.open:return ss.Open;case va.closing:return ss.Closing;default:return ss.Closed}}isConnected(){return this.connectionState()===ss.Open}channel(t,n={config:{}}){const s=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===s);if(i)return i;{const a=new lh(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:s,payload:i,ref:a}=t,r=()=>{this.encode(t,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${n} ${s} (${a})`,i),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:WT};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Et.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(t1,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:i,payload:a,ref:r}=n;s==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),r&&r===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${s} ${i} ${r&&"("+r+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(s)).forEach(l=>l._trigger(i,a,r)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Et.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${s}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([u1],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class oh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ee(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class f1 extends oh{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Rc extends oh{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var h1=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(c){try{u(s.next(c))}catch(f){r(f)}}function o(c){try{u(s.throw(c))}catch(f){r(f)}}function u(c){c.done?a(c.value):i(c.value).then(l,o)}u((s=s.apply(e,t||[])).next())})};const U0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>dr(async()=>{const{default:s}=await Promise.resolve().then(()=>Ni);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},d1=()=>h1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield dr(()=>Promise.resolve().then(()=>Ni),void 0)).Response:Response}),Dc=e=>{if(Array.isArray(e))return e.map(n=>Dc(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Dc(s)}),t};var Ts=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(c){try{u(s.next(c))}catch(f){r(f)}}function o(c){try{u(s.throw(c))}catch(f){r(f)}}function u(c){c.done?a(c.value):i(c.value).then(l,o)}u((s=s.apply(e,t||[])).next())})};const cu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),m1=(e,t,n)=>Ts(void 0,void 0,void 0,function*(){const s=yield d1();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new f1(cu(i),e.status||500))}).catch(i=>{t(new Rc(cu(i),i))}):t(new Rc(cu(e),e))}),p1=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(i.body=JSON.stringify(s)),Object.assign(Object.assign({},i),n))};function pr(e,t,n,s,i,a){return Ts(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,p1(t,s,i,a)).then(o=>{if(!o.ok)throw o;return s!=null&&s.noResolveJson?o:o.json()}).then(o=>r(o)).catch(o=>m1(o,l,s))})})}function Ll(e,t,n,s){return Ts(this,void 0,void 0,function*(){return pr(e,"GET",t,n,s)})}function mn(e,t,n,s,i){return Ts(this,void 0,void 0,function*(){return pr(e,"POST",t,s,i,n)})}function g1(e,t,n,s,i){return Ts(this,void 0,void 0,function*(){return pr(e,"PUT",t,s,i,n)})}function y1(e,t,n,s){return Ts(this,void 0,void 0,function*(){return pr(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function V0(e,t,n,s,i){return Ts(this,void 0,void 0,function*(){return pr(e,"DELETE",t,s,i,n)})}var Ge=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(c){try{u(s.next(c))}catch(f){r(f)}}function o(c){try{u(s.throw(c))}catch(f){r(f)}}function u(c){c.done?a(c.value):i(c.value).then(l,o)}u((s=s.apply(e,t||[])).next())})};const v1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Lm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class b1{constructor(t,n={},s,i){this.url=t,this.headers=n,this.bucketId=s,this.fetch=U0(i)}uploadOrUpdate(t,n,s,i){return Ge(this,void 0,void 0,function*(){try{let a;const r=Object.assign(Object.assign({},Lm),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const o=r.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",r.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",r.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=s,l["cache-control"]=`max-age=${r.cacheControl}`,l["content-type"]=r.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:a,headers:l},r!=null&&r.duplex?{duplex:r.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(Ee(a))return{data:null,error:a};throw a}})}upload(t,n,s){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,i){return Ge(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),r=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${r}`);l.searchParams.set("token",n);try{let o;const u=Object.assign({upsert:Lm.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.append("cacheControl",u.cacheControl)):(o=s,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:o,headers:c}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(Ee(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,n){return Ge(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield mn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),r=new URL(this.url+a.url),l=r.searchParams.get("token");if(!l)throw new oh("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:l},error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}})}update(t,n,s){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return Ge(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ee(i))return{data:null,error:i};throw i}})}copy(t,n,s){return Ge(this,void 0,void 0,function*(){try{return{data:{path:(yield mn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ee(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,s){return Ge(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield mn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const r=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${r}`)},{data:a,error:null}}catch(i){if(Ee(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,s){return Ge(this,void 0,void 0,function*(){try{const i=yield mn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${a}`):null})),error:null}}catch(i){if(Ee(i))return{data:null,error:i};throw i}})}download(t,n){return Ge(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),r=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ll(this.fetch,`${this.url}/${i}/${l}${r}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ee(l))return{data:null,error:l};throw l}})}info(t){return Ge(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield Ll(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Dc(s),error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}})}exists(t){return Ge(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield y1(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Ee(s)&&s instanceof Rc){const i=s.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});o!==""&&i.push(o);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${u}`)}}}remove(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield V0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}list(t,n,s){return Ge(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},v1),n),{prefix:t||""});return{data:yield mn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(Ee(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const _1="2.7.1",S1={"X-Client-Info":`storage-js/${_1}`};var As=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(c){try{u(s.next(c))}catch(f){r(f)}}function o(c){try{u(s.throw(c))}catch(f){r(f)}}function u(c){c.done?a(c.value):i(c.value).then(l,o)}u((s=s.apply(e,t||[])).next())})};class x1{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},S1),n),this.fetch=U0(s)}listBuckets(){return As(this,void 0,void 0,function*(){try{return{data:yield Ll(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ee(t))return{data:null,error:t};throw t}})}getBucket(t){return As(this,void 0,void 0,function*(){try{return{data:yield Ll(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return As(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return As(this,void 0,void 0,function*(){try{return{data:yield g1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Ee(s))return{data:null,error:s};throw s}})}emptyBucket(t){return As(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}deleteBucket(t){return As(this,void 0,void 0,function*(){try{return{data:yield V0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ee(n))return{data:null,error:n};throw n}})}}class w1 extends x1{constructor(t,n={},s){super(t,n,s)}from(t){return new b1(this.url,this.headers,t,this.fetch)}}const T1="2.52.0";let ta="";typeof Deno<"u"?ta="deno":typeof document<"u"?ta="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ta="react-native":ta="node";const E1={"X-Client-Info":`supabase-js-${ta}/${T1}`},j1={headers:E1},A1={schema:"public"},O1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},C1={};var R1=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(c){try{u(s.next(c))}catch(f){r(f)}}function o(c){try{u(s.throw(c))}catch(f){r(f)}}function u(c){c.done?a(c.value):i(c.value).then(l,o)}u((s=s.apply(e,t||[])).next())})};const D1=e=>{let t;return e?t=e:typeof fetch>"u"?t=_0:t=fetch,(...n)=>t(...n)},N1=()=>typeof Headers>"u"?S0:Headers,M1=(e,t,n)=>{const s=D1(n),i=N1();return(a,r)=>R1(void 0,void 0,void 0,function*(){var l;const o=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(r==null?void 0:r.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),s(a,Object.assign(Object.assign({},r),{headers:u}))})};var k1=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(c){try{u(s.next(c))}catch(f){r(f)}}function o(c){try{u(s.throw(c))}catch(f){r(f)}}function u(c){c.done?a(c.value):i(c.value).then(l,o)}u((s=s.apply(e,t||[])).next())})};function U1(e){return e.endsWith("/")?e:e+"/"}function V1(e,t){var n,s;const{db:i,auth:a,realtime:r,global:l}=e,{db:o,auth:u,realtime:c,global:f}=t,h={db:Object.assign(Object.assign({},o),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},c),r),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>k1(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const L0="2.71.1",Vs=30*1e3,Nc=3,fu=Nc*Vs,L1="http://localhost:9999",B1="supabase.auth.token",P1={"X-Client-Info":`gotrue-js/${L0}`},Mc="X-Supabase-Api-Version",B0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},z1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,H1=10*60*1e3;class uh extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function L(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class q1 extends uh{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function $1(e){return L(e)&&e.name==="AuthApiError"}class P0 extends uh{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class qn extends uh{constructor(t,n,s,i){super(t,s,i),this.name=n,this.status=s}}class cn extends qn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function G1(e){return L(e)&&e.name==="AuthSessionMissingError"}class Vr extends qn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Lr extends qn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Br extends qn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Y1(e){return L(e)&&e.name==="AuthImplicitGrantRedirectError"}class Bm extends qn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kc extends qn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function hu(e){return L(e)&&e.name==="AuthRetryableFetchError"}class Pm extends qn{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Uc extends qn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zm=` 	
\r=`.split(""),X1=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<zm.length;t+=1)e[zm[t].charCodeAt(0)]=-2;for(let t=0;t<Bl.length;t+=1)e[Bl[t].charCodeAt(0)]=t;return e})();function Hm(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Bl[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Bl[s]),t.queuedBits-=6}}function z0(e,t,n){const s=X1[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function qm(e){const t=[],n=r=>{t.push(String.fromCodePoint(r))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=r=>{Z1(r,s,n)};for(let r=0;r<e.length;r+=1)z0(e.charCodeAt(r),i,a);return t.join("")}function K1(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Q1(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}K1(s,t)}}function Z1(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function F1(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)z0(e.charCodeAt(i),n,s);return new Uint8Array(t)}function J1(e){const t=[];return Q1(e,n=>t.push(n)),new Uint8Array(t)}function I1(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};return e.forEach(i=>Hm(i,n,s)),Hm(null,n,s),t.join("")}function W1(e){return Math.round(Date.now()/1e3)+e}function eE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const xt=()=>typeof window<"u"&&typeof document<"u",Qn={tested:!1,writable:!1},H0=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qn.tested)return Qn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Qn.tested=!0,Qn.writable=!0}catch{Qn.tested=!0,Qn.writable=!1}return Qn.writable};function tE(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((s,i)=>{t[i]=s}),t}const q0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>dr(async()=>{const{default:s}=await Promise.resolve().then(()=>Ni);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},nE=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ls=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Zn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},on=async(e,t)=>{await e.removeItem(t)};class vo{constructor(){this.promise=new vo.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}vo.promiseConstructor=Promise;function du(e){const t=e.split(".");if(t.length!==3)throw new Uc("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!z1.test(t[s]))throw new Uc("JWT not in base64url format");return{header:JSON.parse(qm(t[0])),payload:JSON.parse(qm(t[1])),signature:F1(t[2]),raw:{header:t[0],payload:t[1]}}}async function sE(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function iE(e,t){return new Promise((s,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const r=await e(a);if(!t(a,null,r)){s(r);return}}catch(r){if(!t(a,r)){i(r);return}}})()})}function aE(e){return("0"+e.toString(16)).substr(-2)}function rE(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,aE).join("")}async function lE(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function oE(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await lE(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Os(e,t,n=!1){const s=rE();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await Ls(e,`${t}-code-verifier`,i);const a=await oE(s);return[a,s===a?"plain":"s256"]}const uE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cE(e){const t=e.headers.get(Mc);if(!t||!t.match(uE))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function fE(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function hE(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const dE=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cs(e){if(!dE.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mu(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $m(e){return JSON.parse(JSON.stringify(e))}var mE=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};const es=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pE=[502,503,504];async function Gm(e){var t;if(!nE(e))throw new kc(es(e),0);if(pE.includes(e.status))throw new kc(es(e),e.status);let n;try{n=await e.json()}catch(a){throw new P0(es(a),a)}let s;const i=cE(e);if(i&&i.getTime()>=B0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Pm(es(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new cn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,r)=>a&&typeof r=="string",!0))throw new Pm(es(n),e.status,n.weak_password.reasons);throw new q1(es(n),e.status||500,s)}const gE=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function H(e,t,n,s){var i;const a=Object.assign({},s==null?void 0:s.headers);a[Mc]||(a[Mc]=B0["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const r=(i=s==null?void 0:s.query)!==null&&i!==void 0?i:{};s!=null&&s.redirectTo&&(r.redirect_to=s.redirectTo);const l=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",o=await yE(e,t,n+l,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(o):{data:Object.assign({},o),error:null}}async function yE(e,t,n,s,i,a){const r=gE(t,s,i,a);let l;try{l=await e(n,Object.assign({},r))}catch(o){throw console.error(o),new kc(es(o),0)}if(l.ok||await Gm(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(o){await Gm(o)}}function qt(e){var t;let n=null;SE(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=W1(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function Ym(e){const t=qt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function _n(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function vE(e){return{data:e,error:null}}function bE(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a}=e,r=mE(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a},o=Object.assign({},r);return{data:{properties:l,user:o},error:null}}function _E(e){return e}function SE(e){return e.access_token&&e.refresh_token&&e.expires_in}const pu=["global","local","others"];var xE=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};class wE{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=q0(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=pu[0]){if(pu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pu.join(", ")}`);try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:_n})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=xE(t,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s==null?void 0:s.newEmail,delete i.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:bE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(L(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_n})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,i,a,r,l,o;try{const u={nextPage:null,lastPage:0,total:0},c=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:_E});if(c.error)throw c.error;const f=await c.json(),h=(r=c.headers.get("x-total-count"))!==null&&r!==void 0?r:0,d=(o=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return d.length>0&&(d.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=_}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(L(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Cs(t);try{return await H(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_n})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Cs(t);try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:_n})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Cs(t);try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:_n})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Cs(t.userId);try{const{data:n,error:s}=await H(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Cs(t.userId),Cs(t.id);try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}}function Xm(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function TE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Rs={debug:!!(globalThis&&H0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class EE extends $0{}async function jE(e,t,n){Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new EE(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rs.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}TE();const AE={url:L1,storageKey:B1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:P1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Km(e,t,n){return await n()}const Ds={};class Ha{constructor(t){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ha.nextInstanceID,Ha.nextInstanceID+=1,this.instanceID>0&&xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},AE),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new wE({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=q0(i.fetch),this.lock=i.lock||Km,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:xt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=jE:this.lock=Km,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:H0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xm(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Xm(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Ds[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ds[this.storageKey]=Object.assign(Object.assign({},Ds[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ds[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ds[this.storageKey]=Object.assign(Object.assign({},Ds[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${L0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=tE(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),xt()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Y1(a)){const o=(t=a.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:r,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",r,"redirect type",l),await this._saveSession(r),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return L(n)?{error:n}:{error:new P0("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,i;try{const a=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:qt}),{data:r,error:l}=a;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,s,i;try{let a;if("email"in t){const{email:c,password:f,options:h}=t;let d=null,v=null;this.flowType==="pkce"&&([d,v]=await Os(this.storage,this.storageKey)),a=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:d,code_challenge_method:v},xform:qt})}else if("phone"in t){const{phone:c,password:f,options:h}=t;a=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:qt})}else throw new Lr("You must provide either an email or phone number and a password");const{data:r,error:l}=a;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,u=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:r,options:l}=t;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ym})}else if("phone"in t){const{phone:a,password:r,options:l}=t;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ym})}else throw new Lr("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Vr}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,s,i,a,r,l,o,u,c,f,h,d;let v,_;if("message"in t)v=t.message,_=t.signature;else{const{chain:x,wallet:p,statement:g,options:y}=t;let b;if(xt())if(typeof p=="object")b=p;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))b=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=p}const w=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const E=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),g?{statement:g}:null));let S;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")S=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)S=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)v=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),_=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${w.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(s=y==null?void 0:y.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((r=y==null?void 0:y.signInWithSolana)===null||r===void 0)&&r.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(c=y==null?void 0:y.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const E=await b.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=E}}try{const{data:x,error:p}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:I1(_)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:qt});if(p)throw p;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Vr}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:p})}catch(x){if(L(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const n=await Zn(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:a,error:r}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:qt});if(await on(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Vr}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:r})}catch(a){if(L(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:s,token:i,access_token:a,nonce:r}=t,l=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:a,nonce:r,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:qt}),{data:o,error:u}=l;return u?{data:{user:null,session:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Vr}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:u})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,i,a,r;try{if("email"in t){const{email:l,options:o}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Os(this.storage,this.storageKey));const{error:f}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=o==null?void 0:o.data)!==null&&n!==void 0?n:{},create_user:(s=o==null?void 0:o.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:o}=t,{data:u,error:c}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=o==null?void 0:o.data)!==null&&i!==void 0?i:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(r=o==null?void 0:o.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Lr("You must provide either an email or phone number.")}catch(l){if(L(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,s;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:r,error:l}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:qt});if(l)throw l;if(!r)throw new Error("An error occurred on token verification.");const o=r.session,u=r.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,s,i;try{let a=null,r=null;return this.flowType==="pkce"&&([a,r]=await Os(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:r}),headers:this.headers,xform:vE})}catch(a){if(L(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new cn;const{error:i}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(L(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:a}=t,{error:r}=await H(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in t){const{phone:s,type:i,options:a}=t,{data:r,error:l}=await H(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:l}}throw new Lr("You must provide either an email or phone number and a type")}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Zn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<fu:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const r=await Zn(this.userStorage,this.storageKey+"-user");r!=null&&r.user?t.user=r.user:t.user=mu()}if(this.storage.isServer&&t.user){let r=this.suppressGetSessionWarning;t=new Proxy(t,{get:(o,u,c)=>(!r&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r=!0,this.suppressGetSessionWarning=!0),Reflect.get(o,u,c))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_n}):await this._useSession(async n=>{var s,i,a;const{data:r,error:l}=n;if(l)throw l;return!(!((s=r.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new cn}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:_n})})}catch(n){if(L(n))return G1(n)&&(await this._removeSession(),await on(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:i,error:a}=s;if(a)throw a;if(!i.session)throw new cn;const r=i.session;let l=null,o=null;this.flowType==="pkce"&&t.email!=null&&([l,o]=await Os(this.storage,this.storageKey));const{data:u,error:c}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:o}),jwt:r.access_token,xform:_n});if(c)throw c;return r.user=u.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(s){if(L(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new cn;const n=Date.now()/1e3;let s=n,i=!0,a=null;const{payload:r}=du(t.access_token);if(r.exp&&(s=r.exp,i=s<=n),i){const{session:l,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:o}=await this._getUser(t.access_token);if(o)throw o;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(L(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:r,error:l}=n;if(l)throw l;t=(s=r.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new cn;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!xt())throw new Br("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Br(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Bm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Br("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Bm("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:a,refresh_token:r,expires_in:l,expires_at:o,token_type:u}=t;if(!a||!l||!r||!u)throw new Br("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(l);let h=c+f;o&&(h=parseInt(o));const d=h-c;d*1e3<=Vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${f}s`);const v=h-f;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:_,error:x}=await this._getUser(a);if(x)throw x;const p={provider_token:s,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:r,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(s){if(L(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Zn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{error:a};const r=(s=i.session)===null||s===void 0?void 0:s.access_token;if(r){const{error:l}=await this.admin.signOut(r,t);if(l&&!($1(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await on(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=eE(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,i;try{const{data:{session:a},error:r}=n;if(r)throw r;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Os(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(L(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:i}=await this._useSession(async a=>{var r,l,o,u,c;const{data:f,error:h}=a;if(h)throw h;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",d,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return xt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(L(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:r}=n;if(r)throw r;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await iE(async i=>(i>0&&await sE(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:qt})),(i,a)=>{const r=200*Math.pow(2,i);return a&&hu(a)&&Date.now()+r-s<Vs})}catch(s){if(this._debug(n,"error",s),L(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),xt()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await Zn(this.storage,this.storageKey);if(i&&this.userStorage){let r=await Zn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!r&&(r={user:i.user},await Ls(this.userStorage,this.storageKey+"-user",r)),i.user=(t=r==null?void 0:r.user)!==null&&t!==void 0?t:mu()}else if(i&&!i.user&&!i.user){const r=await Zn(this.storage,this.storageKey+"-user");r&&(r!=null&&r.user)?(i.user=r.user,await on(this.storage,this.storageKey+"-user"),await Ls(this.storage,this.storageKey,i)):i.user=mu()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<fu;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${fu}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:r}=await this._callRefreshToken(i.refresh_token);r&&(console.error(r),hu(r)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:r,error:l}=await this._getUser(i.access_token);!l&&(r!=null&&r.user)?(i.user=r.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(s,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new cn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new vo;const{data:a,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!a.session)throw new cn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),L(a)){const r={session:null,error:a};return hu(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(r),r}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],r=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(o){a.push(o)}});if(await Promise.all(r),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Ls(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=$m(i);await Ls(this.storage,this.storageKey,a)}else{const i=$m(n);await Ls(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await on(this.storage,this.storageKey),await on(this.storage,this.storageKey+"-code-verifier"),await on(this.storage,this.storageKey+"-user"),this.userStorage&&await on(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Vs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/Vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Vs}ms, refresh threshold is ${Nc} ticks`),i<=Nc&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof $0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,r]=await Os(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(r)}`});i.push(l.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);i.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await H(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:r}=n;if(r)return{data:null,error:r};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:o,error:u}=await H(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=o==null?void 0:o.totp)===null||i===void 0)&&i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:r,error:l}=await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+r.expires_in},r)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",r),{data:r,error:l})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],i=s.filter(r=>r.factor_type==="totp"&&r.status==="verified"),a=s.filter(r=>r.factor_type==="phone"&&r.status==="verified");return{data:{all:s,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:r}=du(i.access_token);let l=null;r.aal&&(l=r.aal);let o=l;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(o="aal2");const c=r.amr||[];return{data:{currentLevel:l,nextLevel:o,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(l=>l.kid===t);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+H1>i)return s;const{data:a,error:r}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,s=a.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:d,error:v}=await this.getSession();if(v||!d.session)return{data:null,error:v};s=d.session.access_token}const{header:i,payload:a,signature:r,raw:{header:l,payload:o}}=du(s);n!=null&&n.allowExpired||fE(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:d}=await this.getUser(s);if(d)throw d;return{data:{claims:a,header:i,signature:r},error:null}}const c=hE(i.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,r,J1(`${l}.${o}`)))throw new Uc("Invalid JWT signature");return{data:{claims:a,header:i,signature:r},error:null}}catch(s){if(L(s))return{data:null,error:s};throw s}}}Ha.nextInstanceID=0;const OE=Ha;class CE extends OE{constructor(t){super(t)}}var RE=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(c){try{u(s.next(c))}catch(f){r(f)}}function o(c){try{u(s.throw(c))}catch(f){r(f)}}function u(c){c.done?a(c.value):i(c.value).then(l,o)}u((s=s.apply(e,t||[])).next())})};class DE{constructor(t,n,s){var i,a,r;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=U1(t),o=new URL(l);this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:A1,realtime:C1,auth:Object.assign(Object.assign({},O1),{storageKey:u}),global:j1},f=V1(s??{},c);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=f.auth)!==null&&r!==void 0?r:{},this.headers,f.global.fetch),this.fetch=M1(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new ZT(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new ET(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new w1(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return RE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,storageKey:a,flowType:r,lock:l,debug:o},u,c){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new CE({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,flowType:r,lock:l,debug:o,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new c1(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const NE=(e,t,n)=>new DE(e,t,n),ke=NE("https://ssxxaztyibwkcrowyarw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNzeHhhenR5aWJ3a2Nyb3d5YXJ3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMxNzE1MjYsImV4cCI6MjA2ODc0NzUyNn0.5wfjQfBzyQyxQT2X-03uzjsz54xN79mbShjdiQFfiXY");function ME(){const[e,t]=T.useState(""),[n,s]=T.useState(""),[i,a]=T.useState(!1),[r,l]=T.useState(""),o=co(),u=async f=>{f.preventDefault(),a(!0),l("");const{data:h,error:d}=await ke.auth.signInWithPassword({email:e,password:n});d?l(d.message):h.user&&o("/dashboard"),a(!1)},c=async()=>{a(!0),l("");const{error:f}=await ke.auth.signUp({email:e,password:n});l(f?f.message:"Check your email for confirmation link"),a(!1)};return m.jsx("div",{className:"login-container",children:m.jsxs("div",{className:"login-card",children:[m.jsx("h1",{className:"login-title",children:"Login"}),m.jsxs("form",{onSubmit:u,className:"login-form",children:[m.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:f=>t(f.target.value),className:"form-input",required:!0}),m.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:f=>s(f.target.value),className:"form-input",required:!0}),m.jsx("button",{type:"submit",disabled:i,className:"login-button",children:i?"Loading...":"Sign In"})]}),m.jsx("button",{onClick:c,disabled:i,className:"signup-button",children:"Create Account"}),r&&m.jsx("div",{className:"login-error",children:r})]})})}class Vc{static getCompletedPhases(t){let n=0;return t!=null&&t.scenes&&typeof t.scenes=="object"&&Object.keys(t.scenes).length>0&&n++,n}static getPhaseProgress(t){const n=this.getCompletedPhases(t);let s=null;return n===0?s="script_interpretation":n===1?s="element_images":n===2?s="scene_generation":n===3?s="scene_videos":n===4&&(s="final_assembly"),{completed_phases:n,total_phases:5,current_phase:s}}static isPhaseCompleted(t,n){return this.getCompletedPhases(t)>=n}static canPhaseProceeed(t,n){return n===1?!0:n===2||n===3?this.isPhaseCompleted(t,1):n===4?this.isPhaseCompleted(t,3):n===5?this.isPhaseCompleted(t,4):!1}}const Qm={scenes:{},elements:{},project_metadata:{title:"New Project",client:"Client Name",schema_version:"3.0",production_workflow:"animatic_to_video_scalable"}};async function kE(e){try{const{error:t}=await ke.from("projects").delete().eq("id",e);return t?(console.error("Error deleting project:",t),!1):!0}catch(t){return console.error("Error in deleteProject:",t),!1}}async function UE(e,t){try{const n={...Qm,project_metadata:{...Qm.project_metadata,title:e}},{data:s,error:i}=await ke.from("projects").insert({name:e,user_id:t,status:"active",master_json:n,current_version:0}).select().single();if(i||!s)return console.error("Error creating project:",i),null;const{data:a,error:r}=await ke.from("project_phases").select("*").eq("project_id",s.id).order("phase_index");return r||!a?(console.error("Error fetching phases:",r),{project:s,phases:[]}):{project:s,phases:a}}catch(n){return console.error("Error in createProject:",n),null}}async function VE(e){try{const{data:t,error:n}=await ke.from("projects").select("master_json").eq("id",e).single();return n||!t?(console.error("Error fetching master JSON:",n),null):t.master_json}catch(t){return console.error("Error in getMasterJSON:",t),null}}async function LE(e,t,n="Master JSON updated"){try{const{data:s,error:i}=await ke.from("projects").select("current_version").eq("id",e).single();if(i||!s)return console.error("Error fetching project for version:",i),!1;const a=s.current_version+1,{error:r}=await ke.from("projects").update({master_json:t,current_version:a,updated_at:new Date().toISOString()}).eq("id",e);return r?(console.error("Error updating master JSON:",r),!1):!0}catch(s){return console.error("Error in saveMasterJSONFromObject:",s),!1}}async function BE(e){try{const{data:t,error:n}=await ke.from("project_versions").select("*").eq("project_id",e).order("version_number",{ascending:!1});return n||!t?(console.error("Error fetching project versions:",n),[]):t}catch(t){return console.error("Error in getProjectVersions:",t),[]}}async function PE(e,t){try{const{data:n,error:s}=await ke.from("project_versions").select("*").eq("project_id",e).eq("version_number",t).single();return s||!n?(console.error("Error fetching project version:",s),null):n}catch(n){return console.error("Error in getProjectVersion:",n),null}}async function zE(e){try{const{data:t,error:n}=await ke.from("projects").select(`
        id,
        name,
        status,
        created_at,
        master_json,
        project_phases(
          phase_index,
          status,
          phase_name,
          can_proceed,
          completed_at
        )
      `).eq("user_id",e).order("created_at",{ascending:!1});return n||!t?(console.error("Error fetching projects:",n),[]):t.map(s=>{const i=Vc.getPhaseProgress(s.master_json);return{id:s.id,name:s.name,status:s.status,created_at:s.created_at,phase_progress:i}})}catch(t){return console.error("Error in getUserProjects:",t),[]}}async function Zm(e){try{const{data:t,error:n}=await ke.from("projects").select("*").eq("id",e).single();return n||!t?(console.error("Error fetching project:",n),null):t}catch(t){return console.error("Error in getProject:",t),null}}async function Fm(e){try{const[t,n]=await Promise.all([ke.from("project_phases").select("*").eq("project_id",e).order("phase_index",{ascending:!0}),ke.from("projects").select("master_json").eq("id",e).single()]);if(t.error||!t.data)return console.error("Error fetching phases:",t.error),[];if(n.error||!n.data)return console.error("Error fetching project:",n.error),t.data.map(r=>({...r,can_proceed:r.phase_index===1}));const s=t.data,i=n.data.master_json;return s.map(r=>{let l=!1;return r.phase_index===1?l=!0:(r.phase_index===2||r.phase_index===3)&&(l=i&&i.scenes&&Object.keys(i.scenes).length>0),{...r,can_proceed:l}})}catch(t){return console.error("Error in getProjectPhases:",t),[]}}function HE({user:e}){const t=co(),[n,s]=T.useState([]),[i,a]=T.useState(!0),[r,l]=T.useState(!1),[o,u]=T.useState(!1),[c,f]=T.useState(""),[h,d]=T.useState(null),[v,_]=T.useState(!1);T.useEffect(()=>{x()},[e]);const x=async()=>{if(!e)return;a(!0);const S=await zE(e.id);s(S),a(!1)},p=async()=>{await ke.auth.signOut(),t("/login")},g=async()=>{if(!c.trim()||!e||o)return;u(!0),await UE(c.trim(),e.id)?(l(!1),f(""),await x()):alert("Error creating project. Please try again."),u(!1)},y=S=>{t(`/project/${S}`)},b=async S=>{if(!S||v)return;_(!0),await kE(S)?(d(null),await x()):alert("Error deleting project. Please try again."),_(!1)},w=S=>new Date(S).toLocaleDateString(),E=S=>{switch(S){case"active":return"#00cc00";case"completed":return"#0066cc";case"archived":return"#666";default:return"#ccc"}};return m.jsx("div",{className:"min-h-screen bg-primary p-2xl",children:m.jsxs("div",{className:"dashboard-container",children:[m.jsxs("div",{className:"flex justify-between items-center mb-2xl",children:[m.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Projects"}),m.jsxs("div",{className:"flex gap-xl items-center",children:[m.jsx("button",{onClick:()=>l(!0),className:"btn btn-primary",children:"New Project"}),m.jsx("button",{onClick:p,className:"btn btn-logout",children:"Logout"})]})]}),i?m.jsx("div",{className:"text-center text-secondary p-2xl",children:"Loading projects..."}):n.length===0?m.jsxs("div",{className:"bg-secondary p-4xl rounded-lg text-center",children:[m.jsx("h2",{className:"text-primary mb-xl",children:"No projects yet"}),m.jsx("p",{className:"text-secondary mb-2xl",children:"Create your first FLOW.STUDIO project to get started with AI-powered animatic generation"}),m.jsx("button",{onClick:()=>l(!0),className:"btn btn-primary",children:"Create Your First Project"})]}):m.jsx("div",{className:"grid grid-auto-fit gap-2xl",children:n.map(S=>m.jsxs("div",{onClick:()=>y(S.id),className:"project-card cursor-pointer",children:[m.jsxs("div",{className:"flex justify-between items-start mb-xl",children:[m.jsx("h3",{className:"text-primary text-xl flex-1 mb-0",children:S.name}),m.jsxs("div",{className:"flex items-center gap-md",children:[m.jsx("button",{onClick:j=>{j.stopPropagation(),d(S.id)},className:"btn-delete",children:"🗑️"}),m.jsx("span",{className:"status-badge",style:{background:E(S.status)},children:S.status})]})]}),m.jsxs("div",{className:"project-progress",children:[m.jsxs("div",{className:"flex justify-between text-secondary text-sm mb-sm",children:[m.jsx("span",{children:"Progress"}),m.jsxs("span",{children:[S.phase_progress.completed_phases,"/5 phases"]})]}),m.jsx("div",{className:"progress-bar",children:m.jsx("div",{className:"progress-fill",style:{width:`${S.phase_progress.completed_phases/5*100}%`}})})]}),m.jsxs("div",{className:"project-info",children:[m.jsxs("span",{children:["Created ",w(S.created_at)]}),S.phase_progress.current_phase&&m.jsxs("span",{className:"current-phase",children:["Active: ",S.phase_progress.current_phase.replace("_"," ")]})]})]},S.id))}),r&&m.jsx("div",{className:"modal-overlay",children:m.jsxs("div",{className:"modal-content modal-width-400",children:[m.jsx("h2",{className:"modal-header",children:"Create New Project"}),m.jsxs("div",{className:"mb-xl",children:[m.jsx("label",{className:"form-label",children:"Project Name"}),m.jsx("input",{type:"text",value:c,onChange:S=>f(S.target.value),placeholder:"e.g. UN CONSIGLIO STELLARE",className:"form-input",onKeyPress:S=>S.key==="Enter"&&g(),autoFocus:!0})]}),m.jsx("div",{className:"modal-info",children:m.jsx("p",{children:"This will create a new project with 5 phases: Script Interpretation, Element Images, Scene Generation, Scene Videos, and Final Assembly. Based on the Italian campaign template."})}),m.jsxs("div",{className:"modal-actions",children:[m.jsx("button",{onClick:()=>{l(!1),f("")},disabled:o,className:"btn btn-secondary",children:"Cancel"}),m.jsx("button",{onClick:g,disabled:!c.trim()||o,className:"btn btn-primary",children:o?"Creating...":"Create Project"})]})]})}),h&&m.jsx("div",{className:"modal-overlay",children:m.jsxs("div",{className:"modal-content delete-modal modal-width-400",children:[m.jsx("h2",{className:"delete-header",children:"⚠️ Delete Project?"}),m.jsxs("div",{className:"delete-warning",children:[m.jsx("p",{children:"This will permanently delete:"}),m.jsxs("ul",{children:[m.jsx("li",{children:"All project data and phases"}),m.jsx("li",{children:"All generated content and versions"}),m.jsx("li",{children:"All n8n job history"})]}),m.jsx("p",{className:"warning-final",children:"This action cannot be undone!"})]}),m.jsxs("div",{className:"modal-actions",children:[m.jsx("button",{onClick:()=>d(null),disabled:v,className:"btn btn-secondary btn-padding-lg",children:"Cancel"}),m.jsx("button",{onClick:()=>b(h),disabled:v,className:"btn btn-danger btn-padding-lg",children:v?"🗑️ Deleting...":"🗑️ Delete Forever"})]})]})})]})})}const Jm={test:"https://azoriusdrake.app.n8n.cloud/webhook-test/4b4638e1-47de-406f-8ef7-136d49bc9bc1",production:"https://azoriusdrake.app.n8n.cloud/webhook/4b4638e1-47de-406f-8ef7-136d49bc9bc1"};function qE({phase:e,projectId:t,projectName:n,onContentChange:s,jsonContent:i,hasUnsavedChanges:a,isSaving:r,error:l,databaseStatus:o,showVersionHistory:u,versionHistory:c,loadingVersions:f,onJsonChange:h,onSavePhase:d,onLoadPhaseContent:v,onLoadVersionHistory:_,onLoadVersionContent:x,onShowVersionHistory:p,useProduction:g,onUseProductionChange:y}){const[b,w]=T.useState(!1),[E,S]=T.useState(!1);T.useEffect(()=>{v(e.id)},[e.id,v]);const j=async()=>{const O=g?Jm.production:Jm.test,V={phase:"script_interpretation",operation:"generate_all",jobId:crypto.randomUUID(),projectId:t,projectName:n,data:{projectId:t,projectName:n,phase:"script_interpretation",timestamp:new Date().toISOString()}};console.log("Calling webhook:",O),console.log("Payload:",V);const z=await fetch(O,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(V)});if(!z.ok)throw new Error(`Webhook failed: ${z.status} ${z.statusText}`);return z.json()},D=async(O=!1)=>{if(o.version>0&&!O){S(!0);return}w(!0),S(!1);try{const V=await j();console.log("Webhook result:",V);const z=JSON.stringify(V,null,2);h(z)}catch(V){V instanceof Error&&V.message,console.error("Webhook error:",V)}finally{w(!1)}};return m.jsxs("div",{style:{padding:"0.5rem"},children:[m.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[m.jsxs("div",{style:{flex:1},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",fontSize:"0.875rem",color:"#999",marginBottom:"0.375rem"},children:[m.jsxs("span",{children:["Phase 1: ",m.jsx("strong",{style:{color:"#66ccff"},children:"Script Interpretation"})]}),m.jsx("span",{children:"•"}),m.jsxs("span",{children:["Status: ",m.jsx("strong",{className:e.status==="completed"?"script-status-completed":"script-status-progress",children:e.status==="completed"?"Completed":"In Progress"})]}),m.jsx("span",{children:"•"}),m.jsxs("span",{children:["DB v",m.jsx("strong",{className:o.loaded?"script-db-connected":"script-db-error",children:o.loaded?o.version:"?"})]})]}),m.jsx("div",{style:{marginBottom:"0.25rem"},children:m.jsx("p",{style:{color:"#cccccc",fontSize:"0.875rem",margin:0},children:"Generate structured JSON from your storyboard using n8n workflow"})}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",fontSize:"0.875rem"},children:[m.jsx("span",{className:o.error?"text-error":"text-success",children:o.error?m.jsx(m.Fragment,{children:"❌ DB Error"}):o.loaded?m.jsx(m.Fragment,{children:"✅ Connected"}):m.jsx(m.Fragment,{children:"⏳ Loading"})}),l&&m.jsxs("span",{className:"text-error",children:["❌ ",l]}),a&&m.jsx("span",{className:"text-warning",children:"⚠️ Unsaved changes"}),m.jsx("span",{className:g?"text-success":"text-accent",children:g?"🟢 PROD":"🟣 TEST"}),o.loaded&&o.lastSaved&&m.jsxs("span",{className:"text-muted",style:{fontSize:"0.75rem"},children:["Saved: ",new Date(o.lastSaved).toLocaleTimeString()]})]})]}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"0.375rem"},children:[m.jsx("div",{children:m.jsxs("label",{style:{display:"flex",alignItems:"center",fontSize:"0.875rem",color:"#cccccc"},children:[m.jsx("input",{type:"checkbox",checked:g,onChange:O=>y(O.target.checked),style:{marginRight:"0.375rem"}}),"Production Webhook"]})}),m.jsx("div",{style:{display:"flex",gap:"0.375rem"},children:m.jsx("button",{onClick:()=>D(),disabled:b,className:`btn text-xs px-md py-xs ${b?"btn-secondary":"btn-primary"}`,children:b?"⏳ Generating...":"🚀 Generate"})})]})]}),b&&m.jsx("div",{className:"modal-overlay script-modal-loading",children:m.jsxs("div",{className:"modal-content script-modal-narrow",children:[m.jsx("div",{className:"loading-spinner script-loading-icon",children:"⚙️"}),m.jsx("h2",{className:"text-primary text-3xl mb-xl mb-0",children:"Calling n8n Workflow"}),m.jsx("p",{className:"text-secondary text-lg mb-2xl mb-0",children:"Processing your script interpretation request..."}),m.jsxs("div",{className:"bg-tertiary border border-focus p-xl rounded-md mb-xl",children:[m.jsxs("div",{className:"text-accent text-base mb-md",children:["🔗 Endpoint: ",g?"Production":"Test"," Webhook"]}),m.jsxs("div",{className:"text-secondary text-sm",children:["📊 Phase: Script Interpretation • 🎬 Project: ",n]})]}),m.jsx("div",{className:"text-muted text-xs text-italic",children:"This may take a few moments..."})]})}),E&&m.jsx("div",{className:"modal-overlay",children:m.jsxs("div",{className:"modal-content modal-width-500",children:[m.jsx("h2",{className:"text-primary text-2xl mb-xl flex items-center gap-md mb-0",children:"⚠️ Regenerate Content?"}),m.jsxs("div",{className:"bg-accent border border-light p-xl rounded-md mb-2xl",children:[m.jsxs("p",{className:"text-secondary mb-md mb-0",children:["You already have content saved (Version ",o.version,"). Regenerating will create new content that you'll need to save as a new version."]}),m.jsx("p",{className:"text-sm version-warning-text mb-0",children:"Current content will be preserved until you save the new version."})]}),m.jsx("div",{className:"db-status db-status-success mb-2xl",children:m.jsx("p",{className:"text-sm mb-0",children:"✨ This will preserve version history and allow you to compare results."})}),m.jsxs("div",{className:"flex gap-xl justify-end",children:[m.jsx("button",{onClick:()=>S(!1),className:"btn btn-secondary",children:"Cancel"}),m.jsx("button",{onClick:()=>D(!0),className:"btn script-regenerate-button",children:"🔄 Regenerate New Version"})]})]})}),u&&m.jsx("div",{className:"modal-overlay",children:m.jsxs("div",{className:"modal-content flex flex-col modal-version-history",children:[m.jsxs("div",{className:"flex justify-between items-center mb-2xl",children:[m.jsx("h2",{className:"text-primary text-2xl mb-0",children:"📋 Version History"}),m.jsx("button",{onClick:()=>p(!1),className:"bg-transparent text-secondary border-none text-2xl cursor-pointer",children:"×"})]}),m.jsx("div",{className:"flex-1 overflow-y-auto",children:f?m.jsx("div",{className:"text-center text-secondary p-2xl",children:"Loading versions..."}):c.length===0?m.jsx("div",{className:"text-center text-secondary p-2xl",children:"No version history available"}):m.jsx("div",{className:"flex flex-col gap-md",children:c.map(O=>m.jsxs("div",{className:`version-item ${O.version_number===o.version?"current":""}`,onClick:()=>x(O.version_number),children:[m.jsxs("div",{className:"version-header",children:[m.jsxs("span",{className:"version-title",children:["Version ",O.version_number,O.version_number===o.version&&m.jsx("span",{className:"version-current-badge",children:"(Current)"})]}),m.jsx("span",{className:"version-date",children:new Date(O.created_at).toLocaleString()})]}),m.jsx("div",{className:"version-description",children:O.change_description||"No description"})]},O.id))})}),m.jsx("div",{className:"version-tip",children:"💡 Click any version to load it into the editor. Remember to save after loading different content."})]})})]})}function $E({activeView:e,onViewChange:t,masterJSON:n}){const s=[{id:"json",label:"JSON",icon:"{ }",description:"Raw data view"},{id:"timeline",label:"Timeline",icon:"📊",description:"Visual timeline interface"},{id:"elements",label:"Elements",icon:"🎭",description:"Element management (Phase 2+)"},{id:"style",label:"Style",icon:"🎨",description:"Global style control"}],i=(n==null?void 0:n.scenes)&&typeof n.scenes=="object"&&Object.keys(n.scenes).length>0,a=l=>l==="json"||l==="timeline"?!0:l==="style"?i:l!=="elements",r=l=>{var o;return l==="elements"?"Available in Phase 2+":l==="style"&&!i?"Complete Phase 1 JSON generation first":((o=s.find(u=>u.id===l))==null?void 0:o.description)||""};return m.jsx("div",{className:"project-view-navigation",children:m.jsx("div",{className:"flex gap-md p-md",children:s.map(l=>{const o=a(l.id);return m.jsxs("button",{onClick:()=>o&&t(l.id),className:`
                flex-1 flex items-center justify-center transition-fast cursor-pointer
                border border-solid rounded-lg font-semibold
                ${e===l.id?"bg-accent border-focus text-primary shadow-md":"bg-secondary border-default text-secondary hover:text-primary hover:bg-accent hover:border-light"}
                ${o?"":"opacity-50 cursor-not-allowed"}
              `,style:{padding:"1rem 1.5rem",fontSize:"1rem",minHeight:"3rem"},disabled:!o,title:r(l.id),children:[m.jsx("span",{className:"font-semibold",children:l.label}),(l.id==="elements"||l.id==="style")&&m.jsx("span",{className:"text-xs text-muted",children:l.id==="elements"?"(Phase 2+)":"(Soon)"})]},l.id)})})})}const ch=T.createContext({});function fh(e){const t=T.useRef(null);return t.current===null&&(t.current=e()),t.current}const hh=typeof window<"u",G0=hh?T.useLayoutEffect:T.useEffect,bo=T.createContext(null);function dh(e,t){e.indexOf(t)===-1&&e.push(t)}function mh(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const nn=(e,t,n)=>n>t?t:n<e?e:n;let ph=()=>{};const sn={},Y0=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function X0(e){return typeof e=="object"&&e!==null}const K0=e=>/^0[^.\s]+$/u.test(e);function gh(e){let t;return()=>(t===void 0&&(t=e()),t)}const vt=e=>e,GE=(e,t)=>n=>t(e(n)),gr=(...e)=>e.reduce(GE),qa=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class yh{constructor(){this.subscriptions=[]}add(t){return dh(this.subscriptions,t),()=>mh(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let a=0;a<i;a++){const r=this.subscriptions[a];r&&r(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kt=e=>e*1e3,Ut=e=>e/1e3;function Q0(e,t){return t?e*(1e3/t):0}const Z0=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,YE=1e-7,XE=12;function KE(e,t,n,s,i){let a,r,l=0;do r=t+(n-t)/2,a=Z0(r,s,i)-e,a>0?n=r:t=r;while(Math.abs(a)>YE&&++l<XE);return r}function yr(e,t,n,s){if(e===t&&n===s)return vt;const i=a=>KE(a,0,1,e,n);return a=>a===0||a===1?a:Z0(i(a),t,s)}const F0=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,J0=e=>t=>1-e(1-t),I0=yr(.33,1.53,.69,.99),vh=J0(I0),W0=F0(vh),eb=e=>(e*=2)<1?.5*vh(e):.5*(2-Math.pow(2,-10*(e-1))),bh=e=>1-Math.sin(Math.acos(e)),tb=J0(bh),nb=F0(bh),QE=yr(.42,0,1,1),ZE=yr(0,0,.58,1),sb=yr(.42,0,.58,1),FE=e=>Array.isArray(e)&&typeof e[0]!="number",ib=e=>Array.isArray(e)&&typeof e[0]=="number",JE={linear:vt,easeIn:QE,easeInOut:sb,easeOut:ZE,circIn:bh,circInOut:nb,circOut:tb,backIn:vh,backInOut:W0,backOut:I0,anticipate:eb},IE=e=>typeof e=="string",Im=e=>{if(ib(e)){ph(e.length===4);const[t,n,s,i]=e;return yr(t,n,s,i)}else if(IE(e))return JE[e];return e},Pr=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function WE(e,t){let n=new Set,s=new Set,i=!1,a=!1;const r=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function o(c){r.has(c)&&(u.schedule(c),e()),c(l)}const u={schedule:(c,f=!1,h=!1)=>{const v=h&&i?n:s;return f&&r.add(c),v.has(c)||v.add(c),c},cancel:c=>{s.delete(c),r.delete(c)},process:c=>{if(l=c,i){a=!0;return}i=!0,[n,s]=[s,n],n.forEach(o),n.clear(),i=!1,a&&(a=!1,u.process(c))}};return u}const ej=40;function ab(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,r=Pr.reduce((y,b)=>(y[b]=WE(a),y),{}),{setup:l,read:o,resolveKeyframes:u,preUpdate:c,update:f,preRender:h,render:d,postRender:v}=r,_=()=>{const y=sn.useManualTiming?i.timestamp:performance.now();n=!1,sn.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(y-i.timestamp,ej),1)),i.timestamp=y,i.isProcessing=!0,l.process(i),o.process(i),u.process(i),c.process(i),f.process(i),h.process(i),d.process(i),v.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(_))},x=()=>{n=!0,s=!0,i.isProcessing||e(_)};return{schedule:Pr.reduce((y,b)=>{const w=r[b];return y[b]=(E,S=!1,j=!1)=>(n||x(),w.schedule(E,S,j)),y},{}),cancel:y=>{for(let b=0;b<Pr.length;b++)r[Pr[b]].cancel(y)},state:i,steps:r}}const{schedule:ue,cancel:Ln,state:Re,steps:gu}=ab(typeof requestAnimationFrame<"u"?requestAnimationFrame:vt,!0);let sl;function tj(){sl=void 0}const Ze={now:()=>(sl===void 0&&Ze.set(Re.isProcessing||sn.useManualTiming?Re.timestamp:performance.now()),sl),set:e=>{sl=e,queueMicrotask(tj)}},rb=e=>t=>typeof t=="string"&&t.startsWith(e),_h=rb("--"),nj=rb("var(--"),Sh=e=>nj(e)?sj.test(e.split("/*")[0].trim()):!1,sj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ki={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},$a={...ki,transform:e=>nn(0,1,e)},zr={...ki,default:1},_a=e=>Math.round(e*1e5)/1e5,xh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ij(e){return e==null}const aj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wh=(e,t)=>n=>!!(typeof n=="string"&&aj.test(n)&&n.startsWith(e)||t&&!ij(n)&&Object.prototype.hasOwnProperty.call(n,t)),lb=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,a,r,l]=s.match(xh);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(r),alpha:l!==void 0?parseFloat(l):1}},rj=e=>nn(0,255,e),yu={...ki,transform:e=>Math.round(rj(e))},is={test:wh("rgb","red"),parse:lb("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+yu.transform(e)+", "+yu.transform(t)+", "+yu.transform(n)+", "+_a($a.transform(s))+")"};function lj(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const Lc={test:wh("#"),parse:lj,transform:is.transform},vr=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fn=vr("deg"),Vt=vr("%"),k=vr("px"),oj=vr("vh"),uj=vr("vw"),Wm={...Vt,parse:e=>Vt.parse(e)/100,transform:e=>Vt.transform(e*100)},Fs={test:wh("hsl","hue"),parse:lb("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Vt.transform(_a(t))+", "+Vt.transform(_a(n))+", "+_a($a.transform(s))+")"},ve={test:e=>is.test(e)||Lc.test(e)||Fs.test(e),parse:e=>is.test(e)?is.parse(e):Fs.test(e)?Fs.parse(e):Lc.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?is.transform(e):Fs.transform(e),getAnimatableNone:e=>{const t=ve.parse(e);return t.alpha=0,ve.transform(t)}},cj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fj(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(xh))==null?void 0:t.length)||0)+(((n=e.match(cj))==null?void 0:n.length)||0)>0}const ob="number",ub="color",hj="var",dj="var(",ep="${}",mj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ga(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(mj,o=>(ve.test(o)?(s.color.push(a),i.push(ub),n.push(ve.parse(o))):o.startsWith(dj)?(s.var.push(a),i.push(hj),n.push(o)):(s.number.push(a),i.push(ob),n.push(parseFloat(o))),++a,ep)).split(ep);return{values:n,split:l,indexes:s,types:i}}function cb(e){return Ga(e).values}function fb(e){const{split:t,types:n}=Ga(e),s=t.length;return i=>{let a="";for(let r=0;r<s;r++)if(a+=t[r],i[r]!==void 0){const l=n[r];l===ob?a+=_a(i[r]):l===ub?a+=ve.transform(i[r]):a+=i[r]}return a}}const pj=e=>typeof e=="number"?0:ve.test(e)?ve.getAnimatableNone(e):e;function gj(e){const t=cb(e);return fb(e)(t.map(pj))}const Bn={test:fj,parse:cb,createTransformer:fb,getAnimatableNone:gj};function vu(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function yj({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,a=0,r=0;if(!t)i=a=r=n;else{const l=n<.5?n*(1+t):n+t-n*t,o=2*n-l;i=vu(o,l,e+1/3),a=vu(o,l,e),r=vu(o,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(r*255),alpha:s}}function Pl(e,t){return n=>n>0?t:e}const fe=(e,t,n)=>e+(t-e)*n,bu=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},vj=[Lc,is,Fs],bj=e=>vj.find(t=>t.test(e));function tp(e){const t=bj(e);if(!t)return!1;let n=t.parse(e);return t===Fs&&(n=yj(n)),n}const np=(e,t)=>{const n=tp(e),s=tp(t);if(!n||!s)return Pl(e,t);const i={...n};return a=>(i.red=bu(n.red,s.red,a),i.green=bu(n.green,s.green,a),i.blue=bu(n.blue,s.blue,a),i.alpha=fe(n.alpha,s.alpha,a),is.transform(i))},Bc=new Set(["none","hidden"]);function _j(e,t){return Bc.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Sj(e,t){return n=>fe(e,t,n)}function Th(e){return typeof e=="number"?Sj:typeof e=="string"?Sh(e)?Pl:ve.test(e)?np:Tj:Array.isArray(e)?hb:typeof e=="object"?ve.test(e)?np:xj:Pl}function hb(e,t){const n=[...e],s=n.length,i=e.map((a,r)=>Th(a)(a,t[r]));return a=>{for(let r=0;r<s;r++)n[r]=i[r](a);return n}}function xj(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=Th(e[i])(e[i],t[i]));return i=>{for(const a in s)n[a]=s[a](i);return n}}function wj(e,t){const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],r=e.indexes[a][s[a]],l=e.values[r]??0;n[i]=l,s[a]++}return n}const Tj=(e,t)=>{const n=Bn.createTransformer(t),s=Ga(e),i=Ga(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?Bc.has(e)&&!i.values.length||Bc.has(t)&&!s.values.length?_j(e,t):gr(hb(wj(s,i),i.values),n):Pl(e,t)};function db(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?fe(e,t,n):Th(e)(e,t)}const Ej=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ue.update(t,n),stop:()=>Ln(t),now:()=>Re.isProcessing?Re.timestamp:Ze.now()}},mb=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)s+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},zl=2e4;function Eh(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<zl;)t+=n,s=e.next(t);return t>=zl?1/0:t}function jj(e,t=100,n){const s=n({...e,keyframes:[0,t]}),i=Math.min(Eh(s),zl);return{type:"keyframes",ease:a=>s.next(i*a).value/t,duration:Ut(i)}}const Aj=5;function pb(e,t,n){const s=Math.max(t-Aj,0);return Q0(n-e(s),t-s)}const he={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_u=.001;function Oj({duration:e=he.duration,bounce:t=he.bounce,velocity:n=he.velocity,mass:s=he.mass}){let i,a,r=1-t;r=nn(he.minDamping,he.maxDamping,r),e=nn(he.minDuration,he.maxDuration,Ut(e)),r<1?(i=u=>{const c=u*r,f=c*e,h=c-n,d=Pc(u,r),v=Math.exp(-f);return _u-h/d*v},a=u=>{const f=u*r*e,h=f*n+n,d=Math.pow(r,2)*Math.pow(u,2)*e,v=Math.exp(-f),_=Pc(Math.pow(u,2),r);return(-i(u)+_u>0?-1:1)*((h-d)*v)/_}):(i=u=>{const c=Math.exp(-u*e),f=(u-n)*e+1;return-_u+c*f},a=u=>{const c=Math.exp(-u*e),f=(n-u)*(e*e);return c*f});const l=5/e,o=Rj(i,a,l);if(e=kt(e),isNaN(o))return{stiffness:he.stiffness,damping:he.damping,duration:e};{const u=Math.pow(o,2)*s;return{stiffness:u,damping:r*2*Math.sqrt(s*u),duration:e}}}const Cj=12;function Rj(e,t,n){let s=n;for(let i=1;i<Cj;i++)s=s-e(s)/t(s);return s}function Pc(e,t){return e*Math.sqrt(1-t*t)}const Dj=["duration","bounce"],Nj=["stiffness","damping","mass"];function sp(e,t){return t.some(n=>e[n]!==void 0)}function Mj(e){let t={velocity:he.velocity,stiffness:he.stiffness,damping:he.damping,mass:he.mass,isResolvedFromDuration:!1,...e};if(!sp(e,Nj)&&sp(e,Dj))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,a=2*nn(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:he.mass,stiffness:i,damping:a}}else{const n=Oj(e);t={...t,...n,mass:he.mass},t.isResolvedFromDuration=!0}return t}function Hl(e=he.visualDuration,t=he.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const a=n.keyframes[0],r=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:o,damping:u,mass:c,duration:f,velocity:h,isResolvedFromDuration:d}=Mj({...n,velocity:-Ut(n.velocity||0)}),v=h||0,_=u/(2*Math.sqrt(o*c)),x=r-a,p=Ut(Math.sqrt(o/c)),g=Math.abs(x)<5;s||(s=g?he.restSpeed.granular:he.restSpeed.default),i||(i=g?he.restDelta.granular:he.restDelta.default);let y;if(_<1){const w=Pc(p,_);y=E=>{const S=Math.exp(-_*p*E);return r-S*((v+_*p*x)/w*Math.sin(w*E)+x*Math.cos(w*E))}}else if(_===1)y=w=>r-Math.exp(-p*w)*(x+(v+p*x)*w);else{const w=p*Math.sqrt(_*_-1);y=E=>{const S=Math.exp(-_*p*E),j=Math.min(w*E,300);return r-S*((v+_*p*x)*Math.sinh(j)+w*x*Math.cosh(j))/w}}const b={calculatedDuration:d&&f||null,next:w=>{const E=y(w);if(d)l.done=w>=f;else{let S=w===0?v:0;_<1&&(S=w===0?kt(v):pb(y,w,E));const j=Math.abs(S)<=s,D=Math.abs(r-E)<=i;l.done=j&&D}return l.value=l.done?r:E,l},toString:()=>{const w=Math.min(Eh(b),zl),E=mb(S=>b.next(w*S).value,w,30);return w+"ms "+E},toTransition:()=>{}};return b}Hl.applyToOptions=e=>{const t=jj(e,100,Hl);return e.ease=t.ease,e.duration=kt(t.duration),e.type="keyframes",e};function zc({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:r,min:l,max:o,restDelta:u=.5,restSpeed:c}){const f=e[0],h={done:!1,value:f},d=j=>l!==void 0&&j<l||o!==void 0&&j>o,v=j=>l===void 0?o:o===void 0||Math.abs(l-j)<Math.abs(o-j)?l:o;let _=n*t;const x=f+_,p=r===void 0?x:r(x);p!==x&&(_=p-f);const g=j=>-_*Math.exp(-j/s),y=j=>p+g(j),b=j=>{const D=g(j),O=y(j);h.done=Math.abs(D)<=u,h.value=h.done?p:O};let w,E;const S=j=>{d(h.value)&&(w=j,E=Hl({keyframes:[h.value,v(h.value)],velocity:pb(y,j,h.value),damping:i,stiffness:a,restDelta:u,restSpeed:c}))};return S(0),{calculatedDuration:null,next:j=>{let D=!1;return!E&&w===void 0&&(D=!0,b(j),S(j)),w!==void 0&&j>=w?E.next(j-w):(!D&&b(j),h)}}}function kj(e,t,n){const s=[],i=n||sn.mix||db,a=e.length-1;for(let r=0;r<a;r++){let l=i(e[r],e[r+1]);if(t){const o=Array.isArray(t)?t[r]||vt:t;l=gr(o,l)}s.push(l)}return s}function Uj(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const a=e.length;if(ph(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const r=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=kj(t,s,i),o=l.length,u=c=>{if(r&&c<e[0])return t[0];let f=0;if(o>1)for(;f<e.length-2&&!(c<e[f+1]);f++);const h=qa(e[f],e[f+1],c);return l[f](h)};return n?c=>u(nn(e[0],e[a-1],c)):u}function Vj(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=qa(0,t,s);e.push(fe(n,1,i))}}function Lj(e){const t=[0];return Vj(t,e.length-1),t}function Bj(e,t){return e.map(n=>n*t)}function Pj(e,t){return e.map(()=>t||sb).splice(0,e.length-1)}function Sa({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=FE(s)?s.map(Im):Im(s),a={done:!1,value:t[0]},r=Bj(n&&n.length===t.length?n:Lj(t),e),l=Uj(r,t,{ease:Array.isArray(i)?i:Pj(t,i)});return{calculatedDuration:e,next:o=>(a.value=l(o),a.done=o>=e,a)}}const zj=e=>e!==null;function jh(e,{repeat:t,repeatType:n="loop"},s,i=1){const a=e.filter(zj),l=i<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||s===void 0?a[l]:s}const Hj={decay:zc,inertia:zc,tween:Sa,keyframes:Sa,spring:Hl};function gb(e){typeof e.type=="string"&&(e.type=Hj[e.type])}class Ah{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const qj=e=>e/100;class Oh extends Ah{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Ze.now()&&this.tick(Ze.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;gb(t);const{type:n=Sa,repeat:s=0,repeatDelay:i=0,repeatType:a,velocity:r=0}=t;let{keyframes:l}=t;const o=n||Sa;o!==Sa&&typeof l[0]!="number"&&(this.mixKeyframes=gr(qj,db(l[0],l[1])),l=[0,100]);const u=o({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=o({...t,keyframes:[...l].reverse(),velocity:-r})),u.calculatedDuration===null&&(u.calculatedDuration=Eh(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:i,mixKeyframes:a,mirroredGenerator:r,resolvedDuration:l,calculatedDuration:o}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:c,repeat:f,repeatType:h,repeatDelay:d,type:v,onUpdate:_,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const p=this.currentTime-u*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?p<0:p>i;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let y=this.currentTime,b=s;if(f){const j=Math.min(this.currentTime,i)/l;let D=Math.floor(j),O=j%1;!O&&j>=1&&(O=1),O===1&&D--,D=Math.min(D,f+1),!!(D%2)&&(h==="reverse"?(O=1-O,d&&(O-=d/l)):h==="mirror"&&(b=r)),y=nn(0,1,O)*l}const w=g?{done:!1,value:c[0]}:b.next(y);a&&(w.value=a(w.value));let{done:E}=w;!g&&o!==null&&(E=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return S&&v!==zc&&(w.value=jh(c,this.options,x,this.speed)),_&&_(w.value),S&&this.finish(),w}then(t,n){return this.finished.then(t,n)}get duration(){return Ut(this.calculatedDuration)}get time(){return Ut(this.currentTime)}set time(t){var n;t=kt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ze.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ut(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=Ej,startTime:n}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),(a=(i=this.options).onPlay)==null||a.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ze.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function $j(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const as=e=>e*180/Math.PI,Hc=e=>{const t=as(Math.atan2(e[1],e[0]));return qc(t)},Gj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Hc,rotateZ:Hc,skewX:e=>as(Math.atan(e[1])),skewY:e=>as(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},qc=e=>(e=e%360,e<0&&(e+=360),e),ip=Hc,ap=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),rp=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Yj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ap,scaleY:rp,scale:e=>(ap(e)+rp(e))/2,rotateX:e=>qc(as(Math.atan2(e[6],e[5]))),rotateY:e=>qc(as(Math.atan2(-e[2],e[0]))),rotateZ:ip,rotate:ip,skewX:e=>as(Math.atan(e[4])),skewY:e=>as(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function $c(e){return e.includes("scale")?1:0}function Gc(e,t){if(!e||e==="none")return $c(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=Yj,i=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=Gj,i=l}if(!i)return $c(t);const a=s[t],r=i[1].split(",").map(Kj);return typeof a=="function"?a(r):r[a]}const Xj=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Gc(n,t)};function Kj(e){return parseFloat(e.trim())}const Ui=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vi=new Set(Ui),lp=e=>e===ki||e===k,Qj=new Set(["x","y","z"]),Zj=Ui.filter(e=>!Qj.has(e));function Fj(e){const t=[];return Zj.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const ms={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Gc(t,"x"),y:(e,{transform:t})=>Gc(t,"y")};ms.translateX=ms.x;ms.translateY=ms.y;const ps=new Set;let Yc=!1,Xc=!1,Kc=!1;function yb(){if(Xc){const e=Array.from(ps).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=Fj(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([a,r])=>{var l;(l=s.getValue(a))==null||l.set(r)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Xc=!1,Yc=!1,ps.forEach(e=>e.complete(Kc)),ps.clear()}function vb(){ps.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Xc=!0)})}function Jj(){Kc=!0,vb(),yb(),Kc=!1}class Ch{constructor(t,n,s,i,a,r=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=a,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(ps.add(this),Yc||(Yc=!0,ue.read(vb),ue.resolveKeyframes(yb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),r=t[t.length-1];if(a!==void 0)t[0]=a;else if(s&&n){const l=s.readValue(n,r);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=r),i&&a===void 0&&i.set(t[0])}$j(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ps.delete(this)}cancel(){this.state==="scheduled"&&(ps.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Ij=e=>e.startsWith("--");function Wj(e,t,n){Ij(t)?e.style.setProperty(t,n):e.style[t]=n}const eA=gh(()=>window.ScrollTimeline!==void 0),tA={};function nA(e,t){const n=gh(e);return()=>tA[t]??n()}const bb=nA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),na=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,op={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:na([0,.65,.55,1]),circOut:na([.55,0,1,.45]),backIn:na([.31,.01,.66,-.59]),backOut:na([.33,1.53,.69,.99])};function _b(e,t){if(e)return typeof e=="function"?bb()?mb(e,t):"ease-out":ib(e)?na(e):Array.isArray(e)?e.map(n=>_b(n,t)||op.easeOut):op[e]}function sA(e,t,n,{delay:s=0,duration:i=300,repeat:a=0,repeatType:r="loop",ease:l="easeOut",times:o}={},u=void 0){const c={[t]:n};o&&(c.offset=o);const f=_b(l,i);Array.isArray(f)&&(c.easing=f);const h={delay:s,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:r==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(c,h)}function Sb(e){return typeof e=="function"&&"applyToOptions"in e}function iA({type:e,...t}){return Sb(e)&&bb()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class aA extends Ah{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:i,pseudoElement:a,allowFlatten:r=!1,finalKeyframe:l,onComplete:o}=t;this.isPseudoElement=!!a,this.allowFlatten=r,this.options=t,ph(typeof t.type!="string");const u=iA(t);this.animation=sA(n,s,i,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const c=jh(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(c):Wj(n,s,c),this.animation.cancel()}o==null||o(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Ut(Number(t))}get time(){return Ut(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=kt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&eA()?(this.animation.timeline=t,vt):n(this)}}const xb={anticipate:eb,backInOut:W0,circInOut:nb};function rA(e){return e in xb}function lA(e){typeof e.ease=="string"&&rA(e.ease)&&(e.ease=xb[e.ease])}const up=10;class oA extends aA{constructor(t){lA(t),gb(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:i,element:a,...r}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new Oh({...r,autoplay:!1}),o=kt(this.finishedTime??this.time);n.setWithVelocity(l.sample(o-up).value,l.sample(o).value,up),l.stop()}}const cp=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Bn.test(e)||e==="0")&&!e.startsWith("url("));function uA(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function cA(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],r=cp(i,t),l=cp(a,t);return!r||!l?!1:uA(e)||(n==="spring"||Sb(n))&&s}const fA=new Set(["opacity","clipPath","filter","transform"]),hA=gh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function dA(e){var c;const{motionValue:t,name:n,repeatDelay:s,repeatType:i,damping:a,type:r}=e;if(!(((c=t==null?void 0:t.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:u}=t.owner.getProps();return hA()&&n&&fA.has(n)&&(n!=="transform"||!u)&&!o&&!s&&i!=="mirror"&&a!==0&&r!=="inertia"}const mA=40;class pA extends Ah{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:r="loop",keyframes:l,name:o,motionValue:u,element:c,...f}){var v;super(),this.stop=()=>{var _,x;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Ze.now();const h={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:a,repeatType:r,name:o,motionValue:u,element:c,...f},d=(c==null?void 0:c.KeyframeResolver)||Ch;this.keyframeResolver=new d(l,(_,x,p)=>this.onKeyframesResolved(_,x,h,!p),o,u,c),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,s,i){this.keyframeResolver=void 0;const{name:a,type:r,velocity:l,delay:o,isHandoff:u,onUpdate:c}=s;this.resolvedAt=Ze.now(),cA(t,a,r,l)||((sn.instantAnimations||!o)&&(c==null||c(jh(t,s,n))),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>mA?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},d=!u&&dA(h)?new oA({...h,element:h.motionValue.owner.current}):new Oh(h);d.finished.then(()=>this.notifyFinished()).catch(vt),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Jj()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const gA=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yA(e){const t=gA.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}function wb(e,t,n=1){const[s,i]=yA(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const r=a.trim();return Y0(r)?parseFloat(r):r}return Sh(i)?wb(i,t,n+1):i}function Rh(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Tb=new Set(["width","height","top","left","right","bottom",...Ui]),vA={test:e=>e==="auto",parse:e=>e},Eb=e=>t=>t.test(e),jb=[ki,k,Vt,fn,uj,oj,vA],fp=e=>jb.find(Eb(e));function bA(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||K0(e):!0}const _A=new Set(["brightness","contrast","saturate","opacity"]);function SA(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(xh)||[];if(!s)return e;const i=n.replace(s,"");let a=_A.has(t)?1:0;return s!==n&&(a*=100),t+"("+a+i+")"}const xA=/\b([a-z-]*)\(.*?\)/gu,Qc={...Bn,getAnimatableNone:e=>{const t=e.match(xA);return t?t.map(SA).join(" "):e}},hp={...ki,transform:Math.round},wA={rotate:fn,rotateX:fn,rotateY:fn,rotateZ:fn,scale:zr,scaleX:zr,scaleY:zr,scaleZ:zr,skew:fn,skewX:fn,skewY:fn,distance:k,translateX:k,translateY:k,translateZ:k,x:k,y:k,z:k,perspective:k,transformPerspective:k,opacity:$a,originX:Wm,originY:Wm,originZ:k},Dh={borderWidth:k,borderTopWidth:k,borderRightWidth:k,borderBottomWidth:k,borderLeftWidth:k,borderRadius:k,radius:k,borderTopLeftRadius:k,borderTopRightRadius:k,borderBottomRightRadius:k,borderBottomLeftRadius:k,width:k,maxWidth:k,height:k,maxHeight:k,top:k,right:k,bottom:k,left:k,padding:k,paddingTop:k,paddingRight:k,paddingBottom:k,paddingLeft:k,margin:k,marginTop:k,marginRight:k,marginBottom:k,marginLeft:k,backgroundPositionX:k,backgroundPositionY:k,...wA,zIndex:hp,fillOpacity:$a,strokeOpacity:$a,numOctaves:hp},TA={...Dh,color:ve,backgroundColor:ve,outlineColor:ve,fill:ve,stroke:ve,borderColor:ve,borderTopColor:ve,borderRightColor:ve,borderBottomColor:ve,borderLeftColor:ve,filter:Qc,WebkitFilter:Qc},Ab=e=>TA[e];function Ob(e,t){let n=Ab(e);return n!==Qc&&(n=Bn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const EA=new Set(["auto","none","0"]);function jA(e,t,n){let s=0,i;for(;s<e.length&&!i;){const a=e[s];typeof a=="string"&&!EA.has(a)&&Ga(a).values.length&&(i=e[s]),s++}if(i&&n)for(const a of t)e[a]=Ob(n,i)}class AA extends Ch{constructor(t,n,s,i,a){super(t,n,s,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let o=0;o<t.length;o++){let u=t[o];if(typeof u=="string"&&(u=u.trim(),Sh(u))){const c=wb(u,n.current);c!==void 0&&(t[o]=c),o===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Tb.has(s)||t.length!==2)return;const[i,a]=t,r=fp(i),l=fp(a);if(r!==l)if(lp(r)&&lp(l))for(let o=0;o<t.length;o++){const u=t[o];typeof u=="string"&&(t[o]=parseFloat(u))}else ms[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)(t[i]===null||bA(t[i]))&&s.push(i);s.length&&jA(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ms[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,r=s[a];s[a]=ms[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=r),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([o,u])=>{t.getValue(o).set(u)}),this.resolveNoneKeyframes()}}function OA(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const i=(n==null?void 0:n[e])??s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const Cb=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Rb(e){return X0(e)&&"offsetHeight"in e}const dp=30,CA=e=>!isNaN(parseFloat(e));class RA{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{var r,l;const a=Ze.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty();i&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ze.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=CA(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new yh);const s=this.events[t].add(n);return t==="change"?()=>{s(),ue.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ze.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>dp)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,dp);return Q0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xi(e,t){return new RA(e,t)}const{schedule:Nh}=ab(queueMicrotask,!1),wt={x:!1,y:!1};function Db(){return wt.x||wt.y}function DA(e){return e==="x"||e==="y"?wt[e]?null:(wt[e]=!0,()=>{wt[e]=!1}):wt.x||wt.y?null:(wt.x=wt.y=!0,()=>{wt.x=wt.y=!1})}function Nb(e,t){const n=OA(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function mp(e){return!(e.pointerType==="touch"||Db())}function NA(e,t,n={}){const[s,i,a]=Nb(e,n),r=l=>{if(!mp(l))return;const{target:o}=l,u=t(o,l);if(typeof u!="function"||!o)return;const c=f=>{mp(f)&&(u(f),o.removeEventListener("pointerleave",c))};o.addEventListener("pointerleave",c,i)};return s.forEach(l=>{l.addEventListener("pointerenter",r,i)}),a}const Mb=(e,t)=>t?e===t?!0:Mb(e,t.parentElement):!1,Mh=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,MA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kA(e){return MA.has(e.tagName)||e.tabIndex!==-1}const il=new WeakSet;function pp(e){return t=>{t.key==="Enter"&&e(t)}}function Su(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const UA=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=pp(()=>{if(il.has(n))return;Su(n,"down");const i=pp(()=>{Su(n,"up")}),a=()=>Su(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function gp(e){return Mh(e)&&!Db()}function VA(e,t,n={}){const[s,i,a]=Nb(e,n),r=l=>{const o=l.currentTarget;if(!gp(l))return;il.add(o);const u=t(o,l),c=(d,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),il.has(o)&&il.delete(o),gp(d)&&typeof u=="function"&&u(d,{success:v})},f=d=>{c(d,o===window||o===document||n.useGlobalTarget||Mb(o,d.target))},h=d=>{c(d,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",r,i),Rb(l)&&(l.addEventListener("focus",u=>UA(u,i)),!kA(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function kb(e){return X0(e)&&"ownerSVGElement"in e}function LA(e){return kb(e)&&e.tagName==="svg"}const Be=e=>!!(e&&e.getVelocity),BA=[...jb,ve,Bn],PA=e=>BA.find(Eb(e)),kh=T.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class zA extends T.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=Rb(s)&&s.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function HA({children:e,isPresent:t,anchorX:n,root:s}){const i=T.useId(),a=T.useRef(null),r=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=T.useContext(kh);return T.useInsertionEffect(()=>{const{width:o,height:u,top:c,left:f,right:h}=r.current;if(t||!a.current||!o||!u)return;const d=n==="left"?`left: ${f}`:`right: ${h}`;a.current.dataset.motionPopId=i;const v=document.createElement("style");l&&(v.nonce=l);const _=s??document.head;return _.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${u}px !important;
            ${d}px !important;
            top: ${c}px !important;
          }
        `),()=>{_.contains(v)&&_.removeChild(v)}},[t]),m.jsx(zA,{isPresent:t,childRef:a,sizeRef:r,children:T.cloneElement(e,{ref:a})})}const qA=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:a,mode:r,anchorX:l,root:o})=>{const u=fh($A),c=T.useId();let f=!0,h=T.useMemo(()=>(f=!1,{id:c,initial:t,isPresent:n,custom:i,onExitComplete:d=>{u.set(d,!0);for(const v of u.values())if(!v)return;s&&s()},register:d=>(u.set(d,!1),()=>u.delete(d))}),[n,u,s]);return a&&f&&(h={...h}),T.useMemo(()=>{u.forEach((d,v)=>u.set(v,!1))},[n]),T.useEffect(()=>{!n&&!u.size&&s&&s()},[n]),r==="popLayout"&&(e=m.jsx(HA,{isPresent:n,anchorX:l,root:o,children:e})),m.jsx(bo.Provider,{value:h,children:e})};function $A(){return new Map}function Ub(e=!0){const t=T.useContext(bo);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,a=T.useId();T.useEffect(()=>{if(e)return i(a)},[e]);const r=T.useCallback(()=>e&&s&&s(a),[a,s,e]);return!n&&s?[!1,r]:[!0]}const Hr=e=>e.key||"";function yp(e){const t=[];return T.Children.forEach(e,n=>{T.isValidElement(n)&&t.push(n)}),t}const qr=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:a="sync",propagate:r=!1,anchorX:l="left",root:o})=>{const[u,c]=Ub(r),f=T.useMemo(()=>yp(e),[e]),h=r&&!u?[]:f.map(Hr),d=T.useRef(!0),v=T.useRef(f),_=fh(()=>new Map),[x,p]=T.useState(f),[g,y]=T.useState(f);G0(()=>{d.current=!1,v.current=f;for(let E=0;E<g.length;E++){const S=Hr(g[E]);h.includes(S)?_.delete(S):_.get(S)!==!0&&_.set(S,!1)}},[g,h.length,h.join("-")]);const b=[];if(f!==x){let E=[...f];for(let S=0;S<g.length;S++){const j=g[S],D=Hr(j);h.includes(D)||(E.splice(S,0,j),b.push(j))}return a==="wait"&&b.length&&(E=b),y(yp(E)),p(f),null}const{forceRender:w}=T.useContext(ch);return m.jsx(m.Fragment,{children:g.map(E=>{const S=Hr(E),j=r&&!u?!1:f===g||h.includes(S),D=()=>{if(_.has(S))_.set(S,!0);else return;let O=!0;_.forEach(V=>{V||(O=!1)}),O&&(w==null||w(),y(v.current),r&&(c==null||c()),s&&s())};return m.jsx(qA,{isPresent:j,initial:!d.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:o,onExitComplete:j?void 0:D,anchorX:l,children:E},S)})})},Vb=T.createContext({strict:!1}),vp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wi={};for(const e in vp)wi[e]={isEnabled:t=>vp[e].some(n=>!!t[n])};function GA(e){for(const t in e)wi[t]={...wi[t],...e[t]}}const YA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ql(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||YA.has(e)}let Lb=e=>!ql(e);function XA(e){typeof e=="function"&&(Lb=t=>t.startsWith("on")?!ql(t):e(t))}try{XA(require("@emotion/is-prop-valid").default)}catch{}function KA(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(Lb(i)||n===!0&&ql(i)||!t&&!ql(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}const _o=T.createContext({});function So(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Ya(e){return typeof e=="string"||Array.isArray(e)}const Uh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vh=["initial",...Uh];function xo(e){return So(e.animate)||Vh.some(t=>Ya(e[t]))}function Bb(e){return!!(xo(e)||e.variants)}function QA(e,t){if(xo(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Ya(n)?n:void 0,animate:Ya(s)?s:void 0}}return e.inherit!==!1?t:{}}function ZA(e){const{initial:t,animate:n}=QA(e,T.useContext(_o));return T.useMemo(()=>({initial:t,animate:n}),[bp(t),bp(n)])}function bp(e){return Array.isArray(e)?e.join(" "):e}const Xa={};function FA(e){for(const t in e)Xa[t]=e[t],_h(t)&&(Xa[t].isCSSVariable=!0)}function Pb(e,{layout:t,layoutId:n}){return Vi.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Xa[e]||e==="opacity")}const JA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},IA=Ui.length;function WA(e,t,n){let s="",i=!0;for(let a=0;a<IA;a++){const r=Ui[a],l=e[r];if(l===void 0)continue;let o=!0;if(typeof l=="number"?o=l===(r.startsWith("scale")?1:0):o=parseFloat(l)===0,!o||n){const u=Cb(l,Dh[r]);if(!o){i=!1;const c=JA[r]||r;s+=`${c}(${u}) `}n&&(t[r]=u)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function Lh(e,t,n){const{style:s,vars:i,transformOrigin:a}=e;let r=!1,l=!1;for(const o in t){const u=t[o];if(Vi.has(o)){r=!0;continue}else if(_h(o)){i[o]=u;continue}else{const c=Cb(u,Dh[o]);o.startsWith("origin")?(l=!0,a[o]=c):s[o]=c}}if(t.transform||(r||n?s.transform=WA(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:o="50%",originY:u="50%",originZ:c=0}=a;s.transformOrigin=`${o} ${u} ${c}`}}const Bh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zb(e,t,n){for(const s in t)!Be(t[s])&&!Pb(s,n)&&(e[s]=t[s])}function eO({transformTemplate:e},t){return T.useMemo(()=>{const n=Bh();return Lh(n,t,e),Object.assign({},n.vars,n.style)},[t])}function tO(e,t){const n=e.style||{},s={};return zb(s,n,e),Object.assign(s,eO(e,t)),s}function nO(e,t){const n={},s=tO(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const sO={offset:"stroke-dashoffset",array:"stroke-dasharray"},iO={offset:"strokeDashoffset",array:"strokeDasharray"};function aO(e,t,n=1,s=0,i=!0){e.pathLength=1;const a=i?sO:iO;e[a.offset]=k.transform(-s);const r=k.transform(t),l=k.transform(n);e[a.array]=`${r} ${l}`}function Hb(e,{attrX:t,attrY:n,attrScale:s,pathLength:i,pathSpacing:a=1,pathOffset:r=0,...l},o,u,c){if(Lh(e,l,u),o){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),s!==void 0&&(f.scale=s),i!==void 0&&aO(f,i,a,r,!1)}const qb=()=>({...Bh(),attrs:{}}),$b=e=>typeof e=="string"&&e.toLowerCase()==="svg";function rO(e,t,n,s){const i=T.useMemo(()=>{const a=qb();return Hb(a,t,$b(s),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};zb(a,e.style,e),i.style={...a,...i.style}}return i}const lO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ph(e){return typeof e!="string"||e.includes("-")?!1:!!(lO.indexOf(e)>-1||/[A-Z]/u.test(e))}function oO(e,t,n,{latestValues:s},i,a=!1){const l=(Ph(e)?rO:nO)(t,s,i,e),o=KA(t,typeof e=="string",a),u=e!==T.Fragment?{...o,...l,ref:n}:{},{children:c}=t,f=T.useMemo(()=>Be(c)?c.get():c,[c]);return T.createElement(e,{...u,children:f})}function _p(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function zh(e,t,n,s){if(typeof t=="function"){const[i,a]=_p(s);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=_p(s);t=t(n!==void 0?n:e.custom,i,a)}return t}function al(e){return Be(e)?e.get():e}function uO({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,i){return{latestValues:cO(n,s,i,e),renderState:t()}}function cO(e,t,n,s){const i={},a=s(e,{});for(const h in a)i[h]=al(a[h]);let{initial:r,animate:l}=e;const o=xo(e),u=Bb(e);t&&u&&!o&&e.inherit!==!1&&(r===void 0&&(r=t.initial),l===void 0&&(l=t.animate));let c=n?n.initial===!1:!1;c=c||r===!1;const f=c?l:r;if(f&&typeof f!="boolean"&&!So(f)){const h=Array.isArray(f)?f:[f];for(let d=0;d<h.length;d++){const v=zh(e,h[d]);if(v){const{transitionEnd:_,transition:x,...p}=v;for(const g in p){let y=p[g];if(Array.isArray(y)){const b=c?y.length-1:0;y=y[b]}y!==null&&(i[g]=y)}for(const g in _)i[g]=_[g]}}}return i}const Gb=e=>(t,n)=>{const s=T.useContext(_o),i=T.useContext(bo),a=()=>uO(e,t,s,i);return n?a():fh(a)};function Hh(e,t,n){var a;const{style:s}=e,i={};for(const r in s)(Be(s[r])||t.style&&Be(t.style[r])||Pb(r,e)||((a=n==null?void 0:n.getValue(r))==null?void 0:a.liveStyle)!==void 0)&&(i[r]=s[r]);return i}const fO=Gb({scrapeMotionValuesFromProps:Hh,createRenderState:Bh});function Yb(e,t,n){const s=Hh(e,t,n);for(const i in e)if(Be(e[i])||Be(t[i])){const a=Ui.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[a]=e[i]}return s}const hO=Gb({scrapeMotionValuesFromProps:Yb,createRenderState:qb}),dO=Symbol.for("motionComponentSymbol");function Js(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function mO(e,t,n){return T.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Js(n)&&(n.current=s))},[t])}const qh=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pO="framerAppearId",Xb="data-"+qh(pO),Kb=T.createContext({});function gO(e,t,n,s,i){var _,x;const{visualElement:a}=T.useContext(_o),r=T.useContext(Vb),l=T.useContext(bo),o=T.useContext(kh).reducedMotion,u=T.useRef(null);s=s||r.renderer,!u.current&&s&&(u.current=s(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:o}));const c=u.current,f=T.useContext(Kb);c&&!c.projection&&i&&(c.type==="html"||c.type==="svg")&&yO(u.current,n,i,f);const h=T.useRef(!1);T.useInsertionEffect(()=>{c&&h.current&&c.update(n,l)});const d=n[Xb],v=T.useRef(!!d&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,d))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,d)));return G0(()=>{c&&(h.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),c.scheduleRenderMicrotask(),v.current&&c.animationState&&c.animationState.animateChanges())}),T.useEffect(()=>{c&&(!v.current&&c.animationState&&c.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,d)}),v.current=!1))}),c}function yO(e,t,n,s){const{layoutId:i,layout:a,drag:r,dragConstraints:l,layoutScroll:o,layoutRoot:u,layoutCrossfade:c}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Qb(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!r||l&&Js(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:c,layoutScroll:o,layoutRoot:u})}function Qb(e){if(e)return e.options.allowProjection!==!1?e.projection:Qb(e.parent)}function xu(e,{forwardMotionProps:t=!1}={},n,s){n&&GA(n);const i=Ph(e)?hO:fO;function a(l,o){let u;const c={...T.useContext(kh),...l,layoutId:vO(l)},{isStatic:f}=c,h=ZA(l),d=i(l,f);if(!f&&hh){bO();const v=_O(c);u=v.MeasureLayout,h.visualElement=gO(e,d,c,s,v.ProjectionNode)}return m.jsxs(_o.Provider,{value:h,children:[u&&h.visualElement?m.jsx(u,{visualElement:h.visualElement,...c}):null,oO(e,l,mO(d,h.visualElement,o),d,f,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const r=T.forwardRef(a);return r[dO]=e,r}function vO({layoutId:e}){const t=T.useContext(ch).id;return t&&e!==void 0?t+"-"+e:e}function bO(e,t){T.useContext(Vb).strict}function _O(e){const{drag:t,layout:n}=wi;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function SO(e,t){if(typeof Proxy>"u")return xu;const n=new Map,s=(a,r)=>xu(a,r,e,t),i=(a,r)=>s(a,r);return new Proxy(i,{get:(a,r)=>r==="create"?s:(n.has(r)||n.set(r,xu(r,void 0,e,t)),n.get(r))})}function Zb({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function xO({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function wO(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function wu(e){return e===void 0||e===1}function Zc({scale:e,scaleX:t,scaleY:n}){return!wu(e)||!wu(t)||!wu(n)}function ts(e){return Zc(e)||Fb(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Fb(e){return Sp(e.x)||Sp(e.y)}function Sp(e){return e&&e!=="0%"}function $l(e,t,n){const s=e-n,i=t*s;return n+i}function xp(e,t,n,s,i){return i!==void 0&&(e=$l(e,i,s)),$l(e,n,s)+t}function Fc(e,t=0,n=1,s,i){e.min=xp(e.min,t,n,s,i),e.max=xp(e.max,t,n,s,i)}function Jb(e,{x:t,y:n}){Fc(e.x,t.translate,t.scale,t.originPoint),Fc(e.y,n.translate,n.scale,n.originPoint)}const wp=.999999999999,Tp=1.0000000000001;function TO(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,r;for(let l=0;l<i;l++){a=n[l],r=a.projectionDelta;const{visualElement:o}=a.options;o&&o.props.style&&o.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ws(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),r&&(t.x*=r.x.scale,t.y*=r.y.scale,Jb(e,r)),s&&ts(a.latestValues)&&Ws(e,a.latestValues))}t.x<Tp&&t.x>wp&&(t.x=1),t.y<Tp&&t.y>wp&&(t.y=1)}function Is(e,t){e.min=e.min+t,e.max=e.max+t}function Ep(e,t,n,s,i=.5){const a=fe(e.min,e.max,i);Fc(e,t,n,a,s)}function Ws(e,t){Ep(e.x,t.x,t.scaleX,t.scale,t.originX),Ep(e.y,t.y,t.scaleY,t.scale,t.originY)}function Ib(e,t){return Zb(wO(e.getBoundingClientRect(),t))}function EO(e,t,n){const s=Ib(e,n),{scroll:i}=t;return i&&(Is(s.x,i.offset.x),Is(s.y,i.offset.y)),s}const jp=()=>({translate:0,scale:1,origin:0,originPoint:0}),ei=()=>({x:jp(),y:jp()}),Ap=()=>({min:0,max:0}),ge=()=>({x:Ap(),y:Ap()}),Jc={current:null},Wb={current:!1};function jO(){if(Wb.current=!0,!!hh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Jc.current=e.matches;e.addEventListener("change",t),t()}else Jc.current=!1}const AO=new WeakMap;function OO(e,t,n){for(const s in t){const i=t[s],a=n[s];if(Be(i))e.addValue(s,i);else if(Be(a))e.addValue(s,xi(i,{owner:e}));else if(a!==i)if(e.hasValue(s)){const r=e.getValue(s);r.liveStyle===!0?r.jump(i):r.hasAnimated||r.set(i)}else{const r=e.getStaticValue(s);e.addValue(s,xi(r!==void 0?r:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Op=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class CO{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:a,visualState:r},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ch,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Ze.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,ue.render(this.render,!1,!0))};const{latestValues:o,renderState:u}=r;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=xo(n),this.isVariantNode=Bb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const d=f[h];o[h]!==void 0&&Be(d)&&d.set(o[h],!1)}}mount(t){this.current=t,AO.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),Wb.current||jO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jc.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ln(this.notifyUpdate),Ln(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Vi.has(t);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&ue.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a(),r&&r(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in wi){const n=wi[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Op.length;s++){const i=Op[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,r=t[a];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=OO(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=xi(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Y0(s)||K0(s))?s=parseFloat(s):!PA(s)&&Bn.test(n)&&(s=Ob(t,n)),this.setBaseTarget(t,Be(s)?s.get():s)),Be(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const r=zh(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);r&&(s=r[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Be(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new yh),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Nh.render(this.render)}}class e_ extends CO{constructor(){super(...arguments),this.KeyframeResolver=AA}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Be(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function t_(e,{style:t,vars:n},s,i){const a=e.style;let r;for(r in t)a[r]=t[r];i==null||i.applyProjectionStyles(a,s);for(r in n)a.setProperty(r,n[r])}function RO(e){return window.getComputedStyle(e)}class DO extends e_{constructor(){super(...arguments),this.type="html",this.renderInstance=t_}readValueFromInstance(t,n){var s;if(Vi.has(n))return(s=this.projection)!=null&&s.isProjecting?$c(n):Xj(t,n);{const i=RO(t),a=(_h(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Ib(t,n)}build(t,n,s){Lh(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return Hh(t,n,s)}}const n_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NO(e,t,n,s){t_(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(n_.has(i)?i:qh(i),t.attrs[i])}class MO extends e_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ge}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Vi.has(n)){const s=Ab(n);return s&&s.default||0}return n=n_.has(n)?n:qh(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return Yb(t,n,s)}build(t,n,s){Hb(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,i){NO(t,n,s,i)}mount(t){this.isSVGTag=$b(t.tagName),super.mount(t)}}const kO=(e,t)=>Ph(e)?new MO(t):new DO(t,{allowProjection:e!==T.Fragment});function Ka(e,t,n){const s=e.getProps();return zh(s,t,n!==void 0?n:s.custom,e)}const Ic=e=>Array.isArray(e);function UO(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,xi(n))}function VO(e){return Ic(e)?e[e.length-1]||0:e}function LO(e,t){const n=Ka(e,t);let{transitionEnd:s={},transition:i={},...a}=n||{};a={...a,...s};for(const r in a){const l=VO(a[r]);UO(e,r,l)}}function BO(e){return!!(Be(e)&&e.add)}function Wc(e,t){const n=e.getValue("willChange");if(BO(n))return n.add(t);if(!n&&sn.WillChange){const s=new sn.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function s_(e){return e.props[Xb]}const PO=e=>e!==null;function zO(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(PO),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[a]}const HO={type:"spring",stiffness:500,damping:25,restSpeed:10},qO=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$O={type:"keyframes",duration:.8},GO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},YO=(e,{keyframes:t})=>t.length>2?$O:Vi.has(e)?e.startsWith("scale")?qO(t[1]):HO:GO;function XO({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:r,repeatDelay:l,from:o,elapsed:u,...c}){return!!Object.keys(c).length}const $h=(e,t,n,s={},i,a)=>r=>{const l=Rh(s,e)||{},o=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-kt(o);const c={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{r(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};XO(l)||Object.assign(c,YO(e,c)),c.duration&&(c.duration=kt(c.duration)),c.repeatDelay&&(c.repeatDelay=kt(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(f=!0)),(sn.instantAnimations||sn.skipAnimations)&&(f=!0,c.duration=0,c.delay=0),c.allowFlatten=!l.type&&!l.ease,f&&!a&&t.get()!==void 0){const h=zO(c.keyframes,l);if(h!==void 0){ue.update(()=>{c.onUpdate(h),c.onComplete()});return}}return l.isSync?new Oh(c):new pA(c)};function KO({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function i_(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:r,...l}=t;s&&(a=s);const o=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const c in l){const f=e.getValue(c,e.latestValues[c]??null),h=l[c];if(h===void 0||u&&KO(u,c))continue;const d={delay:n,...Rh(a||{},c)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===v&&!d.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const p=s_(e);if(p){const g=window.MotionHandoffAnimation(p,c,ue);g!==null&&(d.startTime=g,_=!0)}}Wc(e,c),f.start($h(c,f,h,e.shouldReduceMotion&&Tb.has(c)?{type:!1}:d,e,_));const x=f.animation;x&&o.push(x)}return r&&Promise.all(o).then(()=>{ue.update(()=>{r&&LO(e,r)})}),o}function ef(e,t,n={}){var o;const s=Ka(e,t,n.type==="exit"?(o=e.presenceContext)==null?void 0:o.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(i_(e,s,n)):()=>Promise.resolve(),r=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:h}=i;return QO(e,t,u,c,f,h,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,c]=l==="beforeChildren"?[a,r]:[r,a];return u().then(()=>c())}else return Promise.all([a(),r(n.delay)])}function QO(e,t,n=0,s=0,i=0,a=1,r){const l=[],o=e.variantChildren.size,u=(o-1)*i,c=typeof s=="function",f=c?h=>s(h,o):a===1?(h=0)=>h*i:(h=0)=>u-h*i;return Array.from(e.variantChildren).sort(ZO).forEach((h,d)=>{h.notify("AnimationStart",t),l.push(ef(h,t,{...r,delay:n+(c?0:s)+f(d)}).then(()=>h.notify("AnimationComplete",t)))}),Promise.all(l)}function ZO(e,t){return e.sortNodePosition(t)}function FO(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(a=>ef(e,a,n));s=Promise.all(i)}else if(typeof t=="string")s=ef(e,t,n);else{const i=typeof t=="function"?Ka(e,t,n.custom):t;s=Promise.all(i_(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function a_(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const JO=Vh.length;function r_(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?r_(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<JO;n++){const s=Vh[n],i=e.props[s];(Ya(i)||i===!1)&&(t[s]=i)}return t}const IO=[...Uh].reverse(),WO=Uh.length;function eC(e){return t=>Promise.all(t.map(({animation:n,options:s})=>FO(e,n,s)))}function tC(e){let t=eC(e),n=Cp(),s=!0;const i=o=>(u,c)=>{var h;const f=Ka(e,c,o==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:d,transitionEnd:v,..._}=f;u={...u,..._,...v}}return u};function a(o){t=o(e)}function r(o){const{props:u}=e,c=r_(e.parent)||{},f=[],h=new Set;let d={},v=1/0;for(let x=0;x<WO;x++){const p=IO[x],g=n[p],y=u[p]!==void 0?u[p]:c[p],b=Ya(y),w=p===o?g.isActive:null;w===!1&&(v=x);let E=y===c[p]&&y!==u[p]&&b;if(E&&s&&e.manuallyAnimateOnMount&&(E=!1),g.protectedKeys={...d},!g.isActive&&w===null||!y&&!g.prevProp||So(y)||typeof y=="boolean")continue;const S=nC(g.prevProp,y);let j=S||p===o&&g.isActive&&!E&&b||x>v&&b,D=!1;const O=Array.isArray(y)?y:[y];let V=O.reduce(i(p),{});w===!1&&(V={});const{prevResolvedValues:z={}}=g,ne={...z,...V},X=N=>{j=!0,h.has(N)&&(D=!0,h.delete(N)),g.needsAnimating[N]=!0;const M=e.getValue(N);M&&(M.liveStyle=!1)};for(const N in ne){const M=V[N],Z=z[N];if(d.hasOwnProperty(N))continue;let ee=!1;Ic(M)&&Ic(Z)?ee=!a_(M,Z):ee=M!==Z,ee?M!=null?X(N):h.add(N):M!==void 0&&h.has(N)?X(N):g.protectedKeys[N]=!0}g.prevProp=y,g.prevResolvedValues=V,g.isActive&&(d={...d,...V}),s&&e.blockInitialAnimation&&(j=!1),j&&(!(E&&S)||D)&&f.push(...O.map(N=>({animation:N,options:{type:p}})))}if(h.size){const x={};if(typeof u.initial!="boolean"){const p=Ka(e,Array.isArray(u.initial)?u.initial[0]:u.initial);p&&p.transition&&(x.transition=p.transition)}h.forEach(p=>{const g=e.getBaseTarget(p),y=e.getValue(p);y&&(y.liveStyle=!0),x[p]=g??null}),f.push({animation:x})}let _=!!f.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(_=!1),s=!1,_?t(f):Promise.resolve()}function l(o,u){var f;if(n[o].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var d;return(d=h.animationState)==null?void 0:d.setActive(o,u)}),n[o].isActive=u;const c=r(o);for(const h in n)n[h].protectedKeys={};return c}return{animateChanges:r,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Cp(),s=!0}}}function nC(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!a_(t,e):!1}function Fn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Cp(){return{animate:Fn(!0),whileInView:Fn(),whileHover:Fn(),whileTap:Fn(),whileDrag:Fn(),whileFocus:Fn(),exit:Fn()}}class $n{constructor(t){this.isMounted=!1,this.node=t}update(){}}class sC extends $n{constructor(t){super(t),t.animationState||(t.animationState=tC(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();So(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let iC=0;class aC extends $n{constructor(){super(...arguments),this.id=iC++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const rC={animation:{Feature:sC},exit:{Feature:aC}};function Qa(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function br(e){return{point:{x:e.pageX,y:e.pageY}}}const lC=e=>t=>Mh(t)&&e(t,br(t));function xa(e,t,n,s){return Qa(e,t,lC(n),s)}const l_=1e-4,oC=1-l_,uC=1+l_,o_=.01,cC=0-o_,fC=0+o_;function qe(e){return e.max-e.min}function hC(e,t,n){return Math.abs(e-t)<=n}function Rp(e,t,n,s=.5){e.origin=s,e.originPoint=fe(t.min,t.max,e.origin),e.scale=qe(n)/qe(t),e.translate=fe(n.min,n.max,e.origin)-e.originPoint,(e.scale>=oC&&e.scale<=uC||isNaN(e.scale))&&(e.scale=1),(e.translate>=cC&&e.translate<=fC||isNaN(e.translate))&&(e.translate=0)}function wa(e,t,n,s){Rp(e.x,t.x,n.x,s?s.originX:void 0),Rp(e.y,t.y,n.y,s?s.originY:void 0)}function Dp(e,t,n){e.min=n.min+t.min,e.max=e.min+qe(t)}function dC(e,t,n){Dp(e.x,t.x,n.x),Dp(e.y,t.y,n.y)}function Np(e,t,n){e.min=t.min-n.min,e.max=e.min+qe(t)}function Ta(e,t,n){Np(e.x,t.x,n.x),Np(e.y,t.y,n.y)}function ct(e){return[e("x"),e("y")]}const u_=({current:e})=>e?e.ownerDocument.defaultView:null,Mp=(e,t)=>Math.abs(e-t);function mC(e,t){const n=Mp(e.x,t.x),s=Mp(e.y,t.y);return Math.sqrt(n**2+s**2)}class c_{constructor(t,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:r=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Eu(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,v=mC(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!d&&!v)return;const{point:_}=h,{timestamp:x}=Re;this.history.push({..._,timestamp:x});const{onStart:p,onMove:g}=this.handlers;d||(p&&p(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,d)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Tu(d,this.transformPagePoint),ue.update(this.updatePoint,!0)},this.handlePointerUp=(h,d)=>{this.end();const{onEnd:v,onSessionEnd:_,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Eu(h.type==="pointercancel"?this.lastMoveEventInfo:Tu(d,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,p),_&&_(h,p)},!Mh(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=r,this.contextWindow=i||window;const l=br(t),o=Tu(l,this.transformPagePoint),{point:u}=o,{timestamp:c}=Re;this.history=[{...u,timestamp:c}];const{onSessionStart:f}=n;f&&f(t,Eu(o,this.history)),this.removeListeners=gr(xa(this.contextWindow,"pointermove",this.handlePointerMove),xa(this.contextWindow,"pointerup",this.handlePointerUp),xa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ln(this.updatePoint)}}function Tu(e,t){return t?{point:t(e.point)}:e}function kp(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Eu({point:e},t){return{point:e,delta:kp(e,f_(t)),offset:kp(e,pC(t)),velocity:gC(t,.1)}}function pC(e){return e[0]}function f_(e){return e[e.length-1]}function gC(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=f_(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>kt(t)));)n--;if(!s)return{x:0,y:0};const a=Ut(i.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const r={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function yC(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?fe(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?fe(n,e,s.max):Math.min(e,n)),e}function Up(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function vC(e,{top:t,left:n,bottom:s,right:i}){return{x:Up(e.x,n,i),y:Up(e.y,t,s)}}function Vp(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function bC(e,t){return{x:Vp(e.x,t.x),y:Vp(e.y,t.y)}}function _C(e,t){let n=.5;const s=qe(e),i=qe(t);return i>s?n=qa(t.min,t.max-s,e.min):s>i&&(n=qa(e.min,e.max-i,t.min)),nn(0,1,n)}function SC(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const tf=.35;function xC(e=tf){return e===!1?e=0:e===!0&&(e=tf),{x:Lp(e,"left","right"),y:Lp(e,"top","bottom")}}function Lp(e,t,n){return{min:Bp(e,t),max:Bp(e,n)}}function Bp(e,t){return typeof e=="number"?e:e[t]||0}const wC=new WeakMap;class TC{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ge(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(br(f).point)},r=(f,h)=>{const{drag:d,dragPropagation:v,onDragStart:_}=this.getProps();if(d&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=DA(d),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ct(p=>{let g=this.getAxisMotionValue(p).get()||0;if(Vt.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[p];b&&(g=qe(b)*(parseFloat(g)/100))}}this.originPoint[p]=g}),_&&ue.postRender(()=>_(f,h)),Wc(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:d,dragDirectionLock:v,onDirectionLock:_,onDrag:x}=this.getProps();if(!d&&!this.openDragLock)return;const{offset:p}=h;if(v&&this.currentDirection===null){this.currentDirection=EC(p),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",h.point,p),this.updateAxis("y",h.point,p),this.visualElement.render(),x&&x(f,h)},o=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>ct(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new c_(t,{onSessionStart:a,onStart:r,onMove:l,onSessionEnd:o,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:s,contextWindow:u_(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!s)return;const{velocity:r}=i;this.startAnimation(r);const{onDragEnd:l}=this.getProps();l&&ue.postRender(()=>l(s,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!$r(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let r=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(r=yC(r,this.constraints[t],this.elastic[t])),a.set(r)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&Js(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=vC(s.layoutBox,t):this.constraints=!1,this.elastic=xC(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ct(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=SC(s.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Js(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=EO(s,i.root,this.visualElement.getTransformPagePoint());let r=bC(i.layout.layoutBox,a);if(n){const l=n(xO(r));this.hasMutatedConstraints=!!l,l&&(r=Zb(l))}return r}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:a,dragSnapToOrigin:r,onDragTransitionEnd:l}=this.getProps(),o=this.constraints||{},u=ct(c=>{if(!$r(c,n,this.currentDirection))return;let f=o&&o[c]||{};r&&(f={min:0,max:0});const h=i?200:1e6,d=i?40:1e7,v={type:"inertia",velocity:s?t[c]:0,bounceStiffness:h,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(c,v)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return Wc(this.visualElement,t),s.start($h(t,s,0,n,this.visualElement,!1))}stopAnimation(){ct(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ct(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ct(n=>{const{drag:s}=this.getProps();if(!$r(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:r,max:l}=i.layout.layoutBox[n];a.set(t[n]-fe(r,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Js(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ct(r=>{const l=this.getAxisMotionValue(r);if(l&&this.constraints!==!1){const o=l.get();i[r]=_C({min:o,max:o},this.constraints[r])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ct(r=>{if(!$r(r,t,null))return;const l=this.getAxisMotionValue(r),{min:o,max:u}=this.constraints[r];l.set(fe(o,u,i[r]))})}addListeners(){if(!this.visualElement.current)return;wC.set(this.visualElement,this);const t=this.visualElement.current,n=xa(t,"pointerdown",o=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(o)}),s=()=>{const{dragConstraints:o}=this.getProps();Js(o)&&o.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ue.read(s);const r=Qa(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:o,hasLayoutChanged:u})=>{this.isDragging&&u&&(ct(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=o[c].translate,f.set(f.get()+o[c].translate))}),this.visualElement.render())});return()=>{r(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:r=tf,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:a,dragElastic:r,dragMomentum:l}}}function $r(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function EC(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class jC extends $n{constructor(t){super(t),this.removeGroupControls=vt,this.removeListeners=vt,this.controls=new TC(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Pp=e=>(t,n)=>{e&&ue.postRender(()=>e(t,n))};class AC extends $n{constructor(){super(...arguments),this.removePointerDownListener=vt}onPointerDown(t){this.session=new c_(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:u_(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:Pp(t),onStart:Pp(n),onMove:s,onEnd:(a,r)=>{delete this.session,i&&ue.postRender(()=>i(a,r))}}}mount(){this.removePointerDownListener=xa(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Zi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(k.test(e))e=parseFloat(e);else return e;const n=zp(e,t.target.x),s=zp(e,t.target.y);return`${n}% ${s}%`}},OC={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=Bn.parse(e);if(i.length>5)return s;const a=Bn.createTransformer(e),r=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,o=n.y.scale*t.y;i[0+r]/=l,i[1+r]/=o;const u=fe(l,o,.5);return typeof i[2+r]=="number"&&(i[2+r]/=u),typeof i[3+r]=="number"&&(i[3+r]/=u),a(i)}};let Hp=!1;class CC extends T.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:a}=t;FA(RC),a&&(n.group&&n.group.add(a),s&&s.register&&i&&s.register(a),Hp&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),rl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:a}=this.props,{projection:r}=s;return r&&(r.isPresent=a,Hp=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==a?r.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?r.promote():r.relegate()||ue.postRender(()=>{const l=r.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Nh.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function h_(e){const[t,n]=Ub(),s=T.useContext(ch);return m.jsx(CC,{...e,layoutGroup:s,switchLayoutGroup:T.useContext(Kb),isPresent:t,safeToRemove:n})}const RC={borderRadius:{...Zi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zi,borderTopRightRadius:Zi,borderBottomLeftRadius:Zi,borderBottomRightRadius:Zi,boxShadow:OC};function DC(e,t,n){const s=Be(e)?e:xi(e);return s.start($h("",s,t,n)),s.animation}const NC=(e,t)=>e.depth-t.depth;class MC{constructor(){this.children=[],this.isDirty=!1}add(t){dh(this.children,t),this.isDirty=!0}remove(t){mh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(NC),this.isDirty=!1,this.children.forEach(t)}}function kC(e,t){const n=Ze.now(),s=({timestamp:i})=>{const a=i-n;a>=t&&(Ln(s),e(a-t))};return ue.setup(s,!0),()=>Ln(s)}const d_=["TopLeft","TopRight","BottomLeft","BottomRight"],UC=d_.length,qp=e=>typeof e=="string"?parseFloat(e):e,$p=e=>typeof e=="number"||k.test(e);function VC(e,t,n,s,i,a){i?(e.opacity=fe(0,n.opacity??1,LC(s)),e.opacityExit=fe(t.opacity??1,0,BC(s))):a&&(e.opacity=fe(t.opacity??1,n.opacity??1,s));for(let r=0;r<UC;r++){const l=`border${d_[r]}Radius`;let o=Gp(t,l),u=Gp(n,l);if(o===void 0&&u===void 0)continue;o||(o=0),u||(u=0),o===0||u===0||$p(o)===$p(u)?(e[l]=Math.max(fe(qp(o),qp(u),s),0),(Vt.test(u)||Vt.test(o))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=fe(t.rotate||0,n.rotate||0,s))}function Gp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const LC=m_(0,.5,tb),BC=m_(.5,.95,vt);function m_(e,t,n){return s=>s<e?0:s>t?1:n(qa(e,t,s))}function Yp(e,t){e.min=t.min,e.max=t.max}function ut(e,t){Yp(e.x,t.x),Yp(e.y,t.y)}function Xp(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Kp(e,t,n,s,i){return e-=t,e=$l(e,1/n,s),i!==void 0&&(e=$l(e,1/i,s)),e}function PC(e,t=0,n=1,s=.5,i,a=e,r=e){if(Vt.test(t)&&(t=parseFloat(t),t=fe(r.min,r.max,t/100)-r.min),typeof t!="number")return;let l=fe(a.min,a.max,s);e===a&&(l-=t),e.min=Kp(e.min,t,n,l,i),e.max=Kp(e.max,t,n,l,i)}function Qp(e,t,[n,s,i],a,r){PC(e,t[n],t[s],t[i],t.scale,a,r)}const zC=["x","scaleX","originX"],HC=["y","scaleY","originY"];function Zp(e,t,n,s){Qp(e.x,t,zC,n?n.x:void 0,s?s.x:void 0),Qp(e.y,t,HC,n?n.y:void 0,s?s.y:void 0)}function Fp(e){return e.translate===0&&e.scale===1}function p_(e){return Fp(e.x)&&Fp(e.y)}function Jp(e,t){return e.min===t.min&&e.max===t.max}function qC(e,t){return Jp(e.x,t.x)&&Jp(e.y,t.y)}function Ip(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function g_(e,t){return Ip(e.x,t.x)&&Ip(e.y,t.y)}function Wp(e){return qe(e.x)/qe(e.y)}function eg(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class $C{constructor(){this.members=[]}add(t){dh(this.members,t),t.scheduleRender()}remove(t){if(mh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function GC(e,t,n){let s="";const i=e.x.translate/t.x,a=e.y.translate/t.y,r=(n==null?void 0:n.z)||0;if((i||a||r)&&(s=`translate3d(${i}px, ${a}px, ${r}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:h,skewX:d,skewY:v}=n;u&&(s=`perspective(${u}px) ${s}`),c&&(s+=`rotate(${c}deg) `),f&&(s+=`rotateX(${f}deg) `),h&&(s+=`rotateY(${h}deg) `),d&&(s+=`skewX(${d}deg) `),v&&(s+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,o=e.y.scale*t.y;return(l!==1||o!==1)&&(s+=`scale(${l}, ${o})`),s||"none"}const ju=["","X","Y","Z"],YC=1e3;let XC=0;function Au(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function y_(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=s_(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ue,!(i||a))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&y_(s)}function v_({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(r={},l=t==null?void 0:t()){this.id=XC++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ZC),this.nodes.forEach(WC),this.nodes.forEach(eR),this.nodes.forEach(FC)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new MC)}addEventListener(r,l){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new yh),this.eventHandlers.get(r).add(l)}notifyListeners(r,...l){const o=this.eventHandlers.get(r);o&&o.notify(...l)}hasListeners(r){return this.eventHandlers.has(r)}mount(r){if(this.instance)return;this.isSVG=kb(r)&&!LA(r),this.instance=r;const{layoutId:l,layout:o,visualElement:u}=this.options;if(u&&!u.current&&u.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(o||l)&&(this.isLayoutDirty=!0),e){let c,f=0;const h=()=>this.root.updateBlockedByResize=!1;ue.read(()=>{f=window.innerWidth}),e(r,()=>{const d=window.innerWidth;d!==f&&(f=d,this.root.updateBlockedByResize=!0,c&&c(),c=kC(h,250),rl.hasAnimatedSinceResize&&(rl.hasAnimatedSinceResize=!1,this.nodes.forEach(sg)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||o)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||aR,{onLayoutAnimationStart:_,onLayoutAnimationComplete:x}=u.getProps(),p=!this.targetLayout||!g_(this.targetLayout,d),g=!f&&h;if(this.options.layoutRoot||this.resumeFrom||g||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...Rh(v,"layout"),onPlay:_,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(c,g)}else f||sg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ln(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tR),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&y_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:o}=this.options;if(l===void 0&&!o)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(ng);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(IC),this.nodes.forEach(KC),this.nodes.forEach(QC)):this.nodes.forEach(ng),this.clearAllSnapshots();const l=Ze.now();Re.delta=nn(0,1e3/60,l-Re.timestamp),Re.timestamp=l,Re.isProcessing=!0,gu.update.process(Re),gu.preRender.process(Re),gu.render.process(Re),Re.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Nh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(JC),this.sharedNodes.forEach(nR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qe(this.snapshot.measuredBox.x)&&!qe(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let o=0;o<this.path.length;o++)this.path[o].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(l=!1),l&&this.instance){const o=s(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:o,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:o}}}resetTransform(){if(!i)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!p_(this.projectionDelta),o=this.getTransformTemplate(),u=o?o(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;r&&this.instance&&(l||ts(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const l=this.measurePageBox();let o=this.removeElementScroll(l);return r&&(o=this.removeTransform(o)),rR(o),{animationId:this.root.animationId,measuredBox:l,layoutBox:o,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:r}=this.options;if(!r)return ge();const l=r.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(lR))){const{scroll:c}=this.root;c&&(Is(l.x,c.offset.x),Is(l.y,c.offset.y))}return l}removeElementScroll(r){var o;const l=ge();if(ut(l,r),(o=this.scroll)!=null&&o.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:h}=c;c!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&ut(l,r),Is(l.x,f.offset.x),Is(l.y,f.offset.y))}return l}applyTransform(r,l=!1){const o=ge();ut(o,r);for(let u=0;u<this.path.length;u++){const c=this.path[u];!l&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ws(o,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),ts(c.latestValues)&&Ws(o,c.latestValues)}return ts(this.latestValues)&&Ws(o,this.latestValues),o}removeTransform(r){const l=ge();ut(l,r);for(let o=0;o<this.path.length;o++){const u=this.path[o];if(!u.instance||!ts(u.latestValues))continue;Zc(u.latestValues)&&u.updateSnapshot();const c=ge(),f=u.measurePageBox();ut(c,f),Zp(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return ts(this.latestValues)&&Zp(l,this.latestValues),l}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Re.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const o=!!this.resumingFrom||this!==l;if(!(r||o&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:f}=this.options;if(!(!this.layout||!(c||f))){if(this.resolvedRelativeTargetAt=Re.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),Ta(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ge(),this.targetWithTransforms=ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ut(this.target,this.layout.layoutBox),Jb(this.target,this.targetDelta)):ut(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),Ta(this.relativeTargetOrigin,this.target,d.target),ut(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Zc(this.parent.latestValues)||Fb(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const r=this.getLead(),l=!!this.resumingFrom||this!==r;let o=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(o=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(o=!1),this.resolvedRelativeTargetAt===Re.timestamp&&(o=!1),o)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;ut(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;TO(this.layoutCorrected,this.treeScale,this.path,l),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=ge());const{target:d}=r;if(!d){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Xp(this.prevProjectionDelta.x,this.projectionDelta.x),Xp(this.prevProjectionDelta.y,this.projectionDelta.y)),wa(this.projectionDelta,this.layoutCorrected,d,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!eg(this.projectionDelta.x,this.prevProjectionDelta.x)||!eg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),r){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ei(),this.projectionDelta=ei(),this.projectionDeltaWithTransform=ei()}setAnimationOrigin(r,l=!1){const o=this.snapshot,u=o?o.latestValues:{},c={...this.latestValues},f=ei();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=ge(),d=o?o.source:void 0,v=this.layout?this.layout.source:void 0,_=d!==v,x=this.getStack(),p=!x||x.members.length<=1,g=!!(_&&!p&&this.options.crossfade===!0&&!this.path.some(iR));this.animationProgress=0;let y;this.mixTargetDelta=b=>{const w=b/1e3;ig(f.x,r.x,w),ig(f.y,r.y,w),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ta(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sR(this.relativeTarget,this.relativeTargetOrigin,h,w),y&&qC(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=ge()),ut(y,this.relativeTarget)),_&&(this.animationValues=c,VC(c,u,this.latestValues,w,g,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){var l,o,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(o=this.resumingFrom)==null?void 0:o.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Ln(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ue.update(()=>{rl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xi(0)),this.currentAnimation=DC(this.motionValue,[0,1e3],{...r,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),r.onUpdate&&r.onUpdate(c)},onStop:()=>{},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(YC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:l,target:o,layout:u,latestValues:c}=r;if(!(!l||!o||!u)){if(this!==r&&this.layout&&u&&b_(this.options.animationType,this.layout.layoutBox,u.layoutBox)){o=this.target||ge();const f=qe(this.layout.layoutBox.x);o.x.min=r.target.x.min,o.x.max=o.x.min+f;const h=qe(this.layout.layoutBox.y);o.y.min=r.target.y.min,o.y.max=o.y.min+h}ut(l,o),Ws(l,c),wa(this.projectionDeltaWithTransform,this.layoutCorrected,l,c)}}registerSharedNode(r,l){this.sharedNodes.has(r)||this.sharedNodes.set(r,new $C),this.sharedNodes.get(r).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var l;const{layoutId:r}=this.options;return r?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:r}=this.options;return r?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:l,preserveFollowOpacity:o}={}){const u=this.getStack();u&&u.promote(this,o),r&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let l=!1;const{latestValues:o}=r;if((o.z||o.rotate||o.rotateX||o.rotateY||o.rotateZ||o.skewX||o.skewY)&&(l=!0),!l)return;const u={};o.z&&Au("z",r,u,this.animationValues);for(let c=0;c<ju.length;c++)Au(`rotate${ju[c]}`,r,u,this.animationValues),Au(`skew${ju[c]}`,r,u,this.animationValues);r.render();for(const c in u)r.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);r.scheduleRender()}applyProjectionStyles(r,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){r.visibility="hidden";return}const o=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,r.visibility="",r.opacity="",r.pointerEvents=al(l==null?void 0:l.pointerEvents)||"",r.transform=o?o(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(r.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,r.pointerEvents=al(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ts(this.latestValues)&&(r.transform=o?o({},""):"none",this.hasProjected=!1);return}r.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=GC(this.projectionDeltaWithTransform,this.treeScale,c);o&&(f=o(c,f)),r.transform=f;const{x:h,y:d}=this.projectionDelta;r.transformOrigin=`${h.origin*100}% ${d.origin*100}% 0`,u.animationValues?r.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:r.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const v in Xa){if(c[v]===void 0)continue;const{correct:_,applyTo:x,isCSSVariable:p}=Xa[v],g=f==="none"?c[v]:_(c[v],u);if(x){const y=x.length;for(let b=0;b<y;b++)r[x[b]]=g}else p?this.options.visualElement.renderState.vars[v]=g:r[v]=g}this.options.layoutId&&(r.pointerEvents=u===this?al(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var l;return(l=r.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(tg),this.root.sharedNodes.clear()}}}function KC(e){e.updateLayout()}function QC(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:a}=e.options,r=t.source!==e.layout.source;a==="size"?ct(f=>{const h=r?t.measuredBox[f]:t.layoutBox[f],d=qe(h);h.min=s[f].min,h.max=h.min+d}):b_(a,t.layoutBox,s)&&ct(f=>{const h=r?t.measuredBox[f]:t.layoutBox[f],d=qe(s[f]);h.max=h.min+d,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+d)});const l=ei();wa(l,s,t.layoutBox);const o=ei();r?wa(o,e.applyTransform(i,!0),t.measuredBox):wa(o,s,t.layoutBox);const u=!p_(l);let c=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:d}=f;if(h&&d){const v=ge();Ta(v,t.layoutBox,h.layoutBox);const _=ge();Ta(_,s,d.layoutBox),g_(v,_)||(c=!0),f.options.layoutRoot&&(e.relativeTarget=_,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:o,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function ZC(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function FC(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function JC(e){e.clearSnapshot()}function tg(e){e.clearMeasurements()}function ng(e){e.isLayoutDirty=!1}function IC(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function sg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function WC(e){e.resolveTargetDelta()}function eR(e){e.calcProjection()}function tR(e){e.resetSkewAndRotation()}function nR(e){e.removeLeadSnapshot()}function ig(e,t,n){e.translate=fe(t.translate,0,n),e.scale=fe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function ag(e,t,n,s){e.min=fe(t.min,n.min,s),e.max=fe(t.max,n.max,s)}function sR(e,t,n,s){ag(e.x,t.x,n.x,s),ag(e.y,t.y,n.y,s)}function iR(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const aR={duration:.45,ease:[.4,0,.1,1]},rg=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),lg=rg("applewebkit/")&&!rg("chrome/")?Math.round:vt;function og(e){e.min=lg(e.min),e.max=lg(e.max)}function rR(e){og(e.x),og(e.y)}function b_(e,t,n){return e==="position"||e==="preserve-aspect"&&!hC(Wp(t),Wp(n),.2)}function lR(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const oR=v_({attachResizeListener:(e,t)=>Qa(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ou={current:void 0},__=v_({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ou.current){const e=new oR({});e.mount(window),e.setOptions({layoutScroll:!0}),Ou.current=e}return Ou.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),uR={pan:{Feature:AC},drag:{Feature:jC,ProjectionNode:__,MeasureLayout:h_}};function ug(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=s[i];a&&ue.postRender(()=>a(t,br(t)))}class cR extends $n{mount(){const{current:t}=this.node;t&&(this.unmount=NA(t,(n,s)=>(ug(this.node,s,"Start"),i=>ug(this.node,i,"End"))))}unmount(){}}class fR extends $n{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gr(Qa(this.node.current,"focus",()=>this.onFocus()),Qa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cg(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=s[i];a&&ue.postRender(()=>a(t,br(t)))}class hR extends $n{mount(){const{current:t}=this.node;t&&(this.unmount=VA(t,(n,s)=>(cg(this.node,s,"Start"),(i,{success:a})=>cg(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const nf=new WeakMap,Cu=new WeakMap,dR=e=>{const t=nf.get(e.target);t&&t(e)},mR=e=>{e.forEach(dR)};function pR({root:e,...t}){const n=e||document;Cu.has(n)||Cu.set(n,{});const s=Cu.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(mR,{root:e,...t})),s[i]}function gR(e,t,n){const s=pR(t);return nf.set(e,n),s.observe(e),()=>{nf.delete(e),s.unobserve(e)}}const yR={some:0,all:1};class vR extends $n{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:a}=t,r={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:yR[i]},l=o=>{const{isIntersecting:u}=o;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),h=u?c:f;h&&h(o)};return gR(this.node.current,r,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(bR(t,n))&&this.startObserver()}unmount(){}}function bR({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const _R={inView:{Feature:vR},tap:{Feature:hR},focus:{Feature:fR},hover:{Feature:cR}},SR={layout:{ProjectionNode:__,MeasureLayout:h_}},xR={...rC,..._R,...uR,...SR},ns=SO(xR,kO);class wR{static parsePhase1Content(t,n){const s=Array.isArray(t)?t[0]:t;return{project_info:this.extractProjectMetadata(s,n),global_style:this.extractGlobalStyle(s),scenes:this.extractTimelineScenes(s),elements:this.extractTimelineElements(s),style_evolution:this.extractStyleProgression(s)}}static extractProjectMetadata(t,n){var i,a,r,l,o,u;return{title:((i=t.project_metadata)==null?void 0:i.title)||t.title||t.project_title||((a=t.extraction_metadata)==null?void 0:a.project_title)||n||"Untitled Project",client:((r=t.project_metadata)==null?void 0:r.client)||t.client||"Unknown Client",schema_version:((l=t.project_metadata)==null?void 0:l.schema_version)||"1.0",production_workflow:((o=t.project_metadata)==null?void 0:o.production_workflow)||"animatic_to_video",extraction_date:(u=t.project_metadata)==null?void 0:u.extraction_date}}static extractGlobalStyle(t){var n,s,i,a,r,l,o,u,c,f,h,d,v,_,x,p,g,y,b,w,E,S,j,D,O,V,z,ne,X,Pe,R,N;return{color_palette:{primary:((s=(n=t.global_style)==null?void 0:n.color_palette)==null?void 0:s.primary)||"Deep blue backgrounds",secondary:((a=(i=t.global_style)==null?void 0:i.color_palette)==null?void 0:a.secondary)||"Warm amber lighting",accent:(l=(r=t.global_style)==null?void 0:r.color_palette)==null?void 0:l.accent,character_tones:((u=(o=t.global_style)==null?void 0:o.color_palette)==null?void 0:u.character_tones)||"Natural skin tones"},rendering_style:{level:((f=(c=t.global_style)==null?void 0:c.rendering_style)==null?void 0:f.level)||"cinematic realism",line_work:((d=(h=t.global_style)==null?void 0:h.rendering_style)==null?void 0:d.line_work)||"clean vector-style",shading:((_=(v=t.global_style)==null?void 0:v.rendering_style)==null?void 0:_.shading)||"minimal, flat color zones",detail_level:((p=(x=t.global_style)==null?void 0:x.rendering_style)==null?void 0:p.detail_level)||"photorealistic"},composition:{framing:((y=(g=t.global_style)==null?void 0:g.composition)==null?void 0:y.framing)||"cinematic storyboard frames",depth:((w=(b=t.global_style)==null?void 0:b.composition)==null?void 0:w.depth)||"clear foreground/background separation",camera_style:((S=(E=t.global_style)==null?void 0:E.composition)==null?void 0:S.camera_style)||"traditional film language",aspect_ratio:((D=(j=t.global_style)==null?void 0:j.composition)==null?void 0:D.aspect_ratio)||"16:9"},mood_style:{overall_mood:((V=(O=t.global_style)==null?void 0:O.mood_style)==null?void 0:V.overall_mood)||"educational, inspiring",lighting_description:((ne=(z=t.global_style)==null?void 0:z.mood_style)==null?void 0:ne.lighting_description)||"natural library lighting",atmosphere:((Pe=(X=t.global_style)==null?void 0:X.mood_style)==null?void 0:Pe.atmosphere)||"technological wonder",tone:((N=(R=t.global_style)==null?void 0:R.mood_style)==null?void 0:N.tone)||"professional, accessible"}}}static extractTimelineScenes(t){const n=t.scenes||{};return Object.entries(n).map(([s,i])=>{var a,r,l,o,u,c,f,h,d,v,_,x,p,g;return{scene_id:i.scene_id||parseInt(s.replace("scene_",""))||0,title:this.generateSceneTitle(i.action_summary,i.scene_id),duration:i.duration||"3 seconds",camera_type:i.camera_type||"medium shot",mood:i.mood||"neutral",natural_description:i.natural_description||"",dialogue:i.dialogue,action_summary:i.action_summary||"Scene action",elements_present:i.elements_present||[],element_interactions:i.element_interactions||[],primary_focus:i.primary_focus||"",lighting_approach:i.lighting_approach||"",composition_approach:i.composition_approach||"",expandable_content:{locations_text:this.extractLocationText(t.elements,i.elements_present),characters_text:this.extractCharacterText(t.elements,i.elements_present),props_text:this.extractPropsText(t.elements,i.elements_present),actions_text:this.generateActionsText(t.elements,i),interactions_text:this.generateInteractionsText(i.element_interactions),color_primary:((r=(a=t.global_style)==null?void 0:a.color_palette)==null?void 0:r.primary)||"Deep blue backgrounds",color_secondary:((o=(l=t.global_style)==null?void 0:l.color_palette)==null?void 0:o.secondary)||"Warm amber lighting",line_work:((c=(u=t.global_style)==null?void 0:u.rendering_style)==null?void 0:c.line_work)||"clean vector-style",shading:((h=(f=t.global_style)==null?void 0:f.rendering_style)==null?void 0:h.shading)||"minimal, flat color zones",framing:((v=(d=t.global_style)==null?void 0:d.composition)==null?void 0:v.framing)||"cinematic storyboard frames",depth:((x=(_=t.global_style)==null?void 0:_.composition)==null?void 0:x.depth)||"clear foreground/background separation",overall_mood:((g=(p=t.global_style)==null?void 0:p.mood_style)==null?void 0:g.overall_mood)||"educational, inspiring"}}}).sort((s,i)=>s.scene_id-i.scene_id)}static extractTimelineElements(t){const n=t.elements||{};return Object.entries(n).map(([s,i])=>{var a;return{id:s,name:this.formatElementName(s),type:this.mapElementType(i.element_type),subtype:i.element_subtype||"secondary",frequency:i.frequency||0,scenes_present:i.scenes_present||[],base_description:i.base_description||"",consistency_rules:i.consistency_rules||[],consistency_score:this.calculateConsistencyScore(i.frequency,(a=i.consistency_rules)==null?void 0:a.length),icon:this.getElementIcon(i.element_type,s),color:this.getElementColor(i.element_type)}})}static extractStyleProgression(t){const n=t.scenes||{},s=Object.entries(n).sort(([,i],[,a])=>i.scene_id-a.scene_id);return{color_evolution:s.map(([,i])=>{var a,r,l,o;return{scene_id:i.scene_id,primary:((r=(a=t.global_style)==null?void 0:a.color_palette)==null?void 0:r.primary)||"Deep blue",secondary:((o=(l=t.global_style)==null?void 0:l.color_palette)==null?void 0:o.secondary)||"Warm amber"}}),mood_evolution:s.map(([,i])=>({scene_id:i.scene_id,mood:i.mood||"neutral",lighting:i.lighting_approach||"natural"})),camera_progression:s.map(([,i])=>({scene_id:i.scene_id,camera_type:i.camera_type||"medium shot",composition:i.composition_approach||"standard framing"}))}}static generateSceneTitle(t,n){return t?t.split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join(" "):`Scene ${n}`}static extractLocationText(t,n){return n.filter(i=>{var a;return((a=t[i])==null?void 0:a.element_type)==="location"}).map(i=>{var r;const a=t[i];return`${a.base_description}
Consistency Rules: ${(r=a.consistency_rules)==null?void 0:r.join("; ")}`}).join(`

`)}static extractCharacterText(t,n){return n.filter(i=>{var a;return((a=t[i])==null?void 0:a.element_type)==="character"}).map(i=>{var r;const a=t[i];return`${a.base_description}
Consistency Rules: ${(r=a.consistency_rules)==null?void 0:r.join("; ")}`}).join(`

`)}static extractPropsText(t,n){return n.filter(i=>{var a;return((a=t[i])==null?void 0:a.element_type)==="prop"}).map(i=>{var r;const a=t[i];return`${a.base_description}
Consistency Rules: ${(r=a.consistency_rules)==null?void 0:r.join("; ")}`}).join(`

`)}static generateActionsText(t,n){var s;return((s=n.elements_present)==null?void 0:s.map(i=>{var l;const a=t[i],r=(l=a==null?void 0:a.variants_by_scene)==null?void 0:l[`scene_${n.scene_id}`];return r?`${i}: ${r.action} at ${r.position}`:`${i}: positioned in scene`}).join(`

`))||""}static generateInteractionsText(t){return t.map(n=>n.description).join(`
`)||""}static formatElementName(t){return t.split("_").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}static mapElementType(t){switch(t){case"character":return"character";case"location":return"location";case"prop":return"prop";case"atmosphere":return"atmosphere";default:return"prop"}}static calculateConsistencyScore(t,n){return t>=8&&n>=3?"excellent":t>=4&&n>=2?"good":"review"}static getElementIcon(t,n){if(n.includes("samantha")||n.includes("character"))return"👤";if(n.includes("children")||n.includes("group"))return"👶";if(n.includes("library")||n.includes("entrance"))return"🏛️";if(n.includes("hologram")||n.includes("display"))return"🔮";if(n.includes("backpack")||n.includes("book"))return"🎒";if(n.includes("lighting")||n.includes("atmosphere"))return"💡";switch(t){case"character":return"👤";case"location":return"🏛️";case"prop":return"📦";case"atmosphere":return"💡";default:return"📦"}}static getElementColor(t){switch(t){case"character":return"#3b82f6";case"location":return"#10b981";case"prop":return"#f59e0b";case"atmosphere":return"#8b5cf6";default:return"#6b7280"}}}class ui{static updateField(t,n,s){const i={...t},a=n.split(".");let r=i;for(let o=0;o<a.length-1;o++){const u=a[o];r[u]?r[u]={...r[u]}:r[u]={},r=r[u]}const l=a[a.length-1];return r[l]=s,i}static getField(t,n){const s=n.split(".");let i=t;for(const a of s){if(!i||typeof i!="object")return;i=i[a]}return i}static validateField(t,n){return n.includes("title")&&typeof t=="string"?t.trim().length>0:n.includes("duration")||n.includes("camera_type")||n.includes("mood")?!0:t!=null}static createEditHandler(t,n){return(s,i)=>{try{if(!ui.validateField(i,n))return console.warn(`Invalid value for field ${n}:`,i),!1;const r=(ui.getField(s,n)||"").toString().trim(),l=(i||"").toString().trim();if(r===l)return!0;const o=ui.updateField(s,n,i);return t(o),!0}catch(a){return console.error(`Error editing field ${n}:`,a),!1}}}}const Gh=(e,t,n)=>{const s=ui.getField(e,t)||"",i=ui.createEditHandler(n,t);return{currentValue:s,updateValue:a=>i(e,a.trim())}};function TR({scene:e,elements:t,onSelect:n,isSelected:s,onElementHover:i,hoveredElement:a,masterJson:r,onSceneEdit:l}){const[o,u]=T.useState({description:!1,elements:!1,primaryFocus:!1,composition:!1}),[c,f]=T.useState(null),[h,d]=T.useState({}),v=t.filter(w=>{var E;return(E=e.elements_present)==null?void 0:E.includes(w.id)}),_=(w,E,S)=>!r||!l?null:Gh(r,w,l),x={camera_type:`scenes.scene_${e.scene_id}.camera_type`,mood:`scenes.scene_${e.scene_id}.mood`,dialogue:`scenes.scene_${e.scene_id}.dialogue`,natural_description:`scenes.scene_${e.scene_id}.natural_description`,primary_focus:`scenes.scene_${e.scene_id}.primary_focus`,composition_approach:`scenes.scene_${e.scene_id}.composition_approach`},p=(w,E,S,j="text",D)=>{const O=c===S,V=x[S],z=_(V);return!z||!r||!l?m.jsxs("div",{className:"scene-field-row",children:[m.jsxs("strong",{className:"scene-field-label",children:[E,":"]}),m.jsx("div",{className:"scene-field-value-area",children:w||`No ${E.toLowerCase()}`})]}):m.jsxs("div",{className:"scene-field-row",children:[m.jsxs("strong",{className:"scene-field-label",children:[E,":"]}),m.jsx("div",{className:"scene-field-value-area",children:O?m.jsx("div",{className:"scene-field-edit-container",children:j==="textarea"?m.jsx("textarea",{value:h[S]??z.currentValue,onChange:ne=>{const X=ne.target.value;d(Pe=>({...Pe,[S]:X}))},onBlur:()=>{const ne=h[S]??z.currentValue;z.updateValue(ne),f(null)},onKeyDown:ne=>{ne.key==="Escape"&&(d(X=>{const{[S]:Pe,...R}=X;return R}),f(null))},className:"scene-field-textarea",autoFocus:!0,rows:3}):m.jsx("input",{type:"text",value:h[S]??z.currentValue,onChange:ne=>{const X=ne.target.value;d(Pe=>({...Pe,[S]:X}))},onBlur:()=>{const ne=h[S]??z.currentValue;z.updateValue(ne),f(null)},onKeyDown:ne=>{if(ne.key==="Enter"){const X=h[S]??z.currentValue;z.updateValue(X),f(null)}ne.key==="Escape"&&(d(X=>{const{[S]:Pe,...R}=X;return R}),f(null))},className:"scene-field-input",autoFocus:!0})}):m.jsx("div",{className:"scene-field-value-display editable-field",onClick:ne=>{ne.stopPropagation(),f(S),d(X=>({...X,[S]:z.currentValue}))},title:`Click to edit ${E.toLowerCase()}`,children:w||`No ${E.toLowerCase()}`})})]})},g=v.reduce((w,E)=>(w[E.type]||(w[E.type]=[]),w[E.type].push(E),w),{}),y={default:{scale:1,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",transition:{duration:.2}},hover:{scale:1.02,boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",transition:{duration:.2}},selected:{scale:1.02,boxShadow:"0 0 0 2px #3b82f6, 0 10px 15px -3px rgba(0, 0, 0, 0.1)",transition:{duration:.2}}},b={collapsed:{height:0,opacity:0},expanded:{height:"auto",opacity:1}};return m.jsx(ns.div,{variants:y,initial:"default",whileHover:"hover",animate:s?"selected":"default",className:"timeline-scene-card rounded-lg border overflow-hidden cursor-pointer",onClick:n,children:m.jsxs("div",{className:"scene-card-content",children:[m.jsxs("div",{className:"scene-card-header",children:[m.jsxs("span",{className:"scene-badge",children:["Scene ",e.scene_id]}),m.jsx("span",{className:"scene-duration",children:e.duration})]}),m.jsx("h3",{className:"scene-title",children:e.title}),p(e.camera_type||"","Camera","camera_type"),p(e.mood||"","Mood","mood"),p(e.dialogue||"","Speech","dialogue"),m.jsxs("div",{className:"scene-expandable-sections",children:[m.jsxs("div",{children:[m.jsxs("button",{onClick:w=>{w.stopPropagation(),u(E=>({...E,description:!E.description}))},className:`scene-expand-button ${o.description?"expanded":""}`,children:[m.jsx("span",{children:"📝 Description"}),m.jsx("span",{children:o.description?"▼":"▶"})]}),m.jsx(qr,{children:o.description&&m.jsx(ns.div,{variants:b,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"scene-expand-content",children:m.jsx("div",{className:"scene-expand-inner",children:p(e.natural_description||"","Description","natural_description","textarea")})})})]}),m.jsxs("div",{children:[m.jsxs("button",{onClick:w=>{w.stopPropagation(),u(E=>({...E,primaryFocus:!E.primaryFocus}))},className:`scene-expand-button ${o.primaryFocus?"expanded":""}`,children:[m.jsx("span",{children:"🎯 Primary Focus"}),m.jsx("span",{children:o.primaryFocus?"▼":"▶"})]}),m.jsx(qr,{children:o.primaryFocus&&m.jsx(ns.div,{variants:b,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"scene-expand-content",children:m.jsx("div",{className:"scene-expand-inner",children:p(e.primary_focus||"","Primary Focus","primary_focus","textarea")})})})]}),m.jsxs("div",{children:[m.jsxs("button",{onClick:w=>{w.stopPropagation(),u(E=>({...E,composition:!E.composition}))},className:`scene-expand-button ${o.composition?"expanded":""}`,children:[m.jsx("span",{children:"📐 Composition"}),m.jsx("span",{children:o.composition?"▼":"▶"})]}),m.jsx(qr,{children:o.composition&&m.jsx(ns.div,{variants:b,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"scene-expand-content",children:m.jsx("div",{className:"scene-expand-inner",children:p(e.composition_approach||"","Composition","composition_approach","textarea")})})})]}),m.jsxs("div",{children:[m.jsxs("button",{onClick:w=>{w.stopPropagation(),u(E=>({...E,elements:!E.elements}))},className:`scene-expand-button ${o.elements?"expanded":""}`,children:[m.jsxs("span",{children:["🎭 Elements (",v.length,")"]}),m.jsx("span",{children:o.elements?"▼":"▶"})]}),m.jsx(qr,{children:o.elements&&m.jsx(ns.div,{variants:b,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"scene-expand-content",children:m.jsx("div",{className:"scene-expand-inner",children:m.jsx("div",{className:"scene-elements-list",children:Object.entries(g).map(([w,E])=>m.jsxs("div",{className:"scene-element-group",children:[m.jsxs("span",{className:"scene-element-type",children:[w,":"]}),m.jsx("div",{className:"scene-element-tags",children:E.map(S=>m.jsx(ns.div,{whileHover:{scale:1.05},onMouseEnter:()=>i(S.id),onMouseLeave:()=>i(null),className:"scene-element-tag",style:{backgroundColor:a===S.id?S.color:`${S.color}20`,color:a===S.id?"white":S.color,borderColor:S.color},children:S.name},S.id))})]},w))})})})})]})]})]})})}function ER({content:e,projectId:t,projectName:n,phaseId:s,onContentUpdate:i}){var E;const[a,r]=T.useState(null),[l,o]=T.useState(null),[u,c]=T.useState(!1),[f,h]=T.useState(""),d=T.useMemo(()=>{if(!e||Object.keys(e).length===0)return{project_info:{title:"Loading...",client:"",schema_version:"1.0",production_workflow:""},global_style:{},scenes:[],elements:[],style_evolution:{color_evolution:[],mood_evolution:[],camera_progression:[]}};try{return wR.parsePhase1Content(e,n)}catch(S){return console.error("Error parsing timeline content:",S),{project_info:{title:"Parsing Error",client:"",schema_version:"1.0",production_workflow:""},global_style:{},scenes:[],elements:[],style_evolution:{color_evolution:[],mood_evolution:[],camera_progression:[]}}}},[e,n]),v=T.useMemo(()=>i?Gh(e,"project_metadata.title",i):null,[e,i]),_=()=>{if(!(v!=null&&v.currentValue)){console.error("Cannot edit title - title editor not available");return}h(v.currentValue),c(!0)},x=async()=>{if(!v||!f.trim()){c(!1);return}try{v.updateValue(f)&&c(!1)}catch(S){console.error("Error saving title:",S)}},p=()=>{h(""),c(!1)},g=T.useMemo(()=>{const S=d.scenes.reduce((V,z)=>{const ne=z.duration||"3s",X=parseInt(ne.replace(/[^\d]/g,""))||3;return V+X},0),j=Math.floor(S/60),D=S%60;return{totalDuration:j>0?`${j}m ${D}s`:`${S}s`,scenesCount:d.scenes.length,elementsCount:d.elements.length}},[d]),y=T.useMemo(()=>d.elements.map(D=>({...D,usage_percentage:Math.round(D.frequency/d.scenes.length*100)})).reduce((D,O)=>(D[O.type]||(D[O.type]=[]),D[O.type].push(O),D),{}),[d]),b=S=>{r(a===S?null:S)},w=S=>{o(S)};return d.scenes.length?m.jsxs("div",{className:"timeline-container",children:[m.jsx("div",{className:"timeline-header",children:m.jsxs("div",{className:"project-title-section",children:[u?m.jsxs("div",{className:"title-edit-container",children:[m.jsx("input",{type:"text",value:f,onChange:S=>h(S.target.value),onKeyDown:S=>{S.key==="Enter"&&x(),S.key==="Escape"&&p()},className:"title-edit-input",autoFocus:!0,onBlur:x}),m.jsxs("div",{className:"title-edit-buttons",children:[m.jsx("button",{onClick:x,className:"title-save-btn",children:"✓"}),m.jsx("button",{onClick:p,className:"title-cancel-btn",children:"✕"})]})]}):m.jsx("h1",{className:"project-title-display editable-title",onClick:_,title:"Click to edit project title",children:((E=d==null?void 0:d.project_info)==null?void 0:E.title)||"Untitled Project"}),m.jsxs("div",{className:"project-stats",children:[m.jsxs("span",{children:[m.jsx("strong",{children:g.scenesCount})," scenes"]}),m.jsx("span",{children:"•"}),m.jsxs("span",{children:[m.jsx("strong",{children:g.elementsCount})," elements"]}),m.jsx("span",{children:"•"}),m.jsxs("span",{children:[m.jsx("strong",{children:g.totalDuration})," total"]}),m.jsx("span",{children:"•"}),m.jsx("span",{children:m.jsx("strong",{children:d.project_info.client})})]})]})}),m.jsxs("div",{className:"elements-overview",children:[m.jsxs("div",{className:"elements-overview-header",children:[m.jsx("h3",{children:"Story Elements"}),m.jsxs("span",{className:"elements-count",children:[d.elements.length," total"]})]}),m.jsx("div",{className:"elements-horizontal",children:Object.entries(y).map(([S,j])=>m.jsxs("div",{className:"scene-element-group",children:[m.jsxs("span",{className:"scene-element-type",children:[S,"s:"]}),m.jsx("div",{className:"scene-element-tags",children:j.map(D=>m.jsxs(ns.div,{whileHover:{scale:1.05},onMouseEnter:()=>w(D.id),onMouseLeave:()=>w(null),className:"scene-element-tag",style:{backgroundColor:l===D.id?D.color:`${D.color}20`,color:l===D.id?"white":D.color,borderColor:D.color},children:[D.name," (",D.usage_percentage,"%)"]},D.id))})]},S))})]}),m.jsx("div",{className:"timeline-scenes",children:m.jsx("div",{className:"timeline-scenes-responsive-grid",children:d.scenes.map(S=>m.jsx(TR,{scene:S,elements:d.elements,isSelected:a===S.scene_id,hoveredElement:l,onSelect:()=>b(S.scene_id),onElementHover:w,masterJson:e,onSceneEdit:i},S.scene_id))})})]}):m.jsx("div",{className:"timeline-container",children:m.jsxs("div",{className:"timeline-header",children:[m.jsx("h2",{children:"Timeline View"}),m.jsx("p",{children:"No scenes available. Complete Phase 1 to see timeline."})]})})}function jR({masterJson:e,onContentUpdate:t}){const[n,s]=T.useState(null),[i,a]=T.useState({}),r={primary:"global_style.color_palette.primary",secondary:"global_style.color_palette.secondary",accent:"global_style.color_palette.accent",character_tones:"global_style.color_palette.character_tones",level:"global_style.rendering_style.level",line_work:"global_style.rendering_style.line_work",shading:"global_style.rendering_style.shading",detail_level:"global_style.rendering_style.detail_level",framing:"global_style.composition.framing",depth:"global_style.composition.depth",camera_style:"global_style.composition.camera_style",aspect_ratio:"global_style.composition.aspect_ratio",overall_mood:"global_style.mood_style.overall_mood",lighting_description:"global_style.mood_style.lighting_description",atmosphere:"global_style.mood_style.atmosphere",tone:"global_style.mood_style.tone"},l=c=>!e||!t?null:Gh(e,c,t),o=(c,f,h)=>{const d=n===h,v=r[h],_=l(v);return!_||!e||!t?m.jsxs("div",{className:"style-field-container",children:[m.jsxs("strong",{className:"style-field-label",children:[f,":"]}),m.jsx("div",{className:"style-field-value",children:c||`No ${f.toLowerCase()}`})]}):m.jsxs("div",{className:"scene-field-row",children:[m.jsxs("strong",{className:"scene-field-label",children:[f,":"]}),m.jsx("div",{className:"scene-field-value-area",children:d?m.jsx("div",{className:"scene-field-edit-container",children:m.jsx("input",{type:"text",value:i[h]??_.currentValue,onChange:x=>{const p=x.target.value;a(g=>({...g,[h]:p}))},onBlur:()=>{const x=i[h]??_.currentValue;_.updateValue(x),s(null)},onKeyDown:x=>{if(x.key==="Enter"){const p=i[h]??_.currentValue;_.updateValue(p),s(null)}x.key==="Escape"&&(a(p=>{const{[h]:g,...y}=p;return y}),s(null))},className:"scene-field-input",autoFocus:!0})}):m.jsx("div",{className:"scene-field-value-display editable-field",onClick:()=>s(h),children:c||"Click to edit"})})]})},u=c=>{const h=r[c].split(".");let d=e;for(const v of h){if(!d||typeof d!="object")return"";d=d[v]}return d||""};return m.jsx("div",{className:"style-control-container",children:m.jsxs("div",{className:"style-cards-container",children:[m.jsx("div",{className:"timeline-scene-card",children:m.jsxs("div",{className:"scene-card-content",children:[m.jsx("div",{className:"scene-card-header",children:m.jsx("h3",{className:"style-card-title",children:"Color Palette"})}),m.jsxs("div",{className:"style-grid-2x2",children:[o(u("primary"),"Primary","primary"),o(u("secondary"),"Secondary","secondary"),o(u("accent"),"Accent","accent"),o(u("character_tones"),"Character Tones","character_tones")]})]})}),m.jsx("div",{className:"timeline-scene-card",children:m.jsxs("div",{className:"scene-card-content",children:[m.jsx("div",{className:"scene-card-header",children:m.jsx("h3",{className:"style-card-title",children:"Rendering Style"})}),m.jsxs("div",{className:"style-grid-2x2",children:[o(u("level"),"Level","level"),o(u("line_work"),"Line Work","line_work"),o(u("shading"),"Shading","shading"),o(u("detail_level"),"Detail Level","detail_level")]})]})}),m.jsx("div",{className:"timeline-scene-card",children:m.jsxs("div",{className:"scene-card-content",children:[m.jsx("div",{className:"scene-card-header",children:m.jsx("h3",{className:"style-card-title",children:"Composition"})}),m.jsxs("div",{className:"style-grid-2x2",children:[o(u("framing"),"Framing","framing"),o(u("depth"),"Depth","depth"),o(u("camera_style"),"Camera Style","camera_style"),o(u("aspect_ratio"),"Aspect Ratio","aspect_ratio")]})]})}),m.jsx("div",{className:"timeline-scene-card",children:m.jsxs("div",{className:"scene-card-content",children:[m.jsx("div",{className:"scene-card-header",children:m.jsx("h3",{className:"style-card-title",children:"Mood Style"})}),m.jsxs("div",{className:"style-grid-2x2",children:[o(u("overall_mood"),"Overall Mood","overall_mood"),o(u("lighting_description"),"Lighting","lighting_description"),o(u("atmosphere"),"Atmosphere","atmosphere"),o(u("tone"),"Tone","tone")]})]})})]})})}const Gl=class Gl{static saveBackup(t,n,s){try{const i={masterJSON:n,timestamp:new Date().toISOString(),projectId:t,version:s},a=this.BACKUP_PREFIX+t;localStorage.setItem(a,JSON.stringify(i)),console.log("✅ Backup saved for project:",t)}catch(i){console.warn("Failed to save backup to localStorage:",i)}}static checkForRestoration(t,n){try{const s=this.BACKUP_PREFIX+t,i=localStorage.getItem(s);if(!i)return null;const a=JSON.parse(i);if(a.projectId===t&&a.masterJSON){const r=new Date(a.timestamp).getTime();if(Date.now()-r<this.BACKUP_EXPIRY_DAYS*24*60*60*1e3)return console.log("🔄 Found potential backup for restoration:",{backupVersion:a.version,currentVersion:n,timestamp:a.timestamp}),a}return null}catch(s){return console.warn("Failed to check backup from localStorage:",s),null}}static clearBackup(t){try{const n=this.BACKUP_PREFIX+t;localStorage.removeItem(n),console.log("🗑️ Backup cleared for project:",t)}catch(n){console.warn("Failed to clear backup from localStorage:",n)}}static cleanupOldBackups(){try{const t=[],n=Date.now()-this.BACKUP_EXPIRY_DAYS*24*60*60*1e3;for(let s=0;s<localStorage.length;s++){const i=localStorage.key(s);if(i!=null&&i.startsWith(this.BACKUP_PREFIX)){const a=localStorage.getItem(i);if(a){const r=JSON.parse(a);new Date(r.timestamp).getTime()<n&&t.push(i)}}}t.forEach(s=>localStorage.removeItem(s)),t.length>0&&console.log(`🧹 Cleaned up ${t.length} old backups`)}catch(t){console.warn("Failed to cleanup old backups:",t)}}};Gl.BACKUP_PREFIX="flow-studio-backup-",Gl.BACKUP_EXPIRY_DAYS=7;let pn=Gl;function AR({user:e}){var Zh;const{id:t}=eT(),n=co(),[s,i]=T.useState(null),[a,r]=T.useState([]),[l,o]=T.useState(null),[u,c]=T.useState("timeline"),[f,h]=T.useState(!0),[d,v]=T.useState({}),[_,x]=T.useState(!1),[p,g]=T.useState([]),[y,b]=T.useState(!1),[w,E]=T.useState(!0),[S,j]=T.useState(""),[D,O]=T.useState(!1),[V,z]=T.useState(!1),[ne,X]=T.useState(""),[Pe,R]=T.useState(!1),[N,M]=T.useState(null),[Z,ee]=T.useState({loaded:!1,version:0});T.useEffect(()=>{if(!t){n("/dashboard");return}pn.cleanupOldBackups(),Xn()},[t,n]);const Gn=T.useCallback(async()=>{if(t){ee({loaded:!1,version:0});try{const C=await VE(t);if(C){v(C),j(JSON.stringify(C,null,2));const Y=await Zm(t);Y&&ee({loaded:!0,version:Y.current_version,lastSaved:Y.updated_at}),O(!1);const ot=pn.checkForRestoration(t,Y.current_version);ot&&(M(ot),R(!0))}else ee({loaded:!1,version:0,error:"Master JSON not found"})}catch(C){console.error("Error loading master JSON:",C),ee({loaded:!1,version:0,error:"Failed to load master JSON"})}}},[t]),Yn=T.useCallback(async()=>{if(!t)return;b(!0);const C=await BE(t);g(C),b(!1)},[t]),Li=T.useCallback(async C=>{if(!t)return;const Y=await PE(t,C);Y&&Y.master_json&&(v(Y.master_json),j(JSON.stringify(Y.master_json,null,2)),O(!0),x(!1))},[t]),lt=T.useCallback(async()=>{if(!t||!S.trim()){X("No content to save");return}z(!0),X("");try{const C=JSON.parse(S);if(await LE(t,C,"Master JSON updated")){v(C),O(!1),pn.clearBackup(t);const ot=a.find(Pi=>Pi.phase_name===l),wo=C.scenes&&typeof C.scenes=="object"&&C.scenes!==null&&Object.keys(C.scenes).length>0;await Gn();const To=await Fm(t);r(To);const Eo=To.find(Pi=>Pi.phase_index===2),jo=To.find(Pi=>Pi.phase_index===3);wo&&(!(Eo!=null&&Eo.can_proceed)||!(jo!=null&&jo.can_proceed))&&(console.warn("Phase unlock validation failed - phases not unlocked as expected"),X("Phases should have unlocked but didn't. Please refresh the page."))}else X("Failed to save master JSON to database")}catch(C){console.error("Error saving master JSON:",C),C instanceof SyntaxError?X("Invalid JSON format. Please check your syntax."):C.message.includes("database")||C.message.includes("supabase")?X("Database connection failed. Please check your internet connection and try again."):C.message.includes("project not found")?X("Project not found. Please refresh the page and try again."):C.message.includes("reload data")?X("Save succeeded but failed to reload. Please refresh the page to see changes."):X(`Save failed: ${C.message||"Unknown error occurred"}`)}finally{z(!1)}},[t,S]),Xn=async()=>{if(!t)return;h(!0);const[C,Y]=await Promise.all([Zm(t),Fm(t)]);if(!C){n("/dashboard");return}i(C),r(Y);const ot=Y.find(wo=>wo.can_proceed);ot&&o(ot.phase_name),await Gn(),h(!1)},Bi=C=>({script_interpretation:"Script Interpretation",element_images:"Element Images",scene_generation:"Scene Generation",scene_videos:"Scene Videos",final_assembly:"Final Assembly"})[C]||C,Yh=C=>({script_interpretation:"📄",element_images:"🎨",scene_generation:"🎬",scene_videos:"🎥",final_assembly:"🎞️"})[C]||"📋",Xh=C=>C.status==="completed"?"#00cc00":C.status==="processing"?"#ff9900":C.can_proceed?"#0066cc":"#666",Kh=C=>C.status==="completed"?"Completed":C.status==="processing"?"Processing":C.can_proceed?"Available":"Locked",S_=C=>{!C.can_proceed&&C.status!=="completed"||o(C.phase_name)};T.useCallback(async C=>{console.log("loadPhaseContent called but deprecated - using master JSON")},[]);const Qh=T.useCallback(C=>{j(C),O(!0)},[]);T.useCallback(async()=>{console.warn("handleSavePhase called - redirecting to handleSaveJSON"),await lt()},[lt]);const x_=()=>{const C=a.find(Y=>Y.phase_name===l);if(!C||!s)return null;switch(u){case"json":return m.jsxs("div",{className:"view-content-container",children:[m.jsxs("div",{className:"view-content-header",children:[m.jsx("span",{className:"view-content-title",children:l==="script_interpretation"?`JSON Content (Phase ${C.phase_index})`:`Base Script Content (From Phase 1 → Phase ${C.phase_index})`}),m.jsx("span",{className:"view-content-subtitle",children:S||d?"Master JSON loaded":"No content - Complete Phase 1 first"})]}),m.jsx("div",{className:"json-editor",children:m.jsx("textarea",{value:S||(d?JSON.stringify(d,null,2):""),onChange:Y=>Qh(Y.target.value),className:"json-textarea",style:{width:"100%",minHeight:"500px",fontFamily:"Monaco, Menlo, Consolas, monospace",fontSize:"0.875rem",padding:"1rem",border:"1px solid var(--color-border-default)",borderRadius:"4px",background:"var(--color-bg-secondary)",color:"var(--color-text-primary)",resize:"vertical"},placeholder:"No script interpretation content available - Please complete Phase 1 first to proceed with subsequent phases.",disabled:l!=="script_interpretation"})})]});case"timeline":if(d&&Object.keys(d).length>0){const Y=d;return m.jsx(ER,{content:Y,projectId:s.id,projectName:s.name,phaseId:C.id,onContentUpdate:ot=>{v(ot),j(JSON.stringify(ot,null,2)),O(!0),pn.saveBackup(t,ot,Z.version)}})}return m.jsxs("div",{className:"view-placeholder",children:[m.jsx("div",{className:"view-placeholder-icon",children:"📊"}),m.jsx("h3",{className:"view-placeholder-title",children:"Timeline View"}),m.jsxs("p",{children:["Story foundation for ",C.phase_name.replace("_"," ")]}),m.jsx("p",{children:m.jsx("em",{children:"Complete Phase 1 first to see the timeline foundation"})})]});case"elements":return m.jsxs("div",{className:"view-placeholder",children:[m.jsx("div",{className:"view-placeholder-icon",children:"🎭"}),m.jsx("h3",{className:"view-placeholder-title",children:"Elements View"}),m.jsx("p",{children:"Cross-scene element management (Phase 2+)"})]});case"style":return d&&Object.keys(d).length>0?m.jsx(jR,{masterJson:d,onContentUpdate:Y=>{v(Y),j(JSON.stringify(Y,null,2)),O(!0),pn.saveBackup(t,Y,Z.version)}}):m.jsxs("div",{className:"view-placeholder",children:[m.jsx("div",{className:"view-placeholder-icon",children:"🎨"}),m.jsx("h3",{className:"view-placeholder-title",children:"Style Control"}),m.jsx("p",{children:m.jsx("em",{children:"Complete Phase 1 first to access style controls"})})]});default:return null}},w_=()=>{if(!s)return null;const C=Vc.getCompletedPhases(d),Y=a.find(ot=>ot.phase_name===l);return m.jsx("div",{className:"project-header-sticky",children:m.jsxs("div",{className:"flex justify-between items-center text-sm text-muted",children:[m.jsxs("div",{children:["Project: ",m.jsx("strong",{className:"text-primary",children:s.name})]}),m.jsxs("div",{className:"project-status-center",children:["Progress: ",m.jsxs("strong",{className:"text-success",children:[C,"/5 phases completed"]}),D&&m.jsx("span",{className:"unsaved-changes-indicator",children:"• ⚠️ Unsaved Changes"})]}),m.jsxs("div",{className:"header-actions",children:[m.jsx("button",{onClick:lt,disabled:V||!D||!S.trim(),className:`btn text-xs px-md py-xs ${!D||!S.trim()||V?"btn-secondary":"btn-success"}`,children:V?"💾 Saving...":D?"💾 Save":"✅ Saved"}),Z.version>0&&m.jsx("button",{onClick:()=>{Yn(),x(!0)},className:"btn text-xs px-md py-xs btn-secondary",children:"📋 History"}),Y&&m.jsxs("span",{className:"current-phase-status",children:["Phase ",Y.phase_index,": ",m.jsx("strong",{className:"text-accent",children:Bi(Y.phase_name)})]})]})]})})},T_=()=>{const C=a.find(Y=>Y.phase_name===l);return!C||!s?null:m.jsx("div",{className:"phase-content-container",children:l==="script_interpretation"?m.jsx(qE,{phase:C,projectId:s.id,projectName:s.name,onContentChange:Xn,jsonContent:S,hasUnsavedChanges:D,isSaving:V,error:ne,databaseStatus:Z,showVersionHistory:_,versionHistory:p,loadingVersions:y,onJsonChange:Qh,onSavePhase:lt,onLoadPhaseContent:()=>{},onLoadVersionHistory:()=>Yn(),onLoadVersionContent:Y=>Li(Y),onShowVersionHistory:x,useProduction:w,onUseProductionChange:E}):m.jsxs("div",{className:"phase-content-container",children:[m.jsx("div",{className:"phase-content-header",children:m.jsxs("div",{children:[m.jsxs("h2",{className:"phase-content-title",children:[Yh(C.phase_name)," ",Bi(C.phase_name)]}),m.jsxs("div",{className:"phase-content-meta",children:[m.jsxs("span",{children:["Phase ",C.phase_index," of 5"]}),m.jsx("span",{className:"phase-status",style:{background:Xh(C)},children:Kh(C)})]})]})}),m.jsx("div",{className:"phase-placeholder",children:m.jsxs("div",{className:"phase-placeholder-content",children:[m.jsx("div",{className:"phase-placeholder-icon",children:Yh(C.phase_name)}),m.jsxs("h3",{className:"phase-placeholder-title",children:[Bi(C.phase_name)," Module"]}),m.jsxs("p",{className:"phase-placeholder-description",children:["This phase module will be implemented next. It will handle the ",C.phase_name.replace("_"," "),"workflow including n8n integration, content generation, and user approval interface."]}),C.can_proceed&&!C.user_saved&&m.jsx("div",{children:m.jsxs("button",{className:"phase-start-button",children:["Start ",Bi(C.phase_name)]})})]})})]})})};return f?m.jsx("div",{className:"loading-container",children:"Loading project..."}):!s||!t?m.jsx("div",{className:"loading-container",children:"Project not found"}):m.jsxs("div",{className:"project-detail-container",children:[m.jsxs("div",{className:"project-detail-sidebar",children:[m.jsxs("div",{className:"phase-placeholder-section",children:[m.jsx("button",{onClick:()=>n("/dashboard"),className:"back-button",children:"← Back to Projects"}),m.jsx("h1",{className:"project-title",children:s.name}),m.jsx("p",{className:"project-client",children:((Zh=d==null?void 0:d.project_metadata)==null?void 0:Zh.client)||"Unknown Client"})]}),m.jsxs("div",{className:"phase-placeholder-section",children:[m.jsx("h3",{className:"phases-section-title",children:"Project Phases"}),m.jsx("div",{className:"phases-list",children:a.map(C=>m.jsx("button",{onClick:()=>S_(C),disabled:!C.can_proceed&&!C.user_saved,className:`phase-button-container ${l===C.phase_name?"active":""}`,children:m.jsxs("div",{className:"phase-button-row",children:[m.jsx("div",{className:"phase-number-column",children:m.jsx("span",{className:"phase-number",children:C.phase_index})}),m.jsxs("div",{className:"phase-info-column",children:[m.jsx("div",{className:"phase-name",children:Bi(C.phase_name)}),m.jsx("div",{className:"phase-status-text",children:Kh(C)})]}),m.jsx("div",{className:"phase-status-dot",style:{background:Xh(C)}})]})},C.id))})]}),m.jsxs("div",{className:"progress-summary",children:[m.jsx("strong",{children:"Progress:"})," ",Vc.getCompletedPhases(d)," of 5 phases completed"]})]}),m.jsxs("div",{className:"project-main-content",children:[w_(),m.jsxs("div",{className:"project-area project-area-1 project-nav-sticky",children:[m.jsx("div",{className:"project-area-header area-header-1",children:"🧭 AREA 1: NAVIGATION BAR (4 TABS)"}),m.jsx($E,{activeView:u,onViewChange:c,masterJSON:d})]}),m.jsxs("div",{className:"project-area project-area-2",children:[m.jsx("div",{className:"project-area-header area-header-2",children:"🔧 AREA 2: PHASE CONTENT"}),T_()]}),m.jsxs("div",{className:"project-area project-area-3",children:[m.jsx("div",{className:"project-area-header area-header-3",children:"📄 AREA 3: CONTENT AREA (JSON | TIMELINE | ELEMENTS | STYLE)"}),x_()]})]}),Pe&&N&&m.jsx("div",{className:"modal-overlay",children:m.jsxs("div",{className:"modal-content modal-width-500",children:[m.jsx("h2",{className:"text-primary text-2xl mb-xl flex items-center gap-md mb-0",children:"💾 Restore Unsaved Changes?"}),m.jsxs("div",{className:"bg-warning border border-light p-xl rounded-md mb-2xl",children:[m.jsx("p",{className:"text-secondary mb-md mb-0",children:"We found unsaved changes from your previous session."}),m.jsxs("p",{className:"text-sm text-muted mb-0",children:["Backup saved: ",new Date(N.timestamp).toLocaleString()]})]}),m.jsx("div",{className:"db-status db-status-info mb-2xl",children:m.jsx("p",{className:"text-sm mb-0",children:"✨ Your changes will be restored and you can continue editing where you left off."})}),m.jsxs("div",{className:"flex gap-xl justify-end",children:[m.jsx("button",{onClick:()=>{R(!1),M(null),pn.clearBackup(t)},className:"btn btn-secondary",children:"Discard Changes"}),m.jsx("button",{onClick:()=>{v(N.masterJSON),j(JSON.stringify(N.masterJSON,null,2)),O(!0),R(!1),M(null)},className:"btn btn-primary",children:"🔄 Restore Changes"})]})]})})]})}function OR(){const[e,t]=T.useState(null),[n,s]=T.useState(!0);return T.useEffect(()=>{ke.auth.getSession().then(({data:{session:a}})=>{t((a==null?void 0:a.user)??null),s(!1)});const{data:{subscription:i}}=ke.auth.onAuthStateChange((a,r)=>{t((r==null?void 0:r.user)??null)});return()=>i.unsubscribe()},[]),n?m.jsx("div",{className:"app-loading",children:"Loading..."}):m.jsxs(gT,{children:[m.jsx(ea,{path:"/login",element:e?m.jsx(Ur,{to:"/dashboard",replace:!0}):m.jsx(ME,{})}),m.jsx(ea,{path:"/dashboard",element:e?m.jsx(HE,{user:e}):m.jsx(Ur,{to:"/login",replace:!0})}),m.jsx(ea,{path:"/project/:id",element:e?m.jsx(AR,{user:e}):m.jsx(Ur,{to:"/login",replace:!0})}),m.jsx(ea,{path:"/",element:m.jsx(Ur,{to:e?"/dashboard":"/login",replace:!0})})]})}Ew.createRoot(document.getElementById("root")).render(m.jsx(T.StrictMode,{children:m.jsx(bT,{children:m.jsx(OR,{})})}));
