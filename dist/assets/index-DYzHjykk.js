function A_(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var bt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function C_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function O_(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}),n}var dg={exports:{}},Xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_=Symbol.for("react.transitional.element"),R_=Symbol.for("react.fragment");function mg(e,t,n){var s=null;if(n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:N_,type:e,key:s,ref:t!==void 0?t:null,props:n}}Xl.Fragment=R_;Xl.jsx=mg;Xl.jsxs=mg;dg.exports=Xl;var d=dg.exports,pg={exports:{}},P={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af=Symbol.for("react.transitional.element"),D_=Symbol.for("react.portal"),M_=Symbol.for("react.fragment"),k_=Symbol.for("react.strict_mode"),U_=Symbol.for("react.profiler"),L_=Symbol.for("react.consumer"),V_=Symbol.for("react.context"),P_=Symbol.for("react.forward_ref"),B_=Symbol.for("react.suspense"),z_=Symbol.for("react.memo"),gg=Symbol.for("react.lazy"),Jh=Symbol.iterator;function H_(e){return e===null||typeof e!="object"?null:(e=Jh&&e[Jh]||e["@@iterator"],typeof e=="function"?e:null)}var yg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vg=Object.assign,bg={};function Ti(e,t,n){this.props=e,this.context=t,this.refs=bg,this.updater=n||yg}Ti.prototype.isReactComponent={};Ti.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ti.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _g(){}_g.prototype=Ti.prototype;function rf(e,t,n){this.props=e,this.context=t,this.refs=bg,this.updater=n||yg}var lf=rf.prototype=new _g;lf.constructor=rf;vg(lf,Ti.prototype);lf.isPureReactComponent=!0;var Ih=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},Sg=Object.prototype.hasOwnProperty;function of(e,t,n,s,i,a){return n=a.ref,{$$typeof:af,type:e,key:t,ref:n!==void 0?n:null,props:a}}function q_(e,t){return of(e.type,t,void 0,void 0,void 0,e.props)}function cf(e){return typeof e=="object"&&e!==null&&e.$$typeof===af}function $_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Wh=/\/+/g;function Co(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$_(""+e.key):t.toString(36)}function ed(){}function G_(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(ed,ed):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Ms(e,t,n,s,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var r=!1;if(e===null)r=!0;else switch(a){case"bigint":case"string":case"number":r=!0;break;case"object":switch(e.$$typeof){case af:case D_:r=!0;break;case gg:return r=e._init,Ms(r(e._payload),t,n,s,i)}}if(r)return i=i(e),r=s===""?"."+Co(e,0):s,Ih(i)?(n="",r!=null&&(n=r.replace(Wh,"$&/")+"/"),Ms(i,t,n,"",function(c){return c})):i!=null&&(cf(i)&&(i=q_(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(Wh,"$&/")+"/")+r)),t.push(i)),1;r=0;var l=s===""?".":s+":";if(Ih(e))for(var o=0;o<e.length;o++)s=e[o],a=l+Co(s,o),r+=Ms(s,t,n,a,i);else if(o=H_(e),typeof o=="function")for(e=o.call(e),o=0;!(s=e.next()).done;)s=s.value,a=l+Co(s,o++),r+=Ms(s,t,n,a,i);else if(a==="object"){if(typeof e.then=="function")return Ms(G_(e),t,n,s,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return r}function Sr(e,t,n){if(e==null)return e;var s=[],i=0;return Ms(e,s,"","",function(a){return t.call(n,a,i++)}),s}function Y_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var td=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function X_(){}P.Children={map:Sr,forEach:function(e,t,n){Sr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Sr(e,function(){t++}),t},toArray:function(e){return Sr(e,function(t){return t})||[]},only:function(e){if(!cf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};P.Component=Ti;P.Fragment=M_;P.Profiler=U_;P.PureComponent=rf;P.StrictMode=k_;P.Suspense=B_;P.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe;P.__COMPILER_RUNTIME={__proto__:null,c:function(e){return oe.H.useMemoCache(e)}};P.cache=function(e){return function(){return e.apply(null,arguments)}};P.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var s=vg({},e.props),i=e.key,a=void 0;if(t!=null)for(r in t.ref!==void 0&&(a=void 0),t.key!==void 0&&(i=""+t.key),t)!Sg.call(t,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&t.ref===void 0||(s[r]=t[r]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];s.children=l}return of(e.type,i,void 0,void 0,a,s)};P.createContext=function(e){return e={$$typeof:V_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:L_,_context:e},e};P.createElement=function(e,t,n){var s,i={},a=null;if(t!=null)for(s in t.key!==void 0&&(a=""+t.key),t)Sg.call(t,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(i[s]=t[s]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var l=Array(r),o=0;o<r;o++)l[o]=arguments[o+2];i.children=l}if(e&&e.defaultProps)for(s in r=e.defaultProps,r)i[s]===void 0&&(i[s]=r[s]);return of(e,a,void 0,void 0,null,i)};P.createRef=function(){return{current:null}};P.forwardRef=function(e){return{$$typeof:P_,render:e}};P.isValidElement=cf;P.lazy=function(e){return{$$typeof:gg,_payload:{_status:-1,_result:e},_init:Y_}};P.memo=function(e,t){return{$$typeof:z_,type:e,compare:t===void 0?null:t}};P.startTransition=function(e){var t=oe.T,n={};oe.T=n;try{var s=e(),i=oe.S;i!==null&&i(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(X_,td)}catch(a){td(a)}finally{oe.T=t}};P.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()};P.use=function(e){return oe.H.use(e)};P.useActionState=function(e,t,n){return oe.H.useActionState(e,t,n)};P.useCallback=function(e,t){return oe.H.useCallback(e,t)};P.useContext=function(e){return oe.H.useContext(e)};P.useDebugValue=function(){};P.useDeferredValue=function(e,t){return oe.H.useDeferredValue(e,t)};P.useEffect=function(e,t,n){var s=oe.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return s.useEffect(e,t)};P.useId=function(){return oe.H.useId()};P.useImperativeHandle=function(e,t,n){return oe.H.useImperativeHandle(e,t,n)};P.useInsertionEffect=function(e,t){return oe.H.useInsertionEffect(e,t)};P.useLayoutEffect=function(e,t){return oe.H.useLayoutEffect(e,t)};P.useMemo=function(e,t){return oe.H.useMemo(e,t)};P.useOptimistic=function(e,t){return oe.H.useOptimistic(e,t)};P.useReducer=function(e,t,n){return oe.H.useReducer(e,t,n)};P.useRef=function(e){return oe.H.useRef(e)};P.useState=function(e){return oe.H.useState(e)};P.useSyncExternalStore=function(e,t,n){return oe.H.useSyncExternalStore(e,t,n)};P.useTransition=function(){return oe.H.useTransition()};P.version="19.1.0";pg.exports=P;var T=pg.exports;const K_=C_(T),Q_=A_({__proto__:null,default:K_},[T]);var xg={exports:{}},Kl={},wg={exports:{}},Tg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,D){var M=N.length;N.push(D);e:for(;0<M;){var Z=M-1>>>1,te=N[Z];if(0<i(te,D))N[Z]=D,N[M]=te,M=Z;else break e}}function n(N){return N.length===0?null:N[0]}function s(N){if(N.length===0)return null;var D=N[0],M=N.pop();if(M!==D){N[0]=M;e:for(var Z=0,te=N.length,Yn=te>>>1;Z<Yn;){var Xn=2*(Z+1)-1,Vi=N[Xn],lt=Xn+1,Kn=N[lt];if(0>i(Vi,M))lt<te&&0>i(Kn,Vi)?(N[Z]=Kn,N[lt]=M,Z=lt):(N[Z]=Vi,N[Xn]=M,Z=Xn);else if(lt<te&&0>i(Kn,M))N[Z]=Kn,N[lt]=M,Z=lt;else break e}}return D}function i(N,D){var M=N.sortIndex-D.sortIndex;return M!==0?M:N.id-D.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var r=Date,l=r.now();e.unstable_now=function(){return r.now()-l}}var o=[],c=[],u=1,f=null,h=3,m=!1,v=!1,_=!1,x=!1,p=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;function S(N){for(var D=n(c);D!==null;){if(D.callback===null)s(c);else if(D.startTime<=N)s(c),D.sortIndex=D.expirationTime,t(o,D);else break;D=n(c)}}function w(N){if(_=!1,S(N),!v)if(n(o)!==null)v=!0,E||(E=!0,z());else{var D=n(c);D!==null&&F(w,D.startTime-N)}}var E=!1,b=-1,j=5,C=-1;function O(){return x?!0:!(e.unstable_now()-C<j)}function L(){if(x=!1,E){var N=e.unstable_now();C=N;var D=!0;try{e:{v=!1,_&&(_=!1,g(b),b=-1),m=!0;var M=h;try{t:{for(S(N),f=n(o);f!==null&&!(f.expirationTime>N&&O());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var te=Z(f.expirationTime<=N);if(N=e.unstable_now(),typeof te=="function"){f.callback=te,S(N),D=!0;break t}f===n(o)&&s(o),S(N)}else s(o);f=n(o)}if(f!==null)D=!0;else{var Yn=n(c);Yn!==null&&F(w,Yn.startTime-N),D=!1}}break e}finally{f=null,h=M,m=!1}D=void 0}}finally{D?z():E=!1}}}var z;if(typeof y=="function")z=function(){y(L)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,G=re.port2;re.port1.onmessage=L,z=function(){G.postMessage(null)}}else z=function(){p(L,0)};function F(N,D){b=p(function(){N(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(N){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var M=h;h=D;try{return N()}finally{h=M}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(N,D){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var M=h;h=N;try{return D()}finally{h=M}},e.unstable_scheduleCallback=function(N,D,M){var Z=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?Z+M:Z):M=Z,N){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=M+te,N={id:u++,callback:D,priorityLevel:N,startTime:M,expirationTime:te,sortIndex:-1},M>Z?(N.sortIndex=M,t(c,N),n(o)===null&&N===n(c)&&(_?(g(b),b=-1):_=!0,F(w,M-Z))):(N.sortIndex=te,t(o,N),v||m||(v=!0,E||(E=!0,z()))),N},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(N){var D=h;return function(){var M=h;h=D;try{return N.apply(this,arguments)}finally{h=M}}}})(Tg);wg.exports=Tg;var Z_=wg.exports,jg={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_=T;function Eg(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function rn(){}var He={d:{f:rn,r:function(){throw Error(Eg(522))},D:rn,C:rn,L:rn,m:rn,X:rn,S:rn,M:rn},p:0,findDOMNode:null},J_=Symbol.for("react.portal");function I_(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J_,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}var ia=F_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Ql(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}$e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=He;$e.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Eg(299));return I_(e,t,null,n)};$e.flushSync=function(e){var t=ia.T,n=He.p;try{if(ia.T=null,He.p=2,e)return e()}finally{ia.T=t,He.p=n,He.d.f()}};$e.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,He.d.C(e,t))};$e.prefetchDNS=function(e){typeof e=="string"&&He.d.D(e)};$e.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,s=Ql(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?He.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:s,integrity:i,fetchPriority:a}):n==="script"&&He.d.X(e,{crossOrigin:s,integrity:i,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};$e.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Ql(t.as,t.crossOrigin);He.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&He.d.M(e)};$e.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,s=Ql(n,t.crossOrigin);He.d.L(e,n,{crossOrigin:s,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};$e.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Ql(t.as,t.crossOrigin);He.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else He.d.m(e)};$e.requestFormReset=function(e){He.d.r(e)};$e.unstable_batchedUpdates=function(e,t){return e(t)};$e.useFormState=function(e,t,n){return ia.H.useFormState(e,t,n)};$e.useFormStatus=function(){return ia.H.useHostTransitionStatus()};$e.version="19.1.0";function Ag(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ag)}catch(e){console.error(e)}}Ag(),jg.exports=$e;var W_=jg.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var je=Z_,Cg=T,eS=W_;function A(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Og(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ng(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function nd(e){if(Fa(e)!==e)throw Error(A(188))}function tS(e){var t=e.alternate;if(!t){if(t=Fa(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return nd(i),e;if(a===s)return nd(i),t;a=a.sibling}throw Error(A(188))}if(n.return!==s.return)n=i,s=a;else{for(var r=!1,l=i.child;l;){if(l===n){r=!0,n=i,s=a;break}if(l===s){r=!0,s=i,n=a;break}l=l.sibling}if(!r){for(l=a.child;l;){if(l===n){r=!0,n=a,s=i;break}if(l===s){r=!0,s=a,n=i;break}l=l.sibling}if(!r)throw Error(A(189))}}if(n.alternate!==s)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function Rg(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Rg(e),t!==null)return t;e=e.sibling}return null}var ae=Object.assign,nS=Symbol.for("react.element"),xr=Symbol.for("react.transitional.element"),Ji=Symbol.for("react.portal"),Bs=Symbol.for("react.fragment"),Dg=Symbol.for("react.strict_mode"),Rc=Symbol.for("react.profiler"),sS=Symbol.for("react.provider"),Mg=Symbol.for("react.consumer"),Yt=Symbol.for("react.context"),uf=Symbol.for("react.forward_ref"),Dc=Symbol.for("react.suspense"),Mc=Symbol.for("react.suspense_list"),ff=Symbol.for("react.memo"),hn=Symbol.for("react.lazy"),kc=Symbol.for("react.activity"),iS=Symbol.for("react.memo_cache_sentinel"),sd=Symbol.iterator;function zi(e){return e===null||typeof e!="object"?null:(e=sd&&e[sd]||e["@@iterator"],typeof e=="function"?e:null)}var aS=Symbol.for("react.client.reference");function Uc(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===aS?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Bs:return"Fragment";case Rc:return"Profiler";case Dg:return"StrictMode";case Dc:return"Suspense";case Mc:return"SuspenseList";case kc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ji:return"Portal";case Yt:return(e.displayName||"Context")+".Provider";case Mg:return(e._context.displayName||"Context")+".Consumer";case uf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ff:return t=e.displayName||null,t!==null?t:Uc(e.type)||"Memo";case hn:t=e._payload,e=e._init;try{return Uc(e(t))}catch{}}return null}var Ii=Array.isArray,U=Cg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=eS.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ls={pending:!1,data:null,method:null,action:null},Lc=[],zs=-1;function Vt(e){return{current:e}}function Re(e){0>zs||(e.current=Lc[zs],Lc[zs]=null,zs--)}function ce(e,t){zs++,Lc[zs]=e.current,e.current=t}var Rt=Vt(null),Ea=Vt(null),En=Vt(null),ol=Vt(null);function cl(e,t){switch(ce(En,t),ce(Ea,e),ce(Rt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?om(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=om(t),e=Fv(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Re(Rt),ce(Rt,e)}function ui(){Re(Rt),Re(Ea),Re(En)}function Vc(e){e.memoizedState!==null&&ce(ol,e);var t=Rt.current,n=Fv(t,e.type);t!==n&&(ce(Ea,e),ce(Rt,n))}function ul(e){Ea.current===e&&(Re(Rt),Re(Ea)),ol.current===e&&(Re(ol),La._currentValue=ls)}var Pc=Object.prototype.hasOwnProperty,hf=je.unstable_scheduleCallback,Oo=je.unstable_cancelCallback,rS=je.unstable_shouldYield,lS=je.unstable_requestPaint,Dt=je.unstable_now,oS=je.unstable_getCurrentPriorityLevel,kg=je.unstable_ImmediatePriority,Ug=je.unstable_UserBlockingPriority,fl=je.unstable_NormalPriority,cS=je.unstable_LowPriority,Lg=je.unstable_IdlePriority,uS=je.log,fS=je.unstable_setDisableYieldValue,Ja=null,nt=null;function Sn(e){if(typeof uS=="function"&&fS(e),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(Ja,e)}catch{}}var st=Math.clz32?Math.clz32:mS,hS=Math.log,dS=Math.LN2;function mS(e){return e>>>=0,e===0?32:31-(hS(e)/dS|0)|0}var wr=256,Tr=4194304;function In(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zl(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var i=0,a=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var l=s&134217727;return l!==0?(s=l&~a,s!==0?i=In(s):(r&=l,r!==0?i=In(r):n||(n=l&~e,n!==0&&(i=In(n))))):(l=s&~a,l!==0?i=In(l):r!==0?i=In(r):n||(n=s&~e,n!==0&&(i=In(n)))),i===0?0:t!==0&&t!==i&&!(t&a)&&(a=i&-i,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:i}function Ia(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function pS(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vg(){var e=wr;return wr<<=1,!(wr&4194048)&&(wr=256),e}function Pg(){var e=Tr;return Tr<<=1,!(Tr&62914560)&&(Tr=4194304),e}function No(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wa(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function gS(e,t,n,s,i,a){var r=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,o=e.expirationTimes,c=e.hiddenUpdates;for(n=r&~n;0<n;){var u=31-st(n),f=1<<u;l[u]=0,o[u]=-1;var h=c[u];if(h!==null)for(c[u]=null,u=0;u<h.length;u++){var m=h[u];m!==null&&(m.lane&=-536870913)}n&=~f}s!==0&&Bg(e,s,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(r&~t))}function Bg(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-st(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&4194090}function zg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-st(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}function df(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mf(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Hg(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:r0(e.type))}function yS(e,t){var n=Q.p;try{return Q.p=e,t()}finally{Q.p=n}}var zn=Math.random().toString(36).slice(2),Ve="__reactFiber$"+zn,Fe="__reactProps$"+zn,ji="__reactContainer$"+zn,Bc="__reactEvents$"+zn,vS="__reactListeners$"+zn,bS="__reactHandles$"+zn,id="__reactResources$"+zn,er="__reactMarker$"+zn;function pf(e){delete e[Ve],delete e[Fe],delete e[Bc],delete e[vS],delete e[bS]}function Hs(e){var t=e[Ve];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ji]||n[Ve]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fm(e);e!==null;){if(n=e[Ve])return n;e=fm(e)}return t}e=n,n=e.parentNode}return null}function Ei(e){if(e=e[Ve]||e[ji]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Wi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(A(33))}function ni(e){var t=e[id];return t||(t=e[id]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Oe(e){e[er]=!0}var qg=new Set,$g={};function Ss(e,t){fi(e,t),fi(e+"Capture",t)}function fi(e,t){for($g[e]=t,e=0;e<t.length;e++)qg.add(t[e])}var _S=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ad={},rd={};function SS(e){return Pc.call(rd,e)?!0:Pc.call(ad,e)?!1:_S.test(e)?rd[e]=!0:(ad[e]=!0,!1)}function Yr(e,t,n){if(SS(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function jr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Bt(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}var Ro,ld;function ks(e){if(Ro===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ro=t&&t[1]||"",ld=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ro+e+ld}var Do=!1;function Mo(e,t){if(!e||Do)return"";Do=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){h=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=s.DetermineComponentFrameRoot(),r=a[0],l=a[1];if(r&&l){var o=r.split(`
`),c=l.split(`
`);for(i=s=0;s<o.length&&!o[s].includes("DetermineComponentFrameRoot");)s++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(s===o.length||i===c.length)for(s=o.length-1,i=c.length-1;1<=s&&0<=i&&o[s]!==c[i];)i--;for(;1<=s&&0<=i;s--,i--)if(o[s]!==c[i]){if(s!==1||i!==1)do if(s--,i--,0>i||o[s]!==c[i]){var u=`
`+o[s].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=s&&0<=i);break}}}finally{Do=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ks(n):""}function xS(e){switch(e.tag){case 26:case 27:case 5:return ks(e.type);case 16:return ks("Lazy");case 13:return ks("Suspense");case 19:return ks("SuspenseList");case 0:case 15:return Mo(e.type,!1);case 11:return Mo(e.type.render,!1);case 1:return Mo(e.type,!0);case 31:return ks("Activity");default:return""}}function od(e){try{var t="";do t+=xS(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wS(e){var t=Gg(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(r){s=""+r,a.call(this,r)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(r){s=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hl(e){e._valueTracker||(e._valueTracker=wS(e))}function Yg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Gg(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function dl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var TS=/[\n"\\]/g;function pt(e){return e.replace(TS,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function zc(e,t,n,s,i,a,r,l){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ht(t)):e.value!==""+ht(t)&&(e.value=""+ht(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?Hc(e,r,ht(t)):n!=null?Hc(e,r,ht(n)):s!=null&&e.removeAttribute("value"),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+ht(l):e.removeAttribute("name")}function Xg(e,t,n,s,i,a,r,l){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null))return;n=n!=null?""+ht(n):"",t=t!=null?""+ht(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}s=s??i,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=l?e.checked:!!s,e.defaultChecked=!!s,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r)}function Hc(e,t,n){t==="number"&&dl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function si(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+ht(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Kg(e,t,n){if(t!=null&&(t=""+ht(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+ht(n):""}function Qg(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(A(92));if(Ii(s)){if(1<s.length)throw Error(A(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=ht(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s)}function hi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var jS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cd(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||jS.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Zg(e,t,n){if(t!=null&&typeof t!="object")throw Error(A(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var i in t)s=t[i],t.hasOwnProperty(i)&&n[i]!==s&&cd(e,i,s)}else for(var a in t)t.hasOwnProperty(a)&&cd(e,a,t[a])}function gf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ES=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),AS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xr(e){return AS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var qc=null;function yf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qs=null,ii=null;function ud(e){var t=Ei(e);if(t&&(e=t.stateNode)){var n=e[Fe]||null;e:switch(e=t.stateNode,t.type){case"input":if(zc(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=s[Fe]||null;if(!i)throw Error(A(90));zc(s,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&Yg(s)}break e;case"textarea":Kg(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&si(e,!!n.multiple,t,!1)}}}var ko=!1;function Fg(e,t,n){if(ko)return e(t,n);ko=!0;try{var s=e(t);return s}finally{if(ko=!1,(qs!==null||ii!==null)&&(ao(),qs&&(t=qs,e=ii,ii=qs=null,ud(t),e)))for(t=0;t<e.length;t++)ud(e[t])}}function Aa(e,t){var n=e.stateNode;if(n===null)return null;var s=n[Fe]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var It=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$c=!1;if(It)try{var Hi={};Object.defineProperty(Hi,"passive",{get:function(){$c=!0}}),window.addEventListener("test",Hi,Hi),window.removeEventListener("test",Hi,Hi)}catch{$c=!1}var xn=null,vf=null,Kr=null;function Jg(){if(Kr)return Kr;var e,t=vf,n=t.length,s,i="value"in xn?xn.value:xn.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var r=n-e;for(s=1;s<=r&&t[n-s]===i[a-s];s++);return Kr=i.slice(e,1<s?1-s:void 0)}function Qr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Er(){return!0}function fd(){return!1}function Je(e){function t(n,s,i,a,r){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=r,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Er:fd,this.isPropagationStopped=fd,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),t}var xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fl=Je(xs),tr=ae({},xs,{view:0,detail:0}),CS=Je(tr),Uo,Lo,qi,Jl=ae({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qi&&(qi&&e.type==="mousemove"?(Uo=e.screenX-qi.screenX,Lo=e.screenY-qi.screenY):Lo=Uo=0,qi=e),Uo)},movementY:function(e){return"movementY"in e?e.movementY:Lo}}),hd=Je(Jl),OS=ae({},Jl,{dataTransfer:0}),NS=Je(OS),RS=ae({},tr,{relatedTarget:0}),Vo=Je(RS),DS=ae({},xs,{animationName:0,elapsedTime:0,pseudoElement:0}),MS=Je(DS),kS=ae({},xs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),US=Je(kS),LS=ae({},xs,{data:0}),dd=Je(LS),VS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=BS[e])?!!t[e]:!1}function bf(){return zS}var HS=ae({},tr,{key:function(e){if(e.key){var t=VS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?PS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bf,charCode:function(e){return e.type==="keypress"?Qr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qS=Je(HS),$S=ae({},Jl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),md=Je($S),GS=ae({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bf}),YS=Je(GS),XS=ae({},xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),KS=Je(XS),QS=ae({},Jl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ZS=Je(QS),FS=ae({},xs,{newState:0,oldState:0}),JS=Je(FS),IS=[9,13,27,32],_f=It&&"CompositionEvent"in window,aa=null;It&&"documentMode"in document&&(aa=document.documentMode);var WS=It&&"TextEvent"in window&&!aa,Ig=It&&(!_f||aa&&8<aa&&11>=aa),pd=" ",gd=!1;function Wg(e,t){switch(e){case"keyup":return IS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ey(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $s=!1;function ex(e,t){switch(e){case"compositionend":return ey(t);case"keypress":return t.which!==32?null:(gd=!0,pd);case"textInput":return e=t.data,e===pd&&gd?null:e;default:return null}}function tx(e,t){if($s)return e==="compositionend"||!_f&&Wg(e,t)?(e=Jg(),Kr=vf=xn=null,$s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ig&&t.locale!=="ko"?null:t.data;default:return null}}var nx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nx[e.type]:t==="textarea"}function ty(e,t,n,s){qs?ii?ii.push(s):ii=[s]:qs=s,t=Rl(t,"onChange"),0<t.length&&(n=new Fl("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var ra=null,Ca=null;function sx(e){Kv(e,0)}function Il(e){var t=Wi(e);if(Yg(t))return e}function vd(e,t){if(e==="change")return t}var ny=!1;if(It){var Po;if(It){var Bo="oninput"in document;if(!Bo){var bd=document.createElement("div");bd.setAttribute("oninput","return;"),Bo=typeof bd.oninput=="function"}Po=Bo}else Po=!1;ny=Po&&(!document.documentMode||9<document.documentMode)}function _d(){ra&&(ra.detachEvent("onpropertychange",sy),Ca=ra=null)}function sy(e){if(e.propertyName==="value"&&Il(Ca)){var t=[];ty(t,Ca,e,yf(e)),Fg(sx,t)}}function ix(e,t,n){e==="focusin"?(_d(),ra=t,Ca=n,ra.attachEvent("onpropertychange",sy)):e==="focusout"&&_d()}function ax(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Il(Ca)}function rx(e,t){if(e==="click")return Il(t)}function lx(e,t){if(e==="input"||e==="change")return Il(t)}function ox(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rt=typeof Object.is=="function"?Object.is:ox;function Oa(e,t){if(rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!Pc.call(t,i)||!rt(e[i],t[i]))return!1}return!0}function Sd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xd(e,t){var n=Sd(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sd(n)}}function iy(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?iy(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ay(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=dl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=dl(e.document)}return t}function Sf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var cx=It&&"documentMode"in document&&11>=document.documentMode,Gs=null,Gc=null,la=null,Yc=!1;function wd(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yc||Gs==null||Gs!==dl(s)||(s=Gs,"selectionStart"in s&&Sf(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),la&&Oa(la,s)||(la=s,s=Rl(Gc,"onSelect"),0<s.length&&(t=new Fl("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Gs)))}function Qn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ys={animationend:Qn("Animation","AnimationEnd"),animationiteration:Qn("Animation","AnimationIteration"),animationstart:Qn("Animation","AnimationStart"),transitionrun:Qn("Transition","TransitionRun"),transitionstart:Qn("Transition","TransitionStart"),transitioncancel:Qn("Transition","TransitionCancel"),transitionend:Qn("Transition","TransitionEnd")},zo={},ry={};It&&(ry=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function ws(e){if(zo[e])return zo[e];if(!Ys[e])return e;var t=Ys[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ry)return zo[e]=t[n];return e}var ly=ws("animationend"),oy=ws("animationiteration"),cy=ws("animationstart"),ux=ws("transitionrun"),fx=ws("transitionstart"),hx=ws("transitioncancel"),uy=ws("transitionend"),fy=new Map,Xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xc.push("scrollEnd");function At(e,t){fy.set(e,t),Ss(t,[e])}var Td=new WeakMap;function gt(e,t){if(typeof e=="object"&&e!==null){var n=Td.get(e);return n!==void 0?n:(t={value:e,source:t,stack:od(t)},Td.set(e,t),t)}return{value:e,source:t,stack:od(t)}}var ft=[],Xs=0,xf=0;function Wl(){for(var e=Xs,t=xf=Xs=0;t<e;){var n=ft[t];ft[t++]=null;var s=ft[t];ft[t++]=null;var i=ft[t];ft[t++]=null;var a=ft[t];if(ft[t++]=null,s!==null&&i!==null){var r=s.pending;r===null?i.next=i:(i.next=r.next,r.next=i),s.pending=i}a!==0&&hy(n,i,a)}}function eo(e,t,n,s){ft[Xs++]=e,ft[Xs++]=t,ft[Xs++]=n,ft[Xs++]=s,xf|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function wf(e,t,n,s){return eo(e,t,n,s),ml(e)}function Ai(e,t){return eo(e,null,null,t),ml(e)}function hy(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,s=a.alternate,s!==null&&(s.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-st(n),e=a.hiddenUpdates,s=e[i],s===null?e[i]=[t]:s.push(t),t.lane=n|536870912),a):null}function ml(e){if(50<ya)throw ya=0,du=null,Error(A(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ks={};function dx(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(e,t,n,s){return new dx(e,t,n,s)}function Tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ft(e,t){var n=e.alternate;return n===null?(n=tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function dy(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Zr(e,t,n,s,i,a){var r=0;if(s=e,typeof e=="function")Tf(e)&&(r=1);else if(typeof e=="string")r=pw(e,n,Rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case kc:return e=tt(31,n,t,i),e.elementType=kc,e.lanes=a,e;case Bs:return os(n.children,i,a,t);case Dg:r=8,i|=24;break;case Rc:return e=tt(12,n,t,i|2),e.elementType=Rc,e.lanes=a,e;case Dc:return e=tt(13,n,t,i),e.elementType=Dc,e.lanes=a,e;case Mc:return e=tt(19,n,t,i),e.elementType=Mc,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sS:case Yt:r=10;break e;case Mg:r=9;break e;case uf:r=11;break e;case ff:r=14;break e;case hn:r=16,s=null;break e}r=29,n=Error(A(130,e===null?"null":typeof e,"")),s=null}return t=tt(r,n,t,i),t.elementType=e,t.type=s,t.lanes=a,t}function os(e,t,n,s){return e=tt(7,e,s,t),e.lanes=n,e}function Ho(e,t,n){return e=tt(6,e,null,t),e.lanes=n,e}function qo(e,t,n){return t=tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qs=[],Zs=0,pl=null,gl=0,dt=[],mt=0,cs=null,Xt=1,Kt="";function Wn(e,t){Qs[Zs++]=gl,Qs[Zs++]=pl,pl=e,gl=t}function my(e,t,n){dt[mt++]=Xt,dt[mt++]=Kt,dt[mt++]=cs,cs=e;var s=Xt;e=Kt;var i=32-st(s)-1;s&=~(1<<i),n+=1;var a=32-st(t)+i;if(30<a){var r=i-i%5;a=(s&(1<<r)-1).toString(32),s>>=r,i-=r,Xt=1<<32-st(t)+i|n<<i|s,Kt=a+e}else Xt=1<<a|n<<i|s,Kt=e}function jf(e){e.return!==null&&(Wn(e,1),my(e,1,0))}function Ef(e){for(;e===pl;)pl=Qs[--Zs],Qs[Zs]=null,gl=Qs[--Zs],Qs[Zs]=null;for(;e===cs;)cs=dt[--mt],dt[mt]=null,Kt=dt[--mt],dt[mt]=null,Xt=dt[--mt],dt[mt]=null}var ze=null,me=null,K=!1,us=null,Ot=!1,Kc=Error(A(519));function ys(e){var t=Error(A(418,""));throw Na(gt(t,e)),Kc}function jd(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[Ve]=e,t[Fe]=s,n){case"dialog":q("cancel",t),q("close",t);break;case"iframe":case"object":case"embed":q("load",t);break;case"video":case"audio":for(n=0;n<Ma.length;n++)q(Ma[n],t);break;case"source":q("error",t);break;case"img":case"image":case"link":q("error",t),q("load",t);break;case"details":q("toggle",t);break;case"input":q("invalid",t),Xg(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),hl(t);break;case"select":q("invalid",t);break;case"textarea":q("invalid",t),Qg(t,s.value,s.defaultValue,s.children),hl(t)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||Zv(t.textContent,n)?(s.popover!=null&&(q("beforetoggle",t),q("toggle",t)),s.onScroll!=null&&q("scroll",t),s.onScrollEnd!=null&&q("scrollend",t),s.onClick!=null&&(t.onclick=oo),t=!0):t=!1,t||ys(e)}function Ed(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 13:Ot=!1;return;case 27:case 3:Ot=!0;return;default:ze=ze.return}}function $i(e){if(e!==ze)return!1;if(!K)return Ed(e),K=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||bu(e.type,e.memoizedProps)),n=!n),n&&me&&ys(e),Ed(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){me=Et(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}me=null}}else t===27?(t=me,Hn(e.type)?(e=xu,xu=null,me=e):me=t):me=ze?Et(e.stateNode.nextSibling):null;return!0}function nr(){me=ze=null,K=!1}function Ad(){var e=us;return e!==null&&(Ke===null?Ke=e:Ke.push.apply(Ke,e),us=null),e}function Na(e){us===null?us=[e]:us.push(e)}var Qc=Vt(null),Ts=null,Qt=null;function gn(e,t,n){ce(Qc,t._currentValue),t._currentValue=n}function Jt(e){e._currentValue=Qc.current,Re(Qc)}function Zc(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Fc(e,t,n,s){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){var r=i.child;a=a.firstContext;e:for(;a!==null;){var l=a;a=i;for(var o=0;o<t.length;o++)if(l.context===t[o]){a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Zc(a.return,n,e),s||(r=null);break e}a=l.next}}else if(i.tag===18){if(r=i.return,r===null)throw Error(A(341));r.lanes|=n,a=r.alternate,a!==null&&(a.lanes|=n),Zc(r,n,e),r=null}else r=i.child;if(r!==null)r.return=i;else for(r=i;r!==null;){if(r===e){r=null;break}if(i=r.sibling,i!==null){i.return=r.return,r=i;break}r=r.return}i=r}}function sr(e,t,n,s){e=null;for(var i=t,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var r=i.alternate;if(r===null)throw Error(A(387));if(r=r.memoizedProps,r!==null){var l=i.type;rt(i.pendingProps.value,r.value)||(e!==null?e.push(l):e=[l])}}else if(i===ol.current){if(r=i.alternate,r===null)throw Error(A(387));r.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(La):e=[La])}i=i.return}e!==null&&Fc(t,e,n,s),t.flags|=262144}function yl(e){for(e=e.firstContext;e!==null;){if(!rt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vs(e){Ts=e,Qt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Pe(e){return py(Ts,e)}function Ar(e,t){return Ts===null&&vs(e),py(e,t)}function py(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Qt===null){if(e===null)throw Error(A(308));Qt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Qt=Qt.next=t;return n}var mx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},px=je.unstable_scheduleCallback,gx=je.unstable_NormalPriority,we={$$typeof:Yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Af(){return{controller:new mx,data:new Map,refCount:0}}function ir(e){e.refCount--,e.refCount===0&&px(gx,function(){e.controller.abort()})}var oa=null,Jc=0,di=0,ai=null;function yx(e,t){if(oa===null){var n=oa=[];Jc=0,di=Ff(),ai={status:"pending",value:void 0,then:function(s){n.push(s)}}}return Jc++,t.then(Cd,Cd),t}function Cd(){if(--Jc===0&&oa!==null){ai!==null&&(ai.status="fulfilled");var e=oa;oa=null,di=0,ai=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function vx(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(s.status="rejected",s.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),s}var Od=U.S;U.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&yx(e,t),Od!==null&&Od(e,t)};var fs=Vt(null);function Cf(){var e=fs.current;return e!==null?e:ie.pooledCache}function Fr(e,t){t===null?ce(fs,fs.current):ce(fs,t.pool)}function gy(){var e=Cf();return e===null?null:{parent:we._currentValue,pool:e}}var ar=Error(A(460)),yy=Error(A(474)),to=Error(A(542)),Ic={then:function(){}};function Nd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Cr(){}function vy(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Cr,Cr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dd(e),e;default:if(typeof t.status=="string")t.then(Cr,Cr);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(A(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=s}},function(s){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Dd(e),e}throw ca=t,ar}}var ca=null;function Rd(){if(ca===null)throw Error(A(459));var e=ca;return ca=null,e}function Dd(e){if(e===ar||e===to)throw Error(A(483))}var dn=!1;function Of(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function An(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,I&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,t=ml(e),hy(e,null,n),t}return eo(e,s,t,n),ml(e)}function ua(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,zg(e,n)}}function $o(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=r:a=a.next=r,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var eu=!1;function fa(){if(eu){var e=ai;if(e!==null)throw e}}function ha(e,t,n,s){eu=!1;var i=e.updateQueue;dn=!1;var a=i.firstBaseUpdate,r=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var o=l,c=o.next;o.next=null,r===null?a=c:r.next=c,r=o;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==r&&(l===null?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=o))}if(a!==null){var f=i.baseState;r=0,u=c=o=null,l=a;do{var h=l.lane&-536870913,m=h!==l.lane;if(m?(Y&h)===h:(s&h)===h){h!==0&&h===di&&(eu=!0),u!==null&&(u=u.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var v=e,_=l;h=t;var x=n;switch(_.tag){case 1:if(v=_.payload,typeof v=="function"){f=v.call(x,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,h=typeof v=="function"?v.call(x,f,h):v,h==null)break e;f=ae({},f,h);break e;case 2:dn=!0}}h=l.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=i.callbacks,m===null?i.callbacks=[h]:m.push(h))}else m={lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(c=u=m,o=f):u=u.next=m,r|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);u===null&&(o=f),i.baseState=o,i.firstBaseUpdate=c,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),Vn|=r,e.lanes=r,e.memoizedState=f}}function by(e,t){if(typeof e!="function")throw Error(A(191,e));e.call(t)}function _y(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)by(n[e],t)}var mi=Vt(null),vl=Vt(0);function Md(e,t){e=tn,ce(vl,e),ce(mi,t),tn=e|t.baseLanes}function tu(){ce(vl,tn),ce(mi,mi.current)}function Nf(){tn=vl.current,Re(mi),Re(vl)}var Un=0,B=null,ee=null,_e=null,bl=!1,ri=!1,bs=!1,_l=0,Ra=0,li=null,bx=0;function ge(){throw Error(A(321))}function Rf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rt(e[n],t[n]))return!1;return!0}function Df(e,t,n,s,i,a){return Un=a,B=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?Jy:Iy,bs=!1,a=n(s,i),bs=!1,ri&&(a=xy(t,n,s,i)),Sy(e),a}function Sy(e){U.H=Sl;var t=ee!==null&&ee.next!==null;if(Un=0,_e=ee=B=null,bl=!1,Ra=0,li=null,t)throw Error(A(300));e===null||Ne||(e=e.dependencies,e!==null&&yl(e)&&(Ne=!0))}function xy(e,t,n,s){B=e;var i=0;do{if(ri&&(li=null),Ra=0,ri=!1,25<=i)throw Error(A(301));if(i+=1,_e=ee=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}U.H=Ex,a=t(n,s)}while(ri);return a}function _x(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?rr(t):t,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(B.flags|=1024),t}function Mf(){var e=_l!==0;return _l=0,e}function kf(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Uf(e){if(bl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}bl=!1}Un=0,_e=ee=B=null,ri=!1,Ra=_l=0,li=null}function Ye(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?B.memoizedState=_e=e:_e=_e.next=e,_e}function Se(){if(ee===null){var e=B.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var t=_e===null?B.memoizedState:_e.next;if(t!==null)_e=t,ee=e;else{if(e===null)throw B.alternate===null?Error(A(467)):Error(A(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},_e===null?B.memoizedState=_e=e:_e=_e.next=e}return _e}function Lf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rr(e){var t=Ra;return Ra+=1,li===null&&(li=[]),e=vy(li,e,t),t=B,(_e===null?t.memoizedState:_e.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?Jy:Iy),e}function no(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return rr(e);if(e.$$typeof===Yt)return Pe(e)}throw Error(A(438,String(e)))}function Vf(e){var t=null,n=B.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=B.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Lf(),B.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=iS;return t.index++,n}function Wt(e,t){return typeof t=="function"?t(e):t}function Jr(e){var t=Se();return Pf(t,ee,e)}function Pf(e,t,n){var s=e.queue;if(s===null)throw Error(A(311));s.lastRenderedReducer=n;var i=e.baseQueue,a=s.pending;if(a!==null){if(i!==null){var r=i.next;i.next=a.next,a.next=r}t.baseQueue=i=a,s.pending=null}if(a=e.baseState,i===null)e.memoizedState=a;else{t=i.next;var l=r=null,o=null,c=t,u=!1;do{var f=c.lane&-536870913;if(f!==c.lane?(Y&f)===f:(Un&f)===f){var h=c.revertLane;if(h===0)o!==null&&(o=o.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),f===di&&(u=!0);else if((Un&h)===h){c=c.next,h===di&&(u=!0);continue}else f={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(l=o=f,r=a):o=o.next=f,B.lanes|=h,Vn|=h;f=c.action,bs&&n(a,f),a=c.hasEagerState?c.eagerState:n(a,f)}else h={lane:f,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},o===null?(l=o=h,r=a):o=o.next=h,B.lanes|=f,Vn|=f;c=c.next}while(c!==null&&c!==t);if(o===null?r=a:o.next=l,!rt(a,e.memoizedState)&&(Ne=!0,u&&(n=ai,n!==null)))throw n;e.memoizedState=a,e.baseState=r,e.baseQueue=o,s.lastRenderedState=a}return i===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Go(e){var t=Se(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var r=i=i.next;do a=e(a,r.action),r=r.next;while(r!==i);rt(a,t.memoizedState)||(Ne=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function wy(e,t,n){var s=B,i=Se(),a=K;if(a){if(n===void 0)throw Error(A(407));n=n()}else n=t();var r=!rt((ee||i).memoizedState,n);r&&(i.memoizedState=n,Ne=!0),i=i.queue;var l=Ey.bind(null,s,i,e);if(lr(2048,8,l,[e]),i.getSnapshot!==t||r||_e!==null&&_e.memoizedState.tag&1){if(s.flags|=2048,pi(9,so(),jy.bind(null,s,i,n,t),null),ie===null)throw Error(A(349));a||Un&124||Ty(s,t,n)}return n}function Ty(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=B.updateQueue,t===null?(t=Lf(),B.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function jy(e,t,n,s){t.value=n,t.getSnapshot=s,Ay(t)&&Cy(e)}function Ey(e,t,n){return n(function(){Ay(t)&&Cy(e)})}function Ay(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rt(e,n)}catch{return!0}}function Cy(e){var t=Ai(e,2);t!==null&&at(t,e,2)}function nu(e){var t=Ye();if(typeof e=="function"){var n=e;if(e=n(),bs){Sn(!0);try{n()}finally{Sn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:e},t}function Oy(e,t,n,s){return e.baseState=n,Pf(e,ee,typeof s=="function"?s:Wt)}function Sx(e,t,n,s,i){if(io(e))throw Error(A(485));if(e=t.action,e!==null){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){a.listeners.push(r)}};U.T!==null?n(!0):a.isTransition=!1,s(a),n=t.pending,n===null?(a.next=t.pending=a,Ny(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Ny(e,t){var n=t.action,s=t.payload,i=e.state;if(t.isTransition){var a=U.T,r={};U.T=r;try{var l=n(i,s),o=U.S;o!==null&&o(r,l),kd(e,t,l)}catch(c){su(e,t,c)}finally{U.T=a}}else try{a=n(i,s),kd(e,t,a)}catch(c){su(e,t,c)}}function kd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){Ud(e,t,s)},function(s){return su(e,t,s)}):Ud(e,t,n)}function Ud(e,t,n){t.status="fulfilled",t.value=n,Ry(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Ny(e,n)))}function su(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,Ry(t),t=t.next;while(t!==s)}e.action=null}function Ry(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Dy(e,t){return t}function Ld(e,t){if(K){var n=ie.formState;if(n!==null){e:{var s=B;if(K){if(me){t:{for(var i=me,a=Ot;i.nodeType!==8;){if(!a){i=null;break t}if(i=Et(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){me=Et(i.nextSibling),s=i.data==="F!";break e}}ys(s)}s=!1}s&&(t=n[0])}}return n=Ye(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dy,lastRenderedState:t},n.queue=s,n=Qy.bind(null,B,s),s.dispatch=n,s=nu(!1),a=qf.bind(null,B,!1,s.queue),s=Ye(),i={state:t,dispatch:null,action:e,pending:null},s.queue=i,n=Sx.bind(null,B,i,a,n),i.dispatch=n,s.memoizedState=e,[t,n,!1]}function Vd(e){var t=Se();return My(t,ee,e)}function My(e,t,n){if(t=Pf(e,t,Dy)[0],e=Jr(Wt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=rr(t)}catch(r){throw r===ar?to:r}else s=t;t=Se();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(B.flags|=2048,pi(9,so(),xx.bind(null,i,n),null)),[s,a,e]}function xx(e,t){e.action=t}function Pd(e){var t=Se(),n=ee;if(n!==null)return My(t,n,e);Se(),t=t.memoizedState,n=Se();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function pi(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=B.updateQueue,t===null&&(t=Lf(),B.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function so(){return{destroy:void 0,resource:void 0}}function ky(){return Se().memoizedState}function Ir(e,t,n,s){var i=Ye();s=s===void 0?null:s,B.flags|=e,i.memoizedState=pi(1|t,so(),n,s)}function lr(e,t,n,s){var i=Se();s=s===void 0?null:s;var a=i.memoizedState.inst;ee!==null&&s!==null&&Rf(s,ee.memoizedState.deps)?i.memoizedState=pi(t,a,n,s):(B.flags|=e,i.memoizedState=pi(1|t,a,n,s))}function Bd(e,t){Ir(8390656,8,e,t)}function Uy(e,t){lr(2048,8,e,t)}function Ly(e,t){return lr(4,2,e,t)}function Vy(e,t){return lr(4,4,e,t)}function Py(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function By(e,t,n){n=n!=null?n.concat([e]):null,lr(4,4,Py.bind(null,t,e),n)}function Bf(){}function zy(e,t){var n=Se();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&Rf(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Hy(e,t){var n=Se();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&Rf(t,s[1]))return s[0];if(s=e(),bs){Sn(!0);try{e()}finally{Sn(!1)}}return n.memoizedState=[s,t],s}function zf(e,t,n){return n===void 0||Un&1073741824?e.memoizedState=t:(e.memoizedState=n,e=Rv(),B.lanes|=e,Vn|=e,n)}function qy(e,t,n,s){return rt(n,t)?n:mi.current!==null?(e=zf(e,n,s),rt(e,t)||(Ne=!0),e):Un&42?(e=Rv(),B.lanes|=e,Vn|=e,t):(Ne=!0,e.memoizedState=n)}function $y(e,t,n,s,i){var a=Q.p;Q.p=a!==0&&8>a?a:8;var r=U.T,l={};U.T=l,qf(e,!1,t,n);try{var o=i(),c=U.S;if(c!==null&&c(l,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var u=vx(o,s);da(e,t,u,it(e))}else da(e,t,s,it(e))}catch(f){da(e,t,{then:function(){},status:"rejected",reason:f},it())}finally{Q.p=a,U.T=r}}function wx(){}function iu(e,t,n,s){if(e.tag!==5)throw Error(A(476));var i=Gy(e).queue;$y(e,i,t,ls,n===null?wx:function(){return Yy(e),n(s)})}function Gy(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ls,baseState:ls,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:ls},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Yy(e){var t=Gy(e).next.queue;da(e,t,{},it())}function Hf(){return Pe(La)}function Xy(){return Se().memoizedState}function Ky(){return Se().memoizedState}function Tx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=it();e=An(n);var s=Cn(t,e,n);s!==null&&(at(s,t,n),ua(s,t,n)),t={cache:Af()},e.payload=t;return}t=t.return}}function jx(e,t,n){var s=it();n={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},io(e)?Zy(t,n):(n=wf(e,t,n,s),n!==null&&(at(n,e,s),Fy(n,t,s)))}function Qy(e,t,n){var s=it();da(e,t,n,s)}function da(e,t,n,s){var i={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(io(e))Zy(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var r=t.lastRenderedState,l=a(r,n);if(i.hasEagerState=!0,i.eagerState=l,rt(l,r))return eo(e,t,i,0),ie===null&&Wl(),!1}catch{}finally{}if(n=wf(e,t,i,s),n!==null)return at(n,e,s),Fy(n,t,s),!0}return!1}function qf(e,t,n,s){if(s={lane:2,revertLane:Ff(),action:s,hasEagerState:!1,eagerState:null,next:null},io(e)){if(t)throw Error(A(479))}else t=wf(e,n,s,2),t!==null&&at(t,e,2)}function io(e){var t=e.alternate;return e===B||t!==null&&t===B}function Zy(e,t){ri=bl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Fy(e,t,n){if(n&4194048){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,zg(e,n)}}var Sl={readContext:Pe,use:no,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},Jy={readContext:Pe,use:no,useCallback:function(e,t){return Ye().memoizedState=[e,t===void 0?null:t],e},useContext:Pe,useEffect:Bd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ir(4194308,4,Py.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ir(4194308,4,e,t)},useInsertionEffect:function(e,t){Ir(4,2,e,t)},useMemo:function(e,t){var n=Ye();t=t===void 0?null:t;var s=e();if(bs){Sn(!0);try{e()}finally{Sn(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=Ye();if(n!==void 0){var i=n(t);if(bs){Sn(!0);try{n(t)}finally{Sn(!1)}}}else i=t;return s.memoizedState=s.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},s.queue=e,e=e.dispatch=jx.bind(null,B,e),[s.memoizedState,e]},useRef:function(e){var t=Ye();return e={current:e},t.memoizedState=e},useState:function(e){e=nu(e);var t=e.queue,n=Qy.bind(null,B,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Bf,useDeferredValue:function(e,t){var n=Ye();return zf(n,e,t)},useTransition:function(){var e=nu(!1);return e=$y.bind(null,B,e.queue,!0,!1),Ye().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=B,i=Ye();if(K){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),ie===null)throw Error(A(349));Y&124||Ty(s,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Bd(Ey.bind(null,s,a,e),[e]),s.flags|=2048,pi(9,so(),jy.bind(null,s,a,n,t),null),n},useId:function(){var e=Ye(),t=ie.identifierPrefix;if(K){var n=Kt,s=Xt;n=(s&~(1<<32-st(s)-1)).toString(32)+n,t=""+t+"R"+n,n=_l++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=bx++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Hf,useFormState:Ld,useActionState:Ld,useOptimistic:function(e){var t=Ye();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=qf.bind(null,B,!0,n),n.dispatch=t,[e,t]},useMemoCache:Vf,useCacheRefresh:function(){return Ye().memoizedState=Tx.bind(null,B)}},Iy={readContext:Pe,use:no,useCallback:zy,useContext:Pe,useEffect:Uy,useImperativeHandle:By,useInsertionEffect:Ly,useLayoutEffect:Vy,useMemo:Hy,useReducer:Jr,useRef:ky,useState:function(){return Jr(Wt)},useDebugValue:Bf,useDeferredValue:function(e,t){var n=Se();return qy(n,ee.memoizedState,e,t)},useTransition:function(){var e=Jr(Wt)[0],t=Se().memoizedState;return[typeof e=="boolean"?e:rr(e),t]},useSyncExternalStore:wy,useId:Xy,useHostTransitionStatus:Hf,useFormState:Vd,useActionState:Vd,useOptimistic:function(e,t){var n=Se();return Oy(n,ee,e,t)},useMemoCache:Vf,useCacheRefresh:Ky},Ex={readContext:Pe,use:no,useCallback:zy,useContext:Pe,useEffect:Uy,useImperativeHandle:By,useInsertionEffect:Ly,useLayoutEffect:Vy,useMemo:Hy,useReducer:Go,useRef:ky,useState:function(){return Go(Wt)},useDebugValue:Bf,useDeferredValue:function(e,t){var n=Se();return ee===null?zf(n,e,t):qy(n,ee.memoizedState,e,t)},useTransition:function(){var e=Go(Wt)[0],t=Se().memoizedState;return[typeof e=="boolean"?e:rr(e),t]},useSyncExternalStore:wy,useId:Xy,useHostTransitionStatus:Hf,useFormState:Pd,useActionState:Pd,useOptimistic:function(e,t){var n=Se();return ee!==null?Oy(n,ee,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Vf,useCacheRefresh:Ky},oi=null,Da=0;function Or(e){var t=Da;return Da+=1,oi===null&&(oi=[]),vy(oi,e,t)}function Gi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Nr(e,t){throw t.$$typeof===nS?Error(A(525)):(e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function zd(e){var t=e._init;return t(e._payload)}function Wy(e){function t(p,g){if(e){var y=p.deletions;y===null?(p.deletions=[g],p.flags|=16):y.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function s(p){for(var g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(p,g){return p=Ft(p,g),p.index=0,p.sibling=null,p}function a(p,g,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<g?(p.flags|=67108866,g):y):(p.flags|=67108866,g)):(p.flags|=1048576,g)}function r(p){return e&&p.alternate===null&&(p.flags|=67108866),p}function l(p,g,y,S){return g===null||g.tag!==6?(g=Ho(y,p.mode,S),g.return=p,g):(g=i(g,y),g.return=p,g)}function o(p,g,y,S){var w=y.type;return w===Bs?u(p,g,y.props.children,S,y.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===hn&&zd(w)===g.type)?(g=i(g,y.props),Gi(g,y),g.return=p,g):(g=Zr(y.type,y.key,y.props,null,p.mode,S),Gi(g,y),g.return=p,g)}function c(p,g,y,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=qo(y,p.mode,S),g.return=p,g):(g=i(g,y.children||[]),g.return=p,g)}function u(p,g,y,S,w){return g===null||g.tag!==7?(g=os(y,p.mode,S,w),g.return=p,g):(g=i(g,y),g.return=p,g)}function f(p,g,y){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=Ho(""+g,p.mode,y),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case xr:return y=Zr(g.type,g.key,g.props,null,p.mode,y),Gi(y,g),y.return=p,y;case Ji:return g=qo(g,p.mode,y),g.return=p,g;case hn:var S=g._init;return g=S(g._payload),f(p,g,y)}if(Ii(g)||zi(g))return g=os(g,p.mode,y,null),g.return=p,g;if(typeof g.then=="function")return f(p,Or(g),y);if(g.$$typeof===Yt)return f(p,Ar(p,g),y);Nr(p,g)}return null}function h(p,g,y,S){var w=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return w!==null?null:l(p,g,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case xr:return y.key===w?o(p,g,y,S):null;case Ji:return y.key===w?c(p,g,y,S):null;case hn:return w=y._init,y=w(y._payload),h(p,g,y,S)}if(Ii(y)||zi(y))return w!==null?null:u(p,g,y,S,null);if(typeof y.then=="function")return h(p,g,Or(y),S);if(y.$$typeof===Yt)return h(p,g,Ar(p,y),S);Nr(p,y)}return null}function m(p,g,y,S,w){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return p=p.get(y)||null,l(g,p,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case xr:return p=p.get(S.key===null?y:S.key)||null,o(g,p,S,w);case Ji:return p=p.get(S.key===null?y:S.key)||null,c(g,p,S,w);case hn:var E=S._init;return S=E(S._payload),m(p,g,y,S,w)}if(Ii(S)||zi(S))return p=p.get(y)||null,u(g,p,S,w,null);if(typeof S.then=="function")return m(p,g,y,Or(S),w);if(S.$$typeof===Yt)return m(p,g,y,Ar(g,S),w);Nr(g,S)}return null}function v(p,g,y,S){for(var w=null,E=null,b=g,j=g=0,C=null;b!==null&&j<y.length;j++){b.index>j?(C=b,b=null):C=b.sibling;var O=h(p,b,y[j],S);if(O===null){b===null&&(b=C);break}e&&b&&O.alternate===null&&t(p,b),g=a(O,g,j),E===null?w=O:E.sibling=O,E=O,b=C}if(j===y.length)return n(p,b),K&&Wn(p,j),w;if(b===null){for(;j<y.length;j++)b=f(p,y[j],S),b!==null&&(g=a(b,g,j),E===null?w=b:E.sibling=b,E=b);return K&&Wn(p,j),w}for(b=s(b);j<y.length;j++)C=m(b,p,j,y[j],S),C!==null&&(e&&C.alternate!==null&&b.delete(C.key===null?j:C.key),g=a(C,g,j),E===null?w=C:E.sibling=C,E=C);return e&&b.forEach(function(L){return t(p,L)}),K&&Wn(p,j),w}function _(p,g,y,S){if(y==null)throw Error(A(151));for(var w=null,E=null,b=g,j=g=0,C=null,O=y.next();b!==null&&!O.done;j++,O=y.next()){b.index>j?(C=b,b=null):C=b.sibling;var L=h(p,b,O.value,S);if(L===null){b===null&&(b=C);break}e&&b&&L.alternate===null&&t(p,b),g=a(L,g,j),E===null?w=L:E.sibling=L,E=L,b=C}if(O.done)return n(p,b),K&&Wn(p,j),w;if(b===null){for(;!O.done;j++,O=y.next())O=f(p,O.value,S),O!==null&&(g=a(O,g,j),E===null?w=O:E.sibling=O,E=O);return K&&Wn(p,j),w}for(b=s(b);!O.done;j++,O=y.next())O=m(b,p,j,O.value,S),O!==null&&(e&&O.alternate!==null&&b.delete(O.key===null?j:O.key),g=a(O,g,j),E===null?w=O:E.sibling=O,E=O);return e&&b.forEach(function(z){return t(p,z)}),K&&Wn(p,j),w}function x(p,g,y,S){if(typeof y=="object"&&y!==null&&y.type===Bs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case xr:e:{for(var w=y.key;g!==null;){if(g.key===w){if(w=y.type,w===Bs){if(g.tag===7){n(p,g.sibling),S=i(g,y.props.children),S.return=p,p=S;break e}}else if(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===hn&&zd(w)===g.type){n(p,g.sibling),S=i(g,y.props),Gi(S,y),S.return=p,p=S;break e}n(p,g);break}else t(p,g);g=g.sibling}y.type===Bs?(S=os(y.props.children,p.mode,S,y.key),S.return=p,p=S):(S=Zr(y.type,y.key,y.props,null,p.mode,S),Gi(S,y),S.return=p,p=S)}return r(p);case Ji:e:{for(w=y.key;g!==null;){if(g.key===w)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(p,g.sibling),S=i(g,y.children||[]),S.return=p,p=S;break e}else{n(p,g);break}else t(p,g);g=g.sibling}S=qo(y,p.mode,S),S.return=p,p=S}return r(p);case hn:return w=y._init,y=w(y._payload),x(p,g,y,S)}if(Ii(y))return v(p,g,y,S);if(zi(y)){if(w=zi(y),typeof w!="function")throw Error(A(150));return y=w.call(y),_(p,g,y,S)}if(typeof y.then=="function")return x(p,g,Or(y),S);if(y.$$typeof===Yt)return x(p,g,Ar(p,y),S);Nr(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint"?(y=""+y,g!==null&&g.tag===6?(n(p,g.sibling),S=i(g,y),S.return=p,p=S):(n(p,g),S=Ho(y,p.mode,S),S.return=p,p=S),r(p)):n(p,g)}return function(p,g,y,S){try{Da=0;var w=x(p,g,y,S);return oi=null,w}catch(b){if(b===ar||b===to)throw b;var E=tt(29,b,null,p.mode);return E.lanes=S,E.return=p,E}finally{}}}var gi=Wy(!0),ev=Wy(!1),_t=Vt(null),Mt=null;function yn(e){var t=e.alternate;ce(Te,Te.current&1),ce(_t,e),Mt===null&&(t===null||mi.current!==null||t.memoizedState!==null)&&(Mt=e)}function tv(e){if(e.tag===22){if(ce(Te,Te.current),ce(_t,e),Mt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Mt=e)}}else vn()}function vn(){ce(Te,Te.current),ce(_t,_t.current)}function Zt(e){Re(_t),Mt===e&&(Mt=null),Re(Te)}var Te=Vt(0);function xl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Su(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Yo(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:ae({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var au={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=it(),i=An(s);i.payload=t,n!=null&&(i.callback=n),t=Cn(e,i,s),t!==null&&(at(t,e,s),ua(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=it(),i=An(s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Cn(e,i,s),t!==null&&(at(t,e,s),ua(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=it(),s=An(n);s.tag=2,t!=null&&(s.callback=t),t=Cn(e,s,n),t!==null&&(at(t,e,n),ua(t,e,n))}};function Hd(e,t,n,s,i,a,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,r):t.prototype&&t.prototype.isPureReactComponent?!Oa(n,s)||!Oa(i,a):!0}function qd(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&au.enqueueReplaceState(t,t.state,null)}function _s(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=ae({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}var wl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function nv(e){wl(e)}function sv(e){console.error(e)}function iv(e){wl(e)}function Tl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function $d(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function ru(e,t,n){return n=An(n),n.tag=3,n.payload={element:null},n.callback=function(){Tl(e,t)},n}function av(e){return e=An(e),e.tag=3,e}function rv(e,t,n,s){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=s.value;e.payload=function(){return i(a)},e.callback=function(){$d(t,n,s)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){$d(t,n,s),typeof i!="function"&&(On===null?On=new Set([this]):On.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})})}function Ax(e,t,n,s,i){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&sr(t,n,i,!0),n=_t.current,n!==null){switch(n.tag){case 13:return Mt===null?mu():n.alternate===null&&pe===0&&(pe=3),n.flags&=-257,n.flags|=65536,n.lanes=i,s===Ic?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),nc(e,s,i)),!1;case 22:return n.flags|=65536,s===Ic?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),nc(e,s,i)),!1}throw Error(A(435,n.tag))}return nc(e,s,i),mu(),!1}if(K)return t=_t.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,s!==Kc&&(e=Error(A(422),{cause:s}),Na(gt(e,n)))):(s!==Kc&&(t=Error(A(423),{cause:s}),Na(gt(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,s=gt(s,n),i=ru(e.stateNode,s,i),$o(e,i),pe!==4&&(pe=2)),!1;var a=Error(A(520),{cause:s});if(a=gt(a,n),ga===null?ga=[a]:ga.push(a),pe!==4&&(pe=2),t===null)return!0;s=gt(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=ru(n.stateNode,s,e),$o(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(On===null||!On.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=av(i),rv(i,e,n,s),$o(n,i),!1}n=n.return}while(n!==null);return!1}var lv=Error(A(461)),Ne=!1;function Me(e,t,n,s){t.child=e===null?ev(t,null,n,s):gi(t,e.child,n,s)}function Gd(e,t,n,s,i){n=n.render;var a=t.ref;if("ref"in s){var r={};for(var l in s)l!=="ref"&&(r[l]=s[l])}else r=s;return vs(t),s=Df(e,t,n,r,a,i),l=Mf(),e!==null&&!Ne?(kf(e,t,i),en(e,t,i)):(K&&l&&jf(t),t.flags|=1,Me(e,t,s,i),t.child)}function Yd(e,t,n,s,i){if(e===null){var a=n.type;return typeof a=="function"&&!Tf(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,ov(e,t,a,s,i)):(e=Zr(n.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!$f(e,i)){var r=a.memoizedProps;if(n=n.compare,n=n!==null?n:Oa,n(r,s)&&e.ref===t.ref)return en(e,t,i)}return t.flags|=1,e=Ft(a,s),e.ref=t.ref,e.return=t,t.child=e}function ov(e,t,n,s,i){if(e!==null){var a=e.memoizedProps;if(Oa(a,s)&&e.ref===t.ref)if(Ne=!1,t.pendingProps=s=a,$f(e,i))e.flags&131072&&(Ne=!0);else return t.lanes=e.lanes,en(e,t,i)}return lu(e,t,n,s,i)}function cv(e,t,n){var s=t.pendingProps,i=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if(t.flags&128){if(s=a!==null?a.baseLanes|n:n,e!==null){for(i=t.child=e.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~s}else t.childLanes=0,t.child=null;return Xd(e,t,s,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fr(t,a!==null?a.cachePool:null),a!==null?Md(t,a):tu(),tv(t);else return t.lanes=t.childLanes=536870912,Xd(e,t,a!==null?a.baseLanes|n:n,n)}else a!==null?(Fr(t,a.cachePool),Md(t,a),vn(),t.memoizedState=null):(e!==null&&Fr(t,null),tu(),vn());return Me(e,t,i,n),t.child}function Xd(e,t,n,s){var i=Cf();return i=i===null?null:{parent:we._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&Fr(t,null),tu(),tv(t),e!==null&&sr(e,t,s,!0),null}function Wr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(A(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function lu(e,t,n,s,i){return vs(t),n=Df(e,t,n,s,void 0,i),s=Mf(),e!==null&&!Ne?(kf(e,t,i),en(e,t,i)):(K&&s&&jf(t),t.flags|=1,Me(e,t,n,i),t.child)}function Kd(e,t,n,s,i,a){return vs(t),t.updateQueue=null,n=xy(t,s,n,i),Sy(e),s=Mf(),e!==null&&!Ne?(kf(e,t,a),en(e,t,a)):(K&&s&&jf(t),t.flags|=1,Me(e,t,n,a),t.child)}function Qd(e,t,n,s,i){if(vs(t),t.stateNode===null){var a=Ks,r=n.contextType;typeof r=="object"&&r!==null&&(a=Pe(r)),a=new n(s,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=au,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=s,a.state=t.memoizedState,a.refs={},Of(t),r=n.contextType,a.context=typeof r=="object"&&r!==null?Pe(r):Ks,a.state=t.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(Yo(t,n,r,s),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(r=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),r!==a.state&&au.enqueueReplaceState(a,a.state,null),ha(t,s,a,i),fa(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){a=t.stateNode;var l=t.memoizedProps,o=_s(n,l);a.props=o;var c=a.context,u=n.contextType;r=Ks,typeof u=="object"&&u!==null&&(r=Pe(u));var f=n.getDerivedStateFromProps;u=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l||c!==r)&&qd(t,a,s,r),dn=!1;var h=t.memoizedState;a.state=h,ha(t,s,a,i),fa(),c=t.memoizedState,l||h!==c||dn?(typeof f=="function"&&(Yo(t,n,f,s),c=t.memoizedState),(o=dn||Hd(t,n,o,s,h,c,r))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),a.props=s,a.state=c,a.context=r,s=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{a=t.stateNode,Wc(e,t),r=t.memoizedProps,u=_s(n,r),a.props=u,f=t.pendingProps,h=a.context,c=n.contextType,o=Ks,typeof c=="object"&&c!==null&&(o=Pe(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(r!==f||h!==o)&&qd(t,a,s,o),dn=!1,h=t.memoizedState,a.state=h,ha(t,s,a,i),fa();var m=t.memoizedState;r!==f||h!==m||dn||e!==null&&e.dependencies!==null&&yl(e.dependencies)?(typeof l=="function"&&(Yo(t,n,l,s),m=t.memoizedState),(u=dn||Hd(t,n,u,s,h,m,o)||e!==null&&e.dependencies!==null&&yl(e.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,m,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,m,o)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=m),a.props=s,a.state=m,a.context=o,s=u):(typeof a.componentDidUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return a=s,Wr(e,t),s=(t.flags&128)!==0,a||s?(a=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&s?(t.child=gi(t,e.child,null,i),t.child=gi(t,null,n,i)):Me(e,t,n,i),t.memoizedState=a.state,e=t.child):e=en(e,t,i),e}function Zd(e,t,n,s){return nr(),t.flags|=256,Me(e,t,n,s),t.child}var Xo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ko(e){return{baseLanes:e,cachePool:gy()}}function Qo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=yt),e}function uv(e,t,n){var s=t.pendingProps,i=!1,a=(t.flags&128)!==0,r;if((r=a)||(r=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),r&&(i=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(K){if(i?yn(t):vn(),K){var l=me,o;if(o=l){e:{for(o=l,l=Ot;o.nodeType!==8;){if(!l){l=null;break e}if(o=Et(o.nextSibling),o===null){l=null;break e}}l=o}l!==null?(t.memoizedState={dehydrated:l,treeContext:cs!==null?{id:Xt,overflow:Kt}:null,retryLane:536870912,hydrationErrors:null},o=tt(18,null,null,0),o.stateNode=l,o.return=t,t.child=o,ze=t,me=null,o=!0):o=!1}o||ys(t)}if(l=t.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return Su(l)?t.lanes=32:t.lanes=536870912,null;Zt(t)}return l=s.children,s=s.fallback,i?(vn(),i=t.mode,l=jl({mode:"hidden",children:l},i),s=os(s,i,n,null),l.return=t,s.return=t,l.sibling=s,t.child=l,i=t.child,i.memoizedState=Ko(n),i.childLanes=Qo(e,r,n),t.memoizedState=Xo,s):(yn(t),ou(t,l))}if(o=e.memoizedState,o!==null&&(l=o.dehydrated,l!==null)){if(a)t.flags&256?(yn(t),t.flags&=-257,t=Zo(e,t,n)):t.memoizedState!==null?(vn(),t.child=e.child,t.flags|=128,t=null):(vn(),i=s.fallback,l=t.mode,s=jl({mode:"visible",children:s.children},l),i=os(i,l,n,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,gi(t,e.child,null,n),s=t.child,s.memoizedState=Ko(n),s.childLanes=Qo(e,r,n),t.memoizedState=Xo,t=i);else if(yn(t),Su(l)){if(r=l.nextSibling&&l.nextSibling.dataset,r)var c=r.dgst;r=c,s=Error(A(419)),s.stack="",s.digest=r,Na({value:s,source:null,stack:null}),t=Zo(e,t,n)}else if(Ne||sr(e,t,n,!1),r=(n&e.childLanes)!==0,Ne||r){if(r=ie,r!==null&&(s=n&-n,s=s&42?1:df(s),s=s&(r.suspendedLanes|n)?0:s,s!==0&&s!==o.retryLane))throw o.retryLane=s,Ai(e,s),at(r,e,s),lv;l.data==="$?"||mu(),t=Zo(e,t,n)}else l.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,me=Et(l.nextSibling),ze=t,K=!0,us=null,Ot=!1,e!==null&&(dt[mt++]=Xt,dt[mt++]=Kt,dt[mt++]=cs,Xt=e.id,Kt=e.overflow,cs=t),t=ou(t,s.children),t.flags|=4096);return t}return i?(vn(),i=s.fallback,l=t.mode,o=e.child,c=o.sibling,s=Ft(o,{mode:"hidden",children:s.children}),s.subtreeFlags=o.subtreeFlags&65011712,c!==null?i=Ft(c,i):(i=os(i,l,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,l=e.child.memoizedState,l===null?l=Ko(n):(o=l.cachePool,o!==null?(c=we._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=gy(),l={baseLanes:l.baseLanes|n,cachePool:o}),i.memoizedState=l,i.childLanes=Qo(e,r,n),t.memoizedState=Xo,s):(yn(t),n=e.child,e=n.sibling,n=Ft(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function ou(e,t){return t=jl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function jl(e,t){return e=tt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Zo(e,t,n){return gi(t,e.child,null,n),e=ou(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fd(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Zc(e.return,t,n)}function Fo(e,t,n,s,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i)}function fv(e,t,n){var s=t.pendingProps,i=s.revealOrder,a=s.tail;if(Me(e,t,s.children,n),s=Te.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fd(e,n,t);else if(e.tag===19)Fd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(ce(Te,s),i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&xl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fo(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&xl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fo(t,!0,n,null,a);break;case"together":Fo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function en(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Vn|=t.lanes,!(n&t.childLanes))if(e!==null){if(sr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=Ft(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ft(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $f(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&yl(e)))}function Cx(e,t,n){switch(t.tag){case 3:cl(t,t.stateNode.containerInfo),gn(t,we,e.memoizedState.cache),nr();break;case 27:case 5:Vc(t);break;case 4:cl(t,t.stateNode.containerInfo);break;case 10:gn(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(yn(t),t.flags|=128,null):n&t.child.childLanes?uv(e,t,n):(yn(t),e=en(e,t,n),e!==null?e.sibling:null);yn(t);break;case 19:var i=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(sr(e,t,n,!1),s=(n&t.childLanes)!==0),i){if(s)return fv(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(Te,Te.current),s)break;return null;case 22:case 23:return t.lanes=0,cv(e,t,n);case 24:gn(t,we,e.memoizedState.cache)}return en(e,t,n)}function hv(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ne=!0;else{if(!$f(e,n)&&!(t.flags&128))return Ne=!1,Cx(e,t,n);Ne=!!(e.flags&131072)}else Ne=!1,K&&t.flags&1048576&&my(t,gl,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,i=s._init;if(s=i(s._payload),t.type=s,typeof s=="function")Tf(s)?(e=_s(s,e),t.tag=1,t=Qd(null,t,s,e,n)):(t.tag=0,t=lu(null,t,s,e,n));else{if(s!=null){if(i=s.$$typeof,i===uf){t.tag=11,t=Gd(null,t,s,e,n);break e}else if(i===ff){t.tag=14,t=Yd(null,t,s,e,n);break e}}throw t=Uc(s)||s,Error(A(306,t,""))}}return t;case 0:return lu(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,i=_s(s,t.pendingProps),Qd(e,t,s,i,n);case 3:e:{if(cl(t,t.stateNode.containerInfo),e===null)throw Error(A(387));s=t.pendingProps;var a=t.memoizedState;i=a.element,Wc(e,t),ha(t,s,null,n);var r=t.memoizedState;if(s=r.cache,gn(t,we,s),s!==a.cache&&Fc(t,[we],n,!0),fa(),s=r.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=Zd(e,t,s,n);break e}else if(s!==i){i=gt(Error(A(424)),t),Na(i),t=Zd(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(me=Et(e.firstChild),ze=t,K=!0,us=null,Ot=!0,n=ev(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(nr(),s===i){t=en(e,t,n);break e}Me(e,t,s,n)}t=t.child}return t;case 26:return Wr(e,t),e===null?(n=dm(t.type,null,t.pendingProps,null))?t.memoizedState=n:K||(n=t.type,e=t.pendingProps,s=Dl(En.current).createElement(n),s[Ve]=t,s[Fe]=e,Ue(s,n,e),Oe(s),t.stateNode=s):t.memoizedState=dm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Vc(t),e===null&&K&&(s=t.stateNode=Iv(t.type,t.pendingProps,En.current),ze=t,Ot=!0,i=me,Hn(t.type)?(xu=i,me=Et(s.firstChild)):me=i),Me(e,t,t.pendingProps.children,n),Wr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&K&&((i=s=me)&&(s=nw(s,t.type,t.pendingProps,Ot),s!==null?(t.stateNode=s,ze=t,me=Et(s.firstChild),Ot=!1,i=!0):i=!1),i||ys(t)),Vc(t),i=t.type,a=t.pendingProps,r=e!==null?e.memoizedProps:null,s=a.children,bu(i,a)?s=null:r!==null&&bu(i,r)&&(t.flags|=32),t.memoizedState!==null&&(i=Df(e,t,_x,null,null,n),La._currentValue=i),Wr(e,t),Me(e,t,s,n),t.child;case 6:return e===null&&K&&((e=n=me)&&(n=sw(n,t.pendingProps,Ot),n!==null?(t.stateNode=n,ze=t,me=null,e=!0):e=!1),e||ys(t)),null;case 13:return uv(e,t,n);case 4:return cl(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=gi(t,null,s,n):Me(e,t,s,n),t.child;case 11:return Gd(e,t,t.type,t.pendingProps,n);case 7:return Me(e,t,t.pendingProps,n),t.child;case 8:return Me(e,t,t.pendingProps.children,n),t.child;case 12:return Me(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,gn(t,t.type,s.value),Me(e,t,s.children,n),t.child;case 9:return i=t.type._context,s=t.pendingProps.children,vs(t),i=Pe(i),s=s(i),t.flags|=1,Me(e,t,s,n),t.child;case 14:return Yd(e,t,t.type,t.pendingProps,n);case 15:return ov(e,t,t.type,t.pendingProps,n);case 19:return fv(e,t,n);case 31:return s=t.pendingProps,n=t.mode,s={mode:s.mode,children:s.children},e===null?(n=jl(s,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Ft(e.child,s),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return cv(e,t,n);case 24:return vs(t),s=Pe(we),e===null?(i=Cf(),i===null&&(i=ie,a=Af(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:s,cache:i},Of(t),gn(t,we,i)):(e.lanes&n&&(Wc(e,t),ha(t,null,null,n),fa()),i=e.memoizedState,a=t.memoizedState,i.parent!==s?(i={parent:s,cache:s},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),gn(t,we,s)):(s=a.cache,gn(t,we,s),s!==i.cache&&Fc(t,[we],n,!0))),Me(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(A(156,t.tag))}function zt(e){e.flags|=4}function Jd(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!t0(t)){if(t=_t.current,t!==null&&((Y&4194048)===Y?Mt!==null:(Y&62914560)!==Y&&!(Y&536870912)||t!==Mt))throw ca=Ic,yy;e.flags|=8192}}function Rr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Pg():536870912,e.lanes|=t,yi|=t)}function Yi(e,t){if(!K)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&65011712,s|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Ox(e,t,n){var s=t.pendingProps;switch(Ef(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(t),null;case 1:return fe(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Jt(we),ui(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&($i(t)?zt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ad())),fe(t),null;case 26:return n=t.memoizedState,e===null?(zt(t),n!==null?(fe(t),Jd(t,n)):(fe(t),t.flags&=-16777217)):n?n!==e.memoizedState?(zt(t),fe(t),Jd(t,n)):(fe(t),t.flags&=-16777217):(e.memoizedProps!==s&&zt(t),fe(t),t.flags&=-16777217),null;case 27:ul(t),n=En.current;var i=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&zt(t);else{if(!s){if(t.stateNode===null)throw Error(A(166));return fe(t),null}e=Rt.current,$i(t)?jd(t):(e=Iv(i,s,n),t.stateNode=e,zt(t))}return fe(t),null;case 5:if(ul(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&zt(t);else{if(!s){if(t.stateNode===null)throw Error(A(166));return fe(t),null}if(e=Rt.current,$i(t))jd(t);else{switch(i=Dl(En.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?i.createElement("select",{is:s.is}):i.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?i.createElement(n,{is:s.is}):i.createElement(n)}}e[Ve]=t,e[Fe]=s;e:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(Ue(e,n,s),n){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&zt(t)}}return fe(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&zt(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(A(166));if(e=En.current,$i(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,i=ze,i!==null)switch(i.tag){case 27:case 5:s=i.memoizedProps}e[Ve]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||Zv(e.nodeValue,n)),e||ys(t)}else e=Dl(e).createTextNode(s),e[Ve]=t,t.stateNode=e}return fe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=$i(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(A(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[Ve]=t}else nr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fe(t),i=!1}else i=Ad(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Zt(t),t):(Zt(t),null)}if(Zt(t),t.flags&128)return t.lanes=n,t;if(n=s!==null,e=e!==null&&e.memoizedState!==null,n){s=t.child,i=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(i=s.alternate.memoizedState.cachePool.pool);var a=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==i&&(s.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Rr(t,t.updateQueue),fe(t),null;case 4:return ui(),e===null&&Jf(t.stateNode.containerInfo),fe(t),null;case 10:return Jt(t.type),fe(t),null;case 19:if(Re(Te),i=t.memoizedState,i===null)return fe(t),null;if(s=(t.flags&128)!==0,a=i.rendering,a===null)if(s)Yi(i,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=xl(e),a!==null){for(t.flags|=128,Yi(i,!1),e=a.updateQueue,t.updateQueue=e,Rr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)dy(n,e),n=n.sibling;return ce(Te,Te.current&1|2),t.child}e=e.sibling}i.tail!==null&&Dt()>Al&&(t.flags|=128,s=!0,Yi(i,!1),t.lanes=4194304)}else{if(!s)if(e=xl(a),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Rr(t,e),Yi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!K)return fe(t),null}else 2*Dt()-i.renderingStartTime>Al&&n!==536870912&&(t.flags|=128,s=!0,Yi(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(e=i.last,e!==null?e.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Dt(),t.sibling=null,e=Te.current,ce(Te,s?e&1|2:e&1),t):(fe(t),null);case 22:case 23:return Zt(t),Nf(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?n&536870912&&!(t.flags&128)&&(fe(t),t.subtreeFlags&6&&(t.flags|=8192)):fe(t),n=t.updateQueue,n!==null&&Rr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&Re(fs),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Jt(we),fe(t),null;case 25:return null;case 30:return null}throw Error(A(156,t.tag))}function Nx(e,t){switch(Ef(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jt(we),ui(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ul(t),null;case 13:if(Zt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Re(Te),null;case 4:return ui(),null;case 10:return Jt(t.type),null;case 22:case 23:return Zt(t),Nf(),e!==null&&Re(fs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Jt(we),null;case 25:return null;default:return null}}function dv(e,t){switch(Ef(t),t.tag){case 3:Jt(we),ui();break;case 26:case 27:case 5:ul(t);break;case 4:ui();break;case 13:Zt(t);break;case 19:Re(Te);break;case 10:Jt(t.type);break;case 22:case 23:Zt(t),Nf(),e!==null&&Re(fs);break;case 24:Jt(we)}}function or(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var i=s.next;n=i;do{if((n.tag&e)===e){s=void 0;var a=n.create,r=n.inst;s=a(),r.destroy=s}n=n.next}while(n!==i)}}catch(l){ne(t,t.return,l)}}function Ln(e,t,n){try{var s=t.updateQueue,i=s!==null?s.lastEffect:null;if(i!==null){var a=i.next;s=a;do{if((s.tag&e)===e){var r=s.inst,l=r.destroy;if(l!==void 0){r.destroy=void 0,i=t;var o=n,c=l;try{c()}catch(u){ne(i,o,u)}}}s=s.next}while(s!==a)}}catch(u){ne(t,t.return,u)}}function mv(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{_y(t,n)}catch(s){ne(e,e.return,s)}}}function pv(e,t,n){n.props=_s(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){ne(e,t,s)}}function ma(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(i){ne(e,t,i)}}function Nt(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(i){ne(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){ne(e,t,i)}else n.current=null}function gv(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(i){ne(e,e.return,i)}}function Jo(e,t,n){try{var s=e.stateNode;Jx(s,e.type,n,t),s[Fe]=t}catch(i){ne(e,e.return,i)}}function yv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hn(e.type)||e.tag===4}function Io(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cu(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=oo));else if(s!==4&&(s===27&&Hn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(cu(e,t,n),e=e.sibling;e!==null;)cu(e,t,n),e=e.sibling}function El(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&Hn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(El(e,t,n),e=e.sibling;e!==null;)El(e,t,n),e=e.sibling}function vv(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ue(t,s,n),t[Ve]=e,t[Fe]=n}catch(a){ne(e,e.return,a)}}var Gt=!1,ve=!1,Wo=!1,Id=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Rx(e,t){if(e=e.containerInfo,yu=Ll,e=ay(e),Sf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var r=0,l=-1,o=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(l=r+i),f!==a||s!==0&&f.nodeType!==3||(o=r+s),f.nodeType===3&&(r+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++c===i&&(l=r),h===a&&++u===s&&(o=r),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=l===-1||o===-1?null:{start:l,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(vu={focusedElem:e,selectionRange:n},Ll=!1,Ce=t;Ce!==null;)if(t=Ce,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ce=e;else for(;Ce!==null;){switch(t=Ce,a=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,s=n.stateNode;try{var v=_s(n.type,i,n.elementType===n.type);e=s.getSnapshotBeforeUpdate(v,a),s.__reactInternalSnapshotBeforeUpdate=e}catch(_){ne(n,n.return,_)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)_u(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_u(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(A(163))}if(e=t.sibling,e!==null){e.return=t.return,Ce=e;break}Ce=t.return}}function bv(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:ln(e,n),s&4&&or(5,n);break;case 1:if(ln(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(r){ne(n,n.return,r)}else{var i=_s(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){ne(n,n.return,r)}}s&64&&mv(n),s&512&&ma(n,n.return);break;case 3:if(ln(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{_y(e,t)}catch(r){ne(n,n.return,r)}}break;case 27:t===null&&s&4&&vv(n);case 26:case 5:ln(e,n),t===null&&s&4&&gv(n),s&512&&ma(n,n.return);break;case 12:ln(e,n);break;case 13:ln(e,n),s&4&&xv(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=zx.bind(null,n),iw(e,n))));break;case 22:if(s=n.memoizedState!==null||Gt,!s){t=t!==null&&t.memoizedState!==null||ve,i=Gt;var a=ve;Gt=s,(ve=t)&&!a?cn(e,n,(n.subtreeFlags&8772)!==0):ln(e,n),Gt=i,ve=a}break;case 30:break;default:ln(e,n)}}function _v(e){var t=e.alternate;t!==null&&(e.alternate=null,_v(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&pf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,Xe=!1;function Ht(e,t,n){for(n=n.child;n!==null;)Sv(e,t,n),n=n.sibling}function Sv(e,t,n){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(Ja,n)}catch{}switch(n.tag){case 26:ve||Nt(n,t),Ht(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ve||Nt(n,t);var s=le,i=Xe;Hn(n.type)&&(le=n.stateNode,Xe=!1),Ht(e,t,n),va(n.stateNode),le=s,Xe=i;break;case 5:ve||Nt(n,t);case 6:if(s=le,i=Xe,le=null,Ht(e,t,n),le=s,Xe=i,le!==null)if(Xe)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(n.stateNode)}catch(a){ne(n,t,a)}else try{le.removeChild(n.stateNode)}catch(a){ne(n,t,a)}break;case 18:le!==null&&(Xe?(e=le,um(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ba(e)):um(le,n.stateNode));break;case 4:s=le,i=Xe,le=n.stateNode.containerInfo,Xe=!0,Ht(e,t,n),le=s,Xe=i;break;case 0:case 11:case 14:case 15:ve||Ln(2,n,t),ve||Ln(4,n,t),Ht(e,t,n);break;case 1:ve||(Nt(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&pv(n,t,s)),Ht(e,t,n);break;case 21:Ht(e,t,n);break;case 22:ve=(s=ve)||n.memoizedState!==null,Ht(e,t,n),ve=s;break;default:Ht(e,t,n)}}function xv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(n){ne(t,t.return,n)}}function Dx(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Id),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Id),t;default:throw Error(A(435,e.tag))}}function ec(e,t){var n=Dx(e);t.forEach(function(s){var i=Hx.bind(null,e,s);n.has(s)||(n.add(s),s.then(i,i))})}function Ie(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s],a=e,r=t,l=r;e:for(;l!==null;){switch(l.tag){case 27:if(Hn(l.type)){le=l.stateNode,Xe=!1;break e}break;case 5:le=l.stateNode,Xe=!1;break e;case 3:case 4:le=l.stateNode.containerInfo,Xe=!0;break e}l=l.return}if(le===null)throw Error(A(160));Sv(a,r,i),le=null,Xe=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)wv(t,e),t=t.sibling}var Tt=null;function wv(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ie(t,e),We(e),s&4&&(Ln(3,e,e.return),or(3,e),Ln(5,e,e.return));break;case 1:Ie(t,e),We(e),s&512&&(ve||n===null||Nt(n,n.return)),s&64&&Gt&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var i=Tt;if(Ie(t,e),We(e),s&512&&(ve||n===null||Nt(n,n.return)),s&4){var a=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(s){case"title":a=i.getElementsByTagName("title")[0],(!a||a[er]||a[Ve]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(s),i.head.insertBefore(a,i.querySelector("head > title"))),Ue(a,s,n),a[Ve]=e,Oe(a),s=a;break e;case"link":var r=pm("link","href",i).get(s+(n.href||""));if(r){for(var l=0;l<r.length;l++)if(a=r[l],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(l,1);break t}}a=i.createElement(s),Ue(a,s,n),i.head.appendChild(a);break;case"meta":if(r=pm("meta","content",i).get(s+(n.content||""))){for(l=0;l<r.length;l++)if(a=r[l],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(l,1);break t}}a=i.createElement(s),Ue(a,s,n),i.head.appendChild(a);break;default:throw Error(A(468,s))}a[Ve]=e,Oe(a),s=a}e.stateNode=s}else gm(i,e.type,e.stateNode);else e.stateNode=mm(i,s,e.memoizedProps);else a!==s?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,s===null?gm(i,e.type,e.stateNode):mm(i,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Jo(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ie(t,e),We(e),s&512&&(ve||n===null||Nt(n,n.return)),n!==null&&s&4&&Jo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ie(t,e),We(e),s&512&&(ve||n===null||Nt(n,n.return)),e.flags&32){i=e.stateNode;try{hi(i,"")}catch(m){ne(e,e.return,m)}}s&4&&e.stateNode!=null&&(i=e.memoizedProps,Jo(e,i,n!==null?n.memoizedProps:i)),s&1024&&(Wo=!0);break;case 6:if(Ie(t,e),We(e),s&4){if(e.stateNode===null)throw Error(A(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(m){ne(e,e.return,m)}}break;case 3:if(nl=null,i=Tt,Tt=Ml(t.containerInfo),Ie(t,e),Tt=i,We(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Ba(t.containerInfo)}catch(m){ne(e,e.return,m)}Wo&&(Wo=!1,Tv(e));break;case 4:s=Tt,Tt=Ml(e.stateNode.containerInfo),Ie(t,e),We(e),Tt=s;break;case 12:Ie(t,e),We(e);break;case 13:Ie(t,e),We(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Qf=Dt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ec(e,s)));break;case 22:i=e.memoizedState!==null;var o=n!==null&&n.memoizedState!==null,c=Gt,u=ve;if(Gt=c||i,ve=u||o,Ie(t,e),ve=u,Gt=c,We(e),s&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||o||Gt||ve||es(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){o=n=t;try{if(a=o.stateNode,i)r=a.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{l=o.stateNode;var f=o.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(m){ne(o,o.return,m)}}}else if(t.tag===6){if(n===null){o=t;try{o.stateNode.nodeValue=i?"":o.memoizedProps}catch(m){ne(o,o.return,m)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,ec(e,n))));break;case 19:Ie(t,e),We(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ec(e,s)));break;case 30:break;case 21:break;default:Ie(t,e),We(e)}}function We(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(yv(s)){n=s;break}s=s.return}if(n==null)throw Error(A(160));switch(n.tag){case 27:var i=n.stateNode,a=Io(e);El(e,a,i);break;case 5:var r=n.stateNode;n.flags&32&&(hi(r,""),n.flags&=-33);var l=Io(e);El(e,l,r);break;case 3:case 4:var o=n.stateNode.containerInfo,c=Io(e);cu(e,c,o);break;default:throw Error(A(161))}}catch(u){ne(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Tv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Tv(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ln(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)bv(e,t.alternate,t),t=t.sibling}function es(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ln(4,t,t.return),es(t);break;case 1:Nt(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&pv(t,t.return,n),es(t);break;case 27:va(t.stateNode);case 26:case 5:Nt(t,t.return),es(t);break;case 22:t.memoizedState===null&&es(t);break;case 30:es(t);break;default:es(t)}e=e.sibling}}function cn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,i=e,a=t,r=a.flags;switch(a.tag){case 0:case 11:case 15:cn(i,a,n),or(4,a);break;case 1:if(cn(i,a,n),s=a,i=s.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){ne(s,s.return,c)}if(s=a,i=s.updateQueue,i!==null){var l=s.stateNode;try{var o=i.shared.hiddenCallbacks;if(o!==null)for(i.shared.hiddenCallbacks=null,i=0;i<o.length;i++)by(o[i],l)}catch(c){ne(s,s.return,c)}}n&&r&64&&mv(a),ma(a,a.return);break;case 27:vv(a);case 26:case 5:cn(i,a,n),n&&s===null&&r&4&&gv(a),ma(a,a.return);break;case 12:cn(i,a,n);break;case 13:cn(i,a,n),n&&r&4&&xv(i,a);break;case 22:a.memoizedState===null&&cn(i,a,n),ma(a,a.return);break;case 30:break;default:cn(i,a,n)}t=t.sibling}}function Gf(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ir(n))}function Yf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ir(e))}function Ct(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)jv(e,t,n,s),t=t.sibling}function jv(e,t,n,s){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Ct(e,t,n,s),i&2048&&or(9,t);break;case 1:Ct(e,t,n,s);break;case 3:Ct(e,t,n,s),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ir(e)));break;case 12:if(i&2048){Ct(e,t,n,s),e=t.stateNode;try{var a=t.memoizedProps,r=a.id,l=a.onPostCommit;typeof l=="function"&&l(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){ne(t,t.return,o)}}else Ct(e,t,n,s);break;case 13:Ct(e,t,n,s);break;case 23:break;case 22:a=t.stateNode,r=t.alternate,t.memoizedState!==null?a._visibility&2?Ct(e,t,n,s):pa(e,t):a._visibility&2?Ct(e,t,n,s):(a._visibility|=2,Us(e,t,n,s,(t.subtreeFlags&10256)!==0)),i&2048&&Gf(r,t);break;case 24:Ct(e,t,n,s),i&2048&&Yf(t.alternate,t);break;default:Ct(e,t,n,s)}}function Us(e,t,n,s,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var a=e,r=t,l=n,o=s,c=r.flags;switch(r.tag){case 0:case 11:case 15:Us(a,r,l,o,i),or(8,r);break;case 23:break;case 22:var u=r.stateNode;r.memoizedState!==null?u._visibility&2?Us(a,r,l,o,i):pa(a,r):(u._visibility|=2,Us(a,r,l,o,i)),i&&c&2048&&Gf(r.alternate,r);break;case 24:Us(a,r,l,o,i),i&&c&2048&&Yf(r.alternate,r);break;default:Us(a,r,l,o,i)}t=t.sibling}}function pa(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,i=s.flags;switch(s.tag){case 22:pa(n,s),i&2048&&Gf(s.alternate,s);break;case 24:pa(n,s),i&2048&&Yf(s.alternate,s);break;default:pa(n,s)}t=t.sibling}}var ea=8192;function Es(e){if(e.subtreeFlags&ea)for(e=e.child;e!==null;)Ev(e),e=e.sibling}function Ev(e){switch(e.tag){case 26:Es(e),e.flags&ea&&e.memoizedState!==null&&yw(Tt,e.memoizedState,e.memoizedProps);break;case 5:Es(e);break;case 3:case 4:var t=Tt;Tt=Ml(e.stateNode.containerInfo),Es(e),Tt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ea,ea=16777216,Es(e),ea=t):Es(e));break;default:Es(e)}}function Av(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Xi(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];Ce=s,Ov(s,e)}Av(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cv(e),e=e.sibling}function Cv(e){switch(e.tag){case 0:case 11:case 15:Xi(e),e.flags&2048&&Ln(9,e,e.return);break;case 3:Xi(e);break;case 12:Xi(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,el(e)):Xi(e);break;default:Xi(e)}}function el(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];Ce=s,Ov(s,e)}Av(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ln(8,t,t.return),el(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,el(t));break;default:el(t)}e=e.sibling}}function Ov(e,t){for(;Ce!==null;){var n=Ce;switch(n.tag){case 0:case 11:case 15:Ln(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ir(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,Ce=s;else e:for(n=e;Ce!==null;){s=Ce;var i=s.sibling,a=s.return;if(_v(s),s===n){Ce=null;break e}if(i!==null){i.return=a,Ce=i;break e}Ce=a}}}var Mx={getCacheForType:function(e){var t=Pe(we),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},kx=typeof WeakMap=="function"?WeakMap:Map,I=0,ie=null,$=null,Y=0,J=0,et=null,wn=!1,Ci=!1,Xf=!1,tn=0,pe=0,Vn=0,hs=0,Kf=0,yt=0,yi=0,ga=null,Ke=null,uu=!1,Qf=0,Al=1/0,Cl=null,On=null,ke=0,Nn=null,vi=null,ci=0,fu=0,hu=null,Nv=null,ya=0,du=null;function it(){if(I&2&&Y!==0)return Y&-Y;if(U.T!==null){var e=di;return e!==0?e:Ff()}return Hg()}function Rv(){yt===0&&(yt=!(Y&536870912)||K?Vg():536870912);var e=_t.current;return e!==null&&(e.flags|=32),yt}function at(e,t,n){(e===ie&&(J===2||J===9)||e.cancelPendingCommit!==null)&&(bi(e,0),Tn(e,Y,yt,!1)),Wa(e,n),(!(I&2)||e!==ie)&&(e===ie&&(!(I&2)&&(hs|=n),pe===4&&Tn(e,Y,yt,!1)),Pt(e))}function Dv(e,t,n){if(I&6)throw Error(A(327));var s=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Ia(e,t),i=s?Vx(e,t):tc(e,t,!0),a=s;do{if(i===0){Ci&&!s&&Tn(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!Ux(n)){i=tc(e,t,!1),a=!1;continue}if(i===2){if(a=t,e.errorRecoveryDisabledLanes&a)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var l=e;i=ga;var o=l.current.memoizedState.isDehydrated;if(o&&(bi(l,r).flags|=256),r=tc(l,r,!1),r!==2){if(Xf&&!o){l.errorRecoveryDisabledLanes|=a,hs|=a,i=4;break e}a=Ke,Ke=i,a!==null&&(Ke===null?Ke=a:Ke.push.apply(Ke,a))}i=r}if(a=!1,i!==2)continue}}if(i===1){bi(e,0),Tn(e,t,0,!0);break}e:{switch(s=e,a=i,a){case 0:case 1:throw Error(A(345));case 4:if((t&4194048)!==t)break;case 6:Tn(s,t,yt,!wn);break e;case 2:Ke=null;break;case 3:case 5:break;default:throw Error(A(329))}if((t&62914560)===t&&(i=Qf+300-Dt(),10<i)){if(Tn(s,t,yt,!wn),Zl(s,0,!0)!==0)break e;s.timeoutHandle=Jv(Wd.bind(null,s,n,Ke,Cl,uu,t,yt,hs,yi,wn,a,2,-0,0),i);break e}Wd(s,n,Ke,Cl,uu,t,yt,hs,yi,wn,a,0,-0,0)}}break}while(!0);Pt(e)}function Wd(e,t,n,s,i,a,r,l,o,c,u,f,h,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Ua={stylesheets:null,count:0,unsuspend:gw},Ev(t),f=vw(),f!==null)){e.cancelPendingCommit=f(tm.bind(null,e,t,a,n,s,i,r,l,o,u,1,h,m)),Tn(e,a,r,!c);return}tm(e,t,a,n,s,i,r,l,o)}function Ux(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var i=n[s],a=i.getSnapshot;i=i.value;try{if(!rt(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tn(e,t,n,s){t&=~Kf,t&=~hs,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var i=t;0<i;){var a=31-st(i),r=1<<a;s[a]=-1,i&=~r}n!==0&&Bg(e,n,t)}function ao(){return I&6?!0:(cr(0),!1)}function Zf(){if($!==null){if(J===0)var e=$.return;else e=$,Qt=Ts=null,Uf(e),oi=null,Da=0,e=$;for(;e!==null;)dv(e.alternate,e),e=e.return;$=null}}function bi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Wx(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Zf(),ie=e,$=n=Ft(e.current,null),Y=t,J=0,et=null,wn=!1,Ci=Ia(e,t),Xf=!1,yi=yt=Kf=hs=Vn=pe=0,Ke=ga=null,uu=!1,t&8&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var i=31-st(s),a=1<<i;t|=e[i],s&=~a}return tn=t,Wl(),n}function Mv(e,t){B=null,U.H=Sl,t===ar||t===to?(t=Rd(),J=3):t===yy?(t=Rd(),J=4):J=t===lv?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,et=t,$===null&&(pe=1,Tl(e,gt(t,e.current)))}function kv(){var e=U.H;return U.H=Sl,e===null?Sl:e}function Uv(){var e=U.A;return U.A=Mx,e}function mu(){pe=4,wn||(Y&4194048)!==Y&&_t.current!==null||(Ci=!0),!(Vn&134217727)&&!(hs&134217727)||ie===null||Tn(ie,Y,yt,!1)}function tc(e,t,n){var s=I;I|=2;var i=kv(),a=Uv();(ie!==e||Y!==t)&&(Cl=null,bi(e,t)),t=!1;var r=pe;e:do try{if(J!==0&&$!==null){var l=$,o=et;switch(J){case 8:Zf(),r=6;break e;case 3:case 2:case 9:case 6:_t.current===null&&(t=!0);var c=J;if(J=0,et=null,Fs(e,l,o,c),n&&Ci){r=0;break e}break;default:c=J,J=0,et=null,Fs(e,l,o,c)}}Lx(),r=pe;break}catch(u){Mv(e,u)}while(!0);return t&&e.shellSuspendCounter++,Qt=Ts=null,I=s,U.H=i,U.A=a,$===null&&(ie=null,Y=0,Wl()),r}function Lx(){for(;$!==null;)Lv($)}function Vx(e,t){var n=I;I|=2;var s=kv(),i=Uv();ie!==e||Y!==t?(Cl=null,Al=Dt()+500,bi(e,t)):Ci=Ia(e,t);e:do try{if(J!==0&&$!==null){t=$;var a=et;t:switch(J){case 1:J=0,et=null,Fs(e,t,a,1);break;case 2:case 9:if(Nd(a)){J=0,et=null,em(t);break}t=function(){J!==2&&J!==9||ie!==e||(J=7),Pt(e)},a.then(t,t);break e;case 3:J=7;break e;case 4:J=5;break e;case 7:Nd(a)?(J=0,et=null,em(t)):(J=0,et=null,Fs(e,t,a,7));break;case 5:var r=null;switch($.tag){case 26:r=$.memoizedState;case 5:case 27:var l=$;if(!r||t0(r)){J=0,et=null;var o=l.sibling;if(o!==null)$=o;else{var c=l.return;c!==null?($=c,ro(c)):$=null}break t}}J=0,et=null,Fs(e,t,a,5);break;case 6:J=0,et=null,Fs(e,t,a,6);break;case 8:Zf(),pe=6;break e;default:throw Error(A(462))}}Px();break}catch(u){Mv(e,u)}while(!0);return Qt=Ts=null,U.H=s,U.A=i,I=n,$!==null?0:(ie=null,Y=0,Wl(),pe)}function Px(){for(;$!==null&&!rS();)Lv($)}function Lv(e){var t=hv(e.alternate,e,tn);e.memoizedProps=e.pendingProps,t===null?ro(e):$=t}function em(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Kd(n,t,t.pendingProps,t.type,void 0,Y);break;case 11:t=Kd(n,t,t.pendingProps,t.type.render,t.ref,Y);break;case 5:Uf(t);default:dv(n,t),t=$=dy(t,tn),t=hv(n,t,tn)}e.memoizedProps=e.pendingProps,t===null?ro(e):$=t}function Fs(e,t,n,s){Qt=Ts=null,Uf(t),oi=null,Da=0;var i=t.return;try{if(Ax(e,i,t,n,Y)){pe=1,Tl(e,gt(n,e.current)),$=null;return}}catch(a){if(i!==null)throw $=i,a;pe=1,Tl(e,gt(n,e.current)),$=null;return}t.flags&32768?(K||s===1?e=!0:Ci||Y&536870912?e=!1:(wn=e=!0,(s===2||s===9||s===3||s===6)&&(s=_t.current,s!==null&&s.tag===13&&(s.flags|=16384))),Vv(t,e)):ro(t)}function ro(e){var t=e;do{if(t.flags&32768){Vv(t,wn);return}e=t.return;var n=Ox(t.alternate,t,tn);if(n!==null){$=n;return}if(t=t.sibling,t!==null){$=t;return}$=t=e}while(t!==null);pe===0&&(pe=5)}function Vv(e,t){do{var n=Nx(e.alternate,e);if(n!==null){n.flags&=32767,$=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){$=e;return}$=e=n}while(e!==null);pe=6,$=null}function tm(e,t,n,s,i,a,r,l,o){e.cancelPendingCommit=null;do lo();while(ke!==0);if(I&6)throw Error(A(327));if(t!==null){if(t===e.current)throw Error(A(177));if(a=t.lanes|t.childLanes,a|=xf,gS(e,n,a,r,l,o),e===ie&&($=ie=null,Y=0),vi=t,Nn=e,ci=n,fu=a,hu=i,Nv=s,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,qx(fl,function(){return qv(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,t.subtreeFlags&13878||s){s=U.T,U.T=null,i=Q.p,Q.p=2,r=I,I|=4;try{Rx(e,t,n)}finally{I=r,Q.p=i,U.T=s}}ke=1,Pv(),Bv(),zv()}}function Pv(){if(ke===1){ke=0;var e=Nn,t=vi,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=U.T,U.T=null;var s=Q.p;Q.p=2;var i=I;I|=4;try{wv(t,e);var a=vu,r=ay(e.containerInfo),l=a.focusedElem,o=a.selectionRange;if(r!==l&&l&&l.ownerDocument&&iy(l.ownerDocument.documentElement,l)){if(o!==null&&Sf(l)){var c=o.start,u=o.end;if(u===void 0&&(u=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(u,l.value.length);else{var f=l.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),v=l.textContent.length,_=Math.min(o.start,v),x=o.end===void 0?_:Math.min(o.end,v);!m.extend&&_>x&&(r=x,x=_,_=r);var p=xd(l,_),g=xd(l,x);if(p&&g&&(m.rangeCount!==1||m.anchorNode!==p.node||m.anchorOffset!==p.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var y=f.createRange();y.setStart(p.node,p.offset),m.removeAllRanges(),_>x?(m.addRange(y),m.extend(g.node,g.offset)):(y.setEnd(g.node,g.offset),m.addRange(y))}}}}for(f=[],m=l;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var S=f[l];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}Ll=!!yu,vu=yu=null}finally{I=i,Q.p=s,U.T=n}}e.current=t,ke=2}}function Bv(){if(ke===2){ke=0;var e=Nn,t=vi,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=U.T,U.T=null;var s=Q.p;Q.p=2;var i=I;I|=4;try{bv(e,t.alternate,t)}finally{I=i,Q.p=s,U.T=n}}ke=3}}function zv(){if(ke===4||ke===3){ke=0,lS();var e=Nn,t=vi,n=ci,s=Nv;t.subtreeFlags&10256||t.flags&10256?ke=5:(ke=0,vi=Nn=null,Hv(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(On=null),mf(n),t=t.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(Ja,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=U.T,i=Q.p,Q.p=2,U.T=null;try{for(var a=e.onRecoverableError,r=0;r<s.length;r++){var l=s[r];a(l.value,{componentStack:l.stack})}}finally{U.T=t,Q.p=i}}ci&3&&lo(),Pt(e),i=e.pendingLanes,n&4194090&&i&42?e===du?ya++:(ya=0,du=e):ya=0,cr(0)}}function Hv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ir(t)))}function lo(e){return Pv(),Bv(),zv(),qv()}function qv(){if(ke!==5)return!1;var e=Nn,t=fu;fu=0;var n=mf(ci),s=U.T,i=Q.p;try{Q.p=32>n?32:n,U.T=null,n=hu,hu=null;var a=Nn,r=ci;if(ke=0,vi=Nn=null,ci=0,I&6)throw Error(A(331));var l=I;if(I|=4,Cv(a.current),jv(a,a.current,r,n),I=l,cr(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(Ja,a)}catch{}return!0}finally{Q.p=i,U.T=s,Hv(e,t)}}function nm(e,t,n){t=gt(n,t),t=ru(e.stateNode,t,2),e=Cn(e,t,2),e!==null&&(Wa(e,2),Pt(e))}function ne(e,t,n){if(e.tag===3)nm(e,e,n);else for(;t!==null;){if(t.tag===3){nm(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(On===null||!On.has(s))){e=gt(n,e),n=av(2),s=Cn(t,n,2),s!==null&&(rv(n,s,t,e),Wa(s,2),Pt(s));break}}t=t.return}}function nc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new kx;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(n)||(Xf=!0,i.add(n),e=Bx.bind(null,e,t,n),t.then(e,e))}function Bx(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ie===e&&(Y&n)===n&&(pe===4||pe===3&&(Y&62914560)===Y&&300>Dt()-Qf?!(I&2)&&bi(e,0):Kf|=n,yi===Y&&(yi=0)),Pt(e)}function $v(e,t){t===0&&(t=Pg()),e=Ai(e,t),e!==null&&(Wa(e,t),Pt(e))}function zx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$v(e,n)}function Hx(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(A(314))}s!==null&&s.delete(t),$v(e,n)}function qx(e,t){return hf(e,t)}var Ol=null,Ls=null,pu=!1,Nl=!1,sc=!1,ds=0;function Pt(e){e!==Ls&&e.next===null&&(Ls===null?Ol=Ls=e:Ls=Ls.next=e),Nl=!0,pu||(pu=!0,Gx())}function cr(e,t){if(!sc&&Nl){sc=!0;do for(var n=!1,s=Ol;s!==null;){if(e!==0){var i=s.pendingLanes;if(i===0)var a=0;else{var r=s.suspendedLanes,l=s.pingedLanes;a=(1<<31-st(42|e)+1)-1,a&=i&~(r&~l),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,sm(s,a))}else a=Y,a=Zl(s,s===ie?a:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(a&3)||Ia(s,a)||(n=!0,sm(s,a));s=s.next}while(n);sc=!1}}function $x(){Gv()}function Gv(){Nl=pu=!1;var e=0;ds!==0&&(Ix()&&(e=ds),ds=0);for(var t=Dt(),n=null,s=Ol;s!==null;){var i=s.next,a=Yv(s,t);a===0?(s.next=null,n===null?Ol=i:n.next=i,i===null&&(Ls=n)):(n=s,(e!==0||a&3)&&(Nl=!0)),s=i}cr(e)}function Yv(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var r=31-st(a),l=1<<r,o=i[r];o===-1?(!(l&n)||l&s)&&(i[r]=pS(l,t)):o<=t&&(e.expiredLanes|=l),a&=~l}if(t=ie,n=Y,n=Zl(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(J===2||J===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Oo(s),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Ia(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&Oo(s),mf(n)){case 2:case 8:n=Ug;break;case 32:n=fl;break;case 268435456:n=Lg;break;default:n=fl}return s=Xv.bind(null,e),n=hf(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&Oo(s),e.callbackPriority=2,e.callbackNode=null,2}function Xv(e,t){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(lo()&&e.callbackNode!==n)return null;var s=Y;return s=Zl(e,e===ie?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Dv(e,s,t),Yv(e,Dt()),e.callbackNode!=null&&e.callbackNode===n?Xv.bind(null,e):null)}function sm(e,t){if(lo())return null;Dv(e,t,!0)}function Gx(){ew(function(){I&6?hf(kg,$x):Gv()})}function Ff(){return ds===0&&(ds=Vg()),ds}function im(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xr(""+e)}function am(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Yx(e,t,n,s,i){if(t==="submit"&&n&&n.stateNode===i){var a=im((i[Fe]||null).action),r=s.submitter;r&&(t=(t=r[Fe]||null)?im(t.formAction):r.getAttribute("formAction"),t!==null&&(a=t,r=null));var l=new Fl("action","action",null,s,i);e.push({event:l,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(ds!==0){var o=r?am(i,r):new FormData(i);iu(n,{pending:!0,data:o,method:i.method,action:a},null,o)}}else typeof a=="function"&&(l.preventDefault(),o=r?am(i,r):new FormData(i),iu(n,{pending:!0,data:o,method:i.method,action:a},a,o))},currentTarget:i}]})}}for(var ic=0;ic<Xc.length;ic++){var ac=Xc[ic],Xx=ac.toLowerCase(),Kx=ac[0].toUpperCase()+ac.slice(1);At(Xx,"on"+Kx)}At(ly,"onAnimationEnd");At(oy,"onAnimationIteration");At(cy,"onAnimationStart");At("dblclick","onDoubleClick");At("focusin","onFocus");At("focusout","onBlur");At(ux,"onTransitionRun");At(fx,"onTransitionStart");At(hx,"onTransitionCancel");At(uy,"onTransitionEnd");fi("onMouseEnter",["mouseout","mouseover"]);fi("onMouseLeave",["mouseout","mouseover"]);fi("onPointerEnter",["pointerout","pointerover"]);fi("onPointerLeave",["pointerout","pointerover"]);Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ma));function Kv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var r=s.length-1;0<=r;r--){var l=s[r],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==a&&i.isPropagationStopped())break e;a=l,i.currentTarget=c;try{a(i)}catch(u){wl(u)}i.currentTarget=null,a=o}else for(r=0;r<s.length;r++){if(l=s[r],o=l.instance,c=l.currentTarget,l=l.listener,o!==a&&i.isPropagationStopped())break e;a=l,i.currentTarget=c;try{a(i)}catch(u){wl(u)}i.currentTarget=null,a=o}}}}function q(e,t){var n=t[Bc];n===void 0&&(n=t[Bc]=new Set);var s=e+"__bubble";n.has(s)||(Qv(t,e,2,!1),n.add(s))}function rc(e,t,n){var s=0;t&&(s|=4),Qv(n,e,s,t)}var Dr="_reactListening"+Math.random().toString(36).slice(2);function Jf(e){if(!e[Dr]){e[Dr]=!0,qg.forEach(function(n){n!=="selectionchange"&&(Qx.has(n)||rc(n,!1,e),rc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dr]||(t[Dr]=!0,rc("selectionchange",!1,t))}}function Qv(e,t,n,s){switch(r0(t)){case 2:var i=Sw;break;case 8:i=xw;break;default:i=th}n=i.bind(null,t,n,e),i=void 0,!$c||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function lc(e,t,n,s,i){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var r=s.tag;if(r===3||r===4){var l=s.stateNode.containerInfo;if(l===i)break;if(r===4)for(r=s.return;r!==null;){var o=r.tag;if((o===3||o===4)&&r.stateNode.containerInfo===i)return;r=r.return}for(;l!==null;){if(r=Hs(l),r===null)return;if(o=r.tag,o===5||o===6||o===26||o===27){s=a=r;continue e}l=l.parentNode}}s=s.return}Fg(function(){var c=a,u=yf(n),f=[];e:{var h=fy.get(e);if(h!==void 0){var m=Fl,v=e;switch(e){case"keypress":if(Qr(n)===0)break e;case"keydown":case"keyup":m=qS;break;case"focusin":v="focus",m=Vo;break;case"focusout":v="blur",m=Vo;break;case"beforeblur":case"afterblur":m=Vo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=hd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=NS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=YS;break;case ly:case oy:case cy:m=MS;break;case uy:m=KS;break;case"scroll":case"scrollend":m=CS;break;case"wheel":m=ZS;break;case"copy":case"cut":case"paste":m=US;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=md;break;case"toggle":case"beforetoggle":m=JS}var _=(t&4)!==0,x=!_&&(e==="scroll"||e==="scrollend"),p=_?h!==null?h+"Capture":null:h;_=[];for(var g=c,y;g!==null;){var S=g;if(y=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||y===null||p===null||(S=Aa(g,p),S!=null&&_.push(ka(g,S,y))),x)break;g=g.return}0<_.length&&(h=new m(h,v,null,n,u),f.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==qc&&(v=n.relatedTarget||n.fromElement)&&(Hs(v)||v[ji]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?Hs(v):null,v!==null&&(x=Fa(v),_=v.tag,v!==x||_!==5&&_!==27&&_!==6)&&(v=null)):(m=null,v=c),m!==v)){if(_=hd,S="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(_=md,S="onPointerLeave",p="onPointerEnter",g="pointer"),x=m==null?h:Wi(m),y=v==null?h:Wi(v),h=new _(S,g+"leave",m,n,u),h.target=x,h.relatedTarget=y,S=null,Hs(u)===c&&(_=new _(p,g+"enter",v,n,u),_.target=y,_.relatedTarget=x,S=_),x=S,m&&v)t:{for(_=m,p=v,g=0,y=_;y;y=As(y))g++;for(y=0,S=p;S;S=As(S))y++;for(;0<g-y;)_=As(_),g--;for(;0<y-g;)p=As(p),y--;for(;g--;){if(_===p||p!==null&&_===p.alternate)break t;_=As(_),p=As(p)}_=null}else _=null;m!==null&&rm(f,h,m,_,!1),v!==null&&x!==null&&rm(f,x,v,_,!0)}}e:{if(h=c?Wi(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var w=vd;else if(yd(h))if(ny)w=lx;else{w=ax;var E=ix}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?c&&gf(c.elementType)&&(w=vd):w=rx;if(w&&(w=w(e,c))){ty(f,w,n,u);break e}E&&E(e,h,c),e==="focusout"&&c&&h.type==="number"&&c.memoizedProps.value!=null&&Hc(h,"number",h.value)}switch(E=c?Wi(c):window,e){case"focusin":(yd(E)||E.contentEditable==="true")&&(Gs=E,Gc=c,la=null);break;case"focusout":la=Gc=Gs=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,wd(f,n,u);break;case"selectionchange":if(cx)break;case"keydown":case"keyup":wd(f,n,u)}var b;if(_f)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else $s?Wg(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(Ig&&n.locale!=="ko"&&($s||j!=="onCompositionStart"?j==="onCompositionEnd"&&$s&&(b=Jg()):(xn=u,vf="value"in xn?xn.value:xn.textContent,$s=!0)),E=Rl(c,j),0<E.length&&(j=new dd(j,e,null,n,u),f.push({event:j,listeners:E}),b?j.data=b:(b=ey(n),b!==null&&(j.data=b)))),(b=WS?ex(e,n):tx(e,n))&&(j=Rl(c,"onBeforeInput"),0<j.length&&(E=new dd("onBeforeInput","beforeinput",null,n,u),f.push({event:E,listeners:j}),E.data=b)),Yx(f,e,c,n,u)}Kv(f,t)})}function ka(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rl(e,t){for(var n=t+"Capture",s=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Aa(e,n),i!=null&&s.unshift(ka(e,i,a)),i=Aa(e,t),i!=null&&s.push(ka(e,i,a))),e.tag===3)return s;e=e.return}return[]}function As(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function rm(e,t,n,s,i){for(var a=t._reactName,r=[];n!==null&&n!==s;){var l=n,o=l.alternate,c=l.stateNode;if(l=l.tag,o!==null&&o===s)break;l!==5&&l!==26&&l!==27||c===null||(o=c,i?(c=Aa(n,a),c!=null&&r.unshift(ka(n,c,o))):i||(c=Aa(n,a),c!=null&&r.push(ka(n,c,o)))),n=n.return}r.length!==0&&e.push({event:t,listeners:r})}var Zx=/\r\n?/g,Fx=/\u0000|\uFFFD/g;function lm(e){return(typeof e=="string"?e:""+e).replace(Zx,`
`).replace(Fx,"")}function Zv(e,t){return t=lm(t),lm(e)===t}function oo(){}function W(e,t,n,s,i,a){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||hi(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&hi(e,""+s);break;case"className":jr(e,"class",s);break;case"tabIndex":jr(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":jr(e,n,s);break;case"style":Zg(e,s,a);break;case"data":if(t!=="object"){jr(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Xr(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&W(e,t,"name",i.name,i,null),W(e,t,"formEncType",i.formEncType,i,null),W(e,t,"formMethod",i.formMethod,i,null),W(e,t,"formTarget",i.formTarget,i,null)):(W(e,t,"encType",i.encType,i,null),W(e,t,"method",i.method,i,null),W(e,t,"target",i.target,i,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Xr(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=oo);break;case"onScroll":s!=null&&q("scroll",e);break;case"onScrollEnd":s!=null&&q("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(A(61));if(n=s.__html,n!=null){if(i.children!=null)throw Error(A(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=Xr(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":q("beforetoggle",e),q("toggle",e),Yr(e,"popover",s);break;case"xlinkActuate":Bt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Bt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Bt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Bt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Bt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Bt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Bt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Bt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Bt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Yr(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=ES.get(n)||n,Yr(e,n,s))}}function gu(e,t,n,s,i,a){switch(n){case"style":Zg(e,s,a);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(A(61));if(n=s.__html,n!=null){if(i.children!=null)throw Error(A(60));e.innerHTML=n}}break;case"children":typeof s=="string"?hi(e,s):(typeof s=="number"||typeof s=="bigint")&&hi(e,""+s);break;case"onScroll":s!=null&&q("scroll",e);break;case"onScrollEnd":s!=null&&q("scrollend",e);break;case"onClick":s!=null&&(e.onclick=oo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$g.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),a=e[Fe]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,i),typeof s=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,i);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):Yr(e,n,s)}}}function Ue(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":q("error",e),q("load",e);var s=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var r=n[a];if(r!=null)switch(a){case"src":s=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(A(137,t));default:W(e,t,a,r,n,null)}}i&&W(e,t,"srcSet",n.srcSet,n,null),s&&W(e,t,"src",n.src,n,null);return;case"input":q("invalid",e);var l=a=r=i=null,o=null,c=null;for(s in n)if(n.hasOwnProperty(s)){var u=n[s];if(u!=null)switch(s){case"name":i=u;break;case"type":r=u;break;case"checked":o=u;break;case"defaultChecked":c=u;break;case"value":a=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(A(137,t));break;default:W(e,t,s,u,n,null)}}Xg(e,a,l,o,c,r,i,!1),hl(e);return;case"select":q("invalid",e),s=r=a=null;for(i in n)if(n.hasOwnProperty(i)&&(l=n[i],l!=null))switch(i){case"value":a=l;break;case"defaultValue":r=l;break;case"multiple":s=l;default:W(e,t,i,l,n,null)}t=a,n=r,e.multiple=!!s,t!=null?si(e,!!s,t,!1):n!=null&&si(e,!!s,n,!0);return;case"textarea":q("invalid",e),a=i=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":i=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(A(91));break;default:W(e,t,r,l,n,null)}Qg(e,s,i,a),hl(e);return;case"option":for(o in n)if(n.hasOwnProperty(o)&&(s=n[o],s!=null))switch(o){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:W(e,t,o,s,n,null)}return;case"dialog":q("beforetoggle",e),q("toggle",e),q("cancel",e),q("close",e);break;case"iframe":case"object":q("load",e);break;case"video":case"audio":for(s=0;s<Ma.length;s++)q(Ma[s],e);break;case"image":q("error",e),q("load",e);break;case"details":q("toggle",e);break;case"embed":case"source":case"link":q("error",e),q("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(s=n[c],s!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(A(137,t));default:W(e,t,c,s,n,null)}return;default:if(gf(t)){for(u in n)n.hasOwnProperty(u)&&(s=n[u],s!==void 0&&gu(e,t,u,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(s=n[l],s!=null&&W(e,t,l,s,n,null))}function Jx(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,r=null,l=null,o=null,c=null,u=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":o=f;default:s.hasOwnProperty(m)||W(e,t,m,null,s,f)}}for(var h in s){var m=s[h];if(f=n[h],s.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":a=m;break;case"name":i=m;break;case"checked":c=m;break;case"defaultChecked":u=m;break;case"value":r=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(A(137,t));break;default:m!==f&&W(e,t,h,m,s,f)}}zc(e,r,l,o,c,u,a,i);return;case"select":m=r=l=h=null;for(a in n)if(o=n[a],n.hasOwnProperty(a)&&o!=null)switch(a){case"value":break;case"multiple":m=o;default:s.hasOwnProperty(a)||W(e,t,a,null,s,o)}for(i in s)if(a=s[i],o=n[i],s.hasOwnProperty(i)&&(a!=null||o!=null))switch(i){case"value":h=a;break;case"defaultValue":l=a;break;case"multiple":r=a;default:a!==o&&W(e,t,i,a,s,o)}t=l,n=r,s=m,h!=null?si(e,!!n,h,!1):!!s!=!!n&&(t!=null?si(e,!!n,t,!0):si(e,!!n,n?[]:"",!1));return;case"textarea":m=h=null;for(l in n)if(i=n[l],n.hasOwnProperty(l)&&i!=null&&!s.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:W(e,t,l,null,s,i)}for(r in s)if(i=s[r],a=n[r],s.hasOwnProperty(r)&&(i!=null||a!=null))switch(r){case"value":h=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(A(91));break;default:i!==a&&W(e,t,r,i,s,a)}Kg(e,h,m);return;case"option":for(var v in n)if(h=n[v],n.hasOwnProperty(v)&&h!=null&&!s.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:W(e,t,v,null,s,h)}for(o in s)if(h=s[o],m=n[o],s.hasOwnProperty(o)&&h!==m&&(h!=null||m!=null))switch(o){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:W(e,t,o,h,s,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in n)h=n[_],n.hasOwnProperty(_)&&h!=null&&!s.hasOwnProperty(_)&&W(e,t,_,null,s,h);for(c in s)if(h=s[c],m=n[c],s.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(A(137,t));break;default:W(e,t,c,h,s,m)}return;default:if(gf(t)){for(var x in n)h=n[x],n.hasOwnProperty(x)&&h!==void 0&&!s.hasOwnProperty(x)&&gu(e,t,x,void 0,s,h);for(u in s)h=s[u],m=n[u],!s.hasOwnProperty(u)||h===m||h===void 0&&m===void 0||gu(e,t,u,h,s,m);return}}for(var p in n)h=n[p],n.hasOwnProperty(p)&&h!=null&&!s.hasOwnProperty(p)&&W(e,t,p,null,s,h);for(f in s)h=s[f],m=n[f],!s.hasOwnProperty(f)||h===m||h==null&&m==null||W(e,t,f,h,s,m)}var yu=null,vu=null;function Dl(e){return e.nodeType===9?e:e.ownerDocument}function om(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fv(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function bu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oc=null;function Ix(){var e=window.event;return e&&e.type==="popstate"?e===oc?!1:(oc=e,!0):(oc=null,!1)}var Jv=typeof setTimeout=="function"?setTimeout:void 0,Wx=typeof clearTimeout=="function"?clearTimeout:void 0,cm=typeof Promise=="function"?Promise:void 0,ew=typeof queueMicrotask=="function"?queueMicrotask:typeof cm<"u"?function(e){return cm.resolve(null).then(e).catch(tw)}:Jv;function tw(e){setTimeout(function(){throw e})}function Hn(e){return e==="head"}function um(e,t){var n=t,s=0,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<s&&8>s){n=s;var r=e.ownerDocument;if(n&1&&va(r.documentElement),n&2&&va(r.body),n&4)for(n=r.head,va(n),r=n.firstChild;r;){var l=r.nextSibling,o=r.nodeName;r[er]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=l}}if(i===0){e.removeChild(a),Ba(t);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:s=n.charCodeAt(0)-48;else s=0;n=a}while(n);Ba(t)}function _u(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":_u(n),pf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function nw(e,t,n,s){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[er])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=Et(e.nextSibling),e===null)break}return null}function sw(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Et(e.nextSibling),e===null))return null;return e}function Su(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function iw(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Et(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var xu=null;function fm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function Iv(e,t,n){switch(t=Dl(n),e){case"html":if(e=t.documentElement,!e)throw Error(A(452));return e;case"head":if(e=t.head,!e)throw Error(A(453));return e;case"body":if(e=t.body,!e)throw Error(A(454));return e;default:throw Error(A(451))}}function va(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);pf(e)}var St=new Map,hm=new Set;function Ml(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var an=Q.d;Q.d={f:aw,r:rw,D:lw,C:ow,L:cw,m:uw,X:hw,S:fw,M:dw};function aw(){var e=an.f(),t=ao();return e||t}function rw(e){var t=Ei(e);t!==null&&t.tag===5&&t.type==="form"?Yy(t):an.r(e)}var Oi=typeof document>"u"?null:document;function Wv(e,t,n){var s=Oi;if(s&&typeof t=="string"&&t){var i=pt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),hm.has(i)||(hm.add(i),e={rel:e,crossOrigin:n,href:t},s.querySelector(i)===null&&(t=s.createElement("link"),Ue(t,"link",e),Oe(t),s.head.appendChild(t)))}}function lw(e){an.D(e),Wv("dns-prefetch",e,null)}function ow(e,t){an.C(e,t),Wv("preconnect",e,t)}function cw(e,t,n){an.L(e,t,n);var s=Oi;if(s&&e&&t){var i='link[rel="preload"][as="'+pt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+pt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+pt(n.imageSizes)+'"]')):i+='[href="'+pt(e)+'"]';var a=i;switch(t){case"style":a=_i(e);break;case"script":a=Ni(e)}St.has(a)||(e=ae({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),St.set(a,e),s.querySelector(i)!==null||t==="style"&&s.querySelector(ur(a))||t==="script"&&s.querySelector(fr(a))||(t=s.createElement("link"),Ue(t,"link",e),Oe(t),s.head.appendChild(t)))}}function uw(e,t){an.m(e,t);var n=Oi;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+pt(s)+'"][href="'+pt(e)+'"]',a=i;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Ni(e)}if(!St.has(a)&&(e=ae({rel:"modulepreload",href:e},t),St.set(a,e),n.querySelector(i)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(fr(a)))return}s=n.createElement("link"),Ue(s,"link",e),Oe(s),n.head.appendChild(s)}}}function fw(e,t,n){an.S(e,t,n);var s=Oi;if(s&&e){var i=ni(s).hoistableStyles,a=_i(e);t=t||"default";var r=i.get(a);if(!r){var l={loading:0,preload:null};if(r=s.querySelector(ur(a)))l.loading=5;else{e=ae({rel:"stylesheet",href:e,"data-precedence":t},n),(n=St.get(a))&&If(e,n);var o=r=s.createElement("link");Oe(o),Ue(o,"link",e),o._p=new Promise(function(c,u){o.onload=c,o.onerror=u}),o.addEventListener("load",function(){l.loading|=1}),o.addEventListener("error",function(){l.loading|=2}),l.loading|=4,tl(r,t,s)}r={type:"stylesheet",instance:r,count:1,state:l},i.set(a,r)}}}function hw(e,t){an.X(e,t);var n=Oi;if(n&&e){var s=ni(n).hoistableScripts,i=Ni(e),a=s.get(i);a||(a=n.querySelector(fr(i)),a||(e=ae({src:e,async:!0},t),(t=St.get(i))&&Wf(e,t),a=n.createElement("script"),Oe(a),Ue(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},s.set(i,a))}}function dw(e,t){an.M(e,t);var n=Oi;if(n&&e){var s=ni(n).hoistableScripts,i=Ni(e),a=s.get(i);a||(a=n.querySelector(fr(i)),a||(e=ae({src:e,async:!0,type:"module"},t),(t=St.get(i))&&Wf(e,t),a=n.createElement("script"),Oe(a),Ue(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},s.set(i,a))}}function dm(e,t,n,s){var i=(i=En.current)?Ml(i):null;if(!i)throw Error(A(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=_i(n.href),n=ni(i).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=_i(n.href);var a=ni(i).hoistableStyles,r=a.get(e);if(r||(i=i.ownerDocument||i,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,r),(a=i.querySelector(ur(e)))&&!a._p&&(r.instance=a,r.state.loading=5),St.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},St.set(e,n),a||mw(i,e,n,r.state))),t&&s===null)throw Error(A(528,""));return r}if(t&&s!==null)throw Error(A(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ni(n),n=ni(i).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(A(444,e))}}function _i(e){return'href="'+pt(e)+'"'}function ur(e){return'link[rel="stylesheet"]['+e+"]"}function e0(e){return ae({},e,{"data-precedence":e.precedence,precedence:null})}function mw(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Ue(t,"link",n),Oe(t),e.head.appendChild(t))}function Ni(e){return'[src="'+pt(e)+'"]'}function fr(e){return"script[async]"+e}function mm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+pt(n.href)+'"]');if(s)return t.instance=s,Oe(s),s;var i=ae({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Oe(s),Ue(s,"style",i),tl(s,n.precedence,e),t.instance=s;case"stylesheet":i=_i(n.href);var a=e.querySelector(ur(i));if(a)return t.state.loading|=4,t.instance=a,Oe(a),a;s=e0(n),(i=St.get(i))&&If(s,i),a=(e.ownerDocument||e).createElement("link"),Oe(a);var r=a;return r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Ue(a,"link",s),t.state.loading|=4,tl(a,n.precedence,e),t.instance=a;case"script":return a=Ni(n.src),(i=e.querySelector(fr(a)))?(t.instance=i,Oe(i),i):(s=n,(i=St.get(a))&&(s=ae({},n),Wf(s,i)),e=e.ownerDocument||e,i=e.createElement("script"),Oe(i),Ue(i,"link",s),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(A(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(s=t.instance,t.state.loading|=4,tl(s,n.precedence,e));return t.instance}function tl(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=s.length?s[s.length-1]:null,a=i,r=0;r<s.length;r++){var l=s[r];if(l.dataset.precedence===t)a=l;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function If(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Wf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var nl=null;function pm(e,t,n){if(nl===null){var s=new Map,i=nl=new Map;i.set(n,s)}else i=nl,s=i.get(n),s||(s=new Map,i.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[er]||a[Ve]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var r=a.getAttribute(t)||"";r=e+r;var l=s.get(r);l?l.push(a):s.set(r,[a])}}return s}function gm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function pw(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function t0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Ua=null;function gw(){}function yw(e,t,n){if(Ua===null)throw Error(A(475));var s=Ua;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var i=_i(n.href),a=e.querySelector(ur(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=kl.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=a,Oe(a);return}a=e.ownerDocument||e,n=e0(n),(i=St.get(i))&&If(n,i),a=a.createElement("link"),Oe(a);var r=a;r._p=new Promise(function(l,o){r.onload=l,r.onerror=o}),Ue(a,"link",n),t.instance=a}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(s.count++,t=kl.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function vw(){if(Ua===null)throw Error(A(475));var e=Ua;return e.stylesheets&&e.count===0&&wu(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&wu(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function kl(){if(this.count--,this.count===0){if(this.stylesheets)wu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ul=null;function wu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ul=new Map,t.forEach(bw,e),Ul=null,kl.call(e))}function bw(e,t){if(!(t.state.loading&4)){var n=Ul.get(e);if(n)var s=n.get(null);else{n=new Map,Ul.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var r=i[a];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),s=r)}s&&n.set(null,s)}i=t.instance,r=i.getAttribute("data-precedence"),a=n.get(r)||s,a===s&&n.set(null,i),n.set(r,i),this.count++,s=kl.bind(this),i.addEventListener("load",s),i.addEventListener("error",s),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var La={$$typeof:Yt,Provider:null,Consumer:null,_currentValue:ls,_currentValue2:ls,_threadCount:0};function _w(e,t,n,s,i,a,r,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=No(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=No(0),this.hiddenUpdates=No(null),this.identifierPrefix=s,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function n0(e,t,n,s,i,a,r,l,o,c,u,f){return e=new _w(e,t,n,r,l,o,c,f),t=1,a===!0&&(t|=24),a=tt(3,null,null,t),e.current=a,a.stateNode=e,t=Af(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:s,isDehydrated:n,cache:t},Of(a),e}function s0(e){return e?(e=Ks,e):Ks}function i0(e,t,n,s,i,a){i=s0(i),s.context===null?s.context=i:s.pendingContext=i,s=An(t),s.payload={element:n},a=a===void 0?null:a,a!==null&&(s.callback=a),n=Cn(e,s,t),n!==null&&(at(n,e,t),ua(n,e,t))}function ym(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function eh(e,t){ym(e,t),(e=e.alternate)&&ym(e,t)}function a0(e){if(e.tag===13){var t=Ai(e,67108864);t!==null&&at(t,e,67108864),eh(e,67108864)}}var Ll=!0;function Sw(e,t,n,s){var i=U.T;U.T=null;var a=Q.p;try{Q.p=2,th(e,t,n,s)}finally{Q.p=a,U.T=i}}function xw(e,t,n,s){var i=U.T;U.T=null;var a=Q.p;try{Q.p=8,th(e,t,n,s)}finally{Q.p=a,U.T=i}}function th(e,t,n,s){if(Ll){var i=Tu(s);if(i===null)lc(e,t,s,Vl,n),vm(e,s);else if(Tw(i,e,t,n,s))s.stopPropagation();else if(vm(e,s),t&4&&-1<ww.indexOf(e)){for(;i!==null;){var a=Ei(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var r=In(a.pendingLanes);if(r!==0){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;r;){var o=1<<31-st(r);l.entanglements[1]|=o,r&=~o}Pt(a),!(I&6)&&(Al=Dt()+500,cr(0))}}break;case 13:l=Ai(a,2),l!==null&&at(l,a,2),ao(),eh(a,2)}if(a=Tu(s),a===null&&lc(e,t,s,Vl,n),a===i)break;i=a}i!==null&&s.stopPropagation()}else lc(e,t,s,null,n)}}function Tu(e){return e=yf(e),nh(e)}var Vl=null;function nh(e){if(Vl=null,e=Hs(e),e!==null){var t=Fa(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Ng(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Vl=e,null}function r0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oS()){case kg:return 2;case Ug:return 8;case fl:case cS:return 32;case Lg:return 268435456;default:return 32}default:return 32}}var ju=!1,Rn=null,Dn=null,Mn=null,Va=new Map,Pa=new Map,bn=[],ww="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vm(e,t){switch(e){case"focusin":case"focusout":Rn=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":Va.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pa.delete(t.pointerId)}}function Ki(e,t,n,s,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Ei(t),t!==null&&a0(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Tw(e,t,n,s,i){switch(t){case"focusin":return Rn=Ki(Rn,e,t,n,s,i),!0;case"dragenter":return Dn=Ki(Dn,e,t,n,s,i),!0;case"mouseover":return Mn=Ki(Mn,e,t,n,s,i),!0;case"pointerover":var a=i.pointerId;return Va.set(a,Ki(Va.get(a)||null,e,t,n,s,i)),!0;case"gotpointercapture":return a=i.pointerId,Pa.set(a,Ki(Pa.get(a)||null,e,t,n,s,i)),!0}return!1}function l0(e){var t=Hs(e.target);if(t!==null){var n=Fa(t);if(n!==null){if(t=n.tag,t===13){if(t=Ng(n),t!==null){e.blockedOn=t,yS(e.priority,function(){if(n.tag===13){var s=it();s=df(s);var i=Ai(n,s);i!==null&&at(i,n,s),eh(n,s)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Tu(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);qc=s,n.target.dispatchEvent(s),qc=null}else return t=Ei(n),t!==null&&a0(t),e.blockedOn=n,!1;t.shift()}return!0}function bm(e,t,n){sl(e)&&n.delete(t)}function jw(){ju=!1,Rn!==null&&sl(Rn)&&(Rn=null),Dn!==null&&sl(Dn)&&(Dn=null),Mn!==null&&sl(Mn)&&(Mn=null),Va.forEach(bm),Pa.forEach(bm)}function Mr(e,t){e.blockedOn===t&&(e.blockedOn=null,ju||(ju=!0,je.unstable_scheduleCallback(je.unstable_NormalPriority,jw)))}var kr=null;function _m(e){kr!==e&&(kr=e,je.unstable_scheduleCallback(je.unstable_NormalPriority,function(){kr===e&&(kr=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],i=e[t+2];if(typeof s!="function"){if(nh(s||n)===null)continue;break}var a=Ei(n);a!==null&&(e.splice(t,3),t-=3,iu(a,{pending:!0,data:i,method:n.method,action:s},s,i))}}))}function Ba(e){function t(o){return Mr(o,e)}Rn!==null&&Mr(Rn,e),Dn!==null&&Mr(Dn,e),Mn!==null&&Mr(Mn,e),Va.forEach(t),Pa.forEach(t);for(var n=0;n<bn.length;n++){var s=bn[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<bn.length&&(n=bn[0],n.blockedOn===null);)l0(n),n.blockedOn===null&&bn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var i=n[s],a=n[s+1],r=i[Fe]||null;if(typeof a=="function")r||_m(n);else if(r){var l=null;if(a&&a.hasAttribute("formAction")){if(i=a,r=a[Fe]||null)l=r.formAction;else if(nh(i)!==null)continue}else l=r.action;typeof l=="function"?n[s+1]=l:(n.splice(s,3),s-=3),_m(n)}}}function sh(e){this._internalRoot=e}co.prototype.render=sh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));var n=t.current,s=it();i0(n,s,e,t,null,null)};co.prototype.unmount=sh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;i0(e.current,2,null,e,null,null),ao(),t[ji]=null}};function co(e){this._internalRoot=e}co.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bn.length&&t!==0&&t<bn[n].priority;n++);bn.splice(n,0,e),n===0&&l0(e)}};var Sm=Cg.version;if(Sm!=="19.1.0")throw Error(A(527,Sm,"19.1.0"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=tS(t),e=e!==null?Rg(e):null,e=e===null?null:e.stateNode,e};var Ew={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ur=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ur.isDisabled&&Ur.supportsFiber)try{Ja=Ur.inject(Ew),nt=Ur}catch{}}Kl.createRoot=function(e,t){if(!Og(e))throw Error(A(299));var n=!1,s="",i=nv,a=sv,r=iv,l=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=n0(e,1,!1,null,null,n,s,i,a,r,l,null),e[ji]=t.current,Jf(e),new sh(t)};Kl.hydrateRoot=function(e,t,n){if(!Og(e))throw Error(A(299));var s=!1,i="",a=nv,r=sv,l=iv,o=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(o=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),t=n0(e,1,!0,t,n??null,s,i,a,r,l,o,c),t.context=s0(null),n=t.current,s=it(),s=df(s),i=An(s),i.callback=null,Cn(n,i,s),n=s,t.current.lanes=n,Wa(t,n),Pt(t),e[ji]=t.current,Jf(e),new co(t)};Kl.version="19.1.0";function o0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o0)}catch(e){console.error(e)}}o0(),xg.exports=Kl;var Aw=xg.exports;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function za(){return za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},za.apply(this,arguments)}var jn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(jn||(jn={}));const xm="popstate";function Cw(e){e===void 0&&(e={});function t(s,i){let{pathname:a,search:r,hash:l}=s.location;return Eu("",{pathname:a,search:r,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:u0(i)}return Nw(t,n,null,e)}function xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function c0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Ow(){return Math.random().toString(36).substr(2,8)}function wm(e,t){return{usr:e.state,key:e.key,idx:t}}function Eu(e,t,n,s){return n===void 0&&(n=null),za({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ri(t):t,{state:n,key:t&&t.key||s||Ow()})}function u0(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Ri(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Nw(e,t,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,r=i.history,l=jn.Pop,o=null,c=u();c==null&&(c=0,r.replaceState(za({},r.state,{idx:c}),""));function u(){return(r.state||{idx:null}).idx}function f(){l=jn.Pop;let x=u(),p=x==null?null:x-c;c=x,o&&o({action:l,location:_.location,delta:p})}function h(x,p){l=jn.Push;let g=Eu(_.location,x,p);c=u()+1;let y=wm(g,c),S=_.createHref(g);try{r.pushState(y,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(S)}a&&o&&o({action:l,location:_.location,delta:1})}function m(x,p){l=jn.Replace;let g=Eu(_.location,x,p);c=u();let y=wm(g,c),S=_.createHref(g);r.replaceState(y,"",S),a&&o&&o({action:l,location:_.location,delta:0})}function v(x){let p=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof x=="string"?x:u0(x);return g=g.replace(/ $/,"%20"),xe(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let _={get action(){return l},get location(){return e(i,r)},listen(x){if(o)throw new Error("A history only accepts one active listener");return i.addEventListener(xm,f),o=x,()=>{i.removeEventListener(xm,f),o=null}},createHref(x){return t(i,x)},createURL:v,encodeLocation(x){let p=v(x);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:m,go(x){return r.go(x)}};return _}var Tm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Tm||(Tm={}));function Rw(e,t,n){return n===void 0&&(n="/"),Dw(e,t,n)}function Dw(e,t,n,s){let i=typeof t=="string"?Ri(t):t,a=d0(i.pathname||"/",n);if(a==null)return null;let r=f0(e);Mw(r);let l=null;for(let o=0;l==null&&o<r.length;++o){let c=Yw(a);l=qw(r[o],c)}return l}function f0(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(a,r,l)=>{let o={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:r,route:a};o.relativePath.startsWith("/")&&(xe(o.relativePath.startsWith(s),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(s.length));let c=ms([s,o.relativePath]),u=n.concat(o);a.children&&a.children.length>0&&(xe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),f0(a.children,t,u,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:zw(c,a.index),routesMeta:u})};return e.forEach((a,r)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,r);else for(let o of h0(a.path))i(a,r,o)}),t}function h0(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let r=h0(s.join("/")),l=[];return l.push(...r.map(o=>o===""?a:[a,o].join("/"))),i&&l.push(...r),l.map(o=>e.startsWith("/")&&o===""?"/":o)}function Mw(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Hw(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const kw=/^:[\w-]+$/,Uw=3,Lw=2,Vw=1,Pw=10,Bw=-2,jm=e=>e==="*";function zw(e,t){let n=e.split("/"),s=n.length;return n.some(jm)&&(s+=Bw),t&&(s+=Lw),n.filter(i=>!jm(i)).reduce((i,a)=>i+(kw.test(a)?Uw:a===""?Vw:Pw),s)}function Hw(e,t){return e.length===t.length&&e.slice(0,-1).every((s,i)=>s===t[i])?e[e.length-1]-t[t.length-1]:0}function qw(e,t,n){let{routesMeta:s}=e,i={},a="/",r=[];for(let l=0;l<s.length;++l){let o=s[l],c=l===s.length-1,u=a==="/"?t:t.slice(a.length)||"/",f=$w({path:o.relativePath,caseSensitive:o.caseSensitive,end:c},u),h=o.route;if(!f)return null;Object.assign(i,f.params),r.push({params:i,pathname:ms([a,f.pathname]),pathnameBase:Zw(ms([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=ms([a,f.pathnameBase]))}return r}function $w(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=Gw(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],r=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((c,u,f)=>{let{paramName:h,isOptional:m}=u;if(h==="*"){let _=l[f]||"";r=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const v=l[f];return m&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:r,pattern:e}}function Gw(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),c0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(r,l,o)=>(s.push({paramName:l,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),s]}function Yw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return c0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function d0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function Xw(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:i=""}=typeof e=="string"?Ri(e):e;return{pathname:n?n.startsWith("/")?n:Kw(n,t):t,search:Fw(s),hash:Jw(i)}}function Kw(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function cc(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function m0(e,t){let n=Qw(e);return t?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function p0(e,t,n,s){s===void 0&&(s=!1);let i;typeof e=="string"?i=Ri(e):(i=za({},e),xe(!i.pathname||!i.pathname.includes("?"),cc("?","pathname","search",i)),xe(!i.pathname||!i.pathname.includes("#"),cc("#","pathname","hash",i)),xe(!i.search||!i.search.includes("#"),cc("#","search","hash",i)));let a=e===""||i.pathname==="",r=a?"/":i.pathname,l;if(r==null)l=n;else{let f=t.length-1;if(!s&&r.startsWith("..")){let h=r.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}l=f>=0?t[f]:"/"}let o=Xw(i,l),c=r&&r!=="/"&&r.endsWith("/"),u=(a||r===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(c||u)&&(o.pathname+="/"),o}const ms=e=>e.join("/").replace(/\/\/+/g,"/"),Zw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Fw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Jw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Iw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const g0=["post","put","patch","delete"];new Set(g0);const Ww=["get",...g0];new Set(Ww);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ha(){return Ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ha.apply(this,arguments)}const ih=T.createContext(null),eT=T.createContext(null),hr=T.createContext(null),uo=T.createContext(null),qn=T.createContext({outlet:null,matches:[],isDataRoute:!1}),y0=T.createContext(null);function dr(){return T.useContext(uo)!=null}function ah(){return dr()||xe(!1),T.useContext(uo).location}function v0(e){T.useContext(hr).static||T.useLayoutEffect(e)}function fo(){let{isDataRoute:e}=T.useContext(qn);return e?mT():tT()}function tT(){dr()||xe(!1);let e=T.useContext(ih),{basename:t,future:n,navigator:s}=T.useContext(hr),{matches:i}=T.useContext(qn),{pathname:a}=ah(),r=JSON.stringify(m0(i,n.v7_relativeSplatPath)),l=T.useRef(!1);return v0(()=>{l.current=!0}),T.useCallback(function(c,u){if(u===void 0&&(u={}),!l.current)return;if(typeof c=="number"){s.go(c);return}let f=p0(c,JSON.parse(r),a,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ms([t,f.pathname])),(u.replace?s.replace:s.push)(f,u.state,u)},[t,s,r,a,e])}function nT(){let{matches:e}=T.useContext(qn),t=e[e.length-1];return t?t.params:{}}function sT(e,t){return iT(e,t)}function iT(e,t,n,s){dr()||xe(!1);let{navigator:i}=T.useContext(hr),{matches:a}=T.useContext(qn),r=a[a.length-1],l=r?r.params:{};r&&r.pathname;let o=r?r.pathnameBase:"/";r&&r.route;let c=ah(),u;if(t){var f;let x=typeof t=="string"?Ri(t):t;o==="/"||(f=x.pathname)!=null&&f.startsWith(o)||xe(!1),u=x}else u=c;let h=u.pathname||"/",m=h;if(o!=="/"){let x=o.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=Rw(e,{pathname:m}),_=cT(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:ms([o,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?o:ms([o,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,n,s);return t&&_?T.createElement(uo.Provider,{value:{location:Ha({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:jn.Pop}},_):_}function aT(){let e=dT(),t=Iw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},t),n?T.createElement("pre",{style:i},n):null,null)}const rT=T.createElement(aT,null);class lT extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?T.createElement(qn.Provider,{value:this.props.routeContext},T.createElement(y0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oT(e){let{routeContext:t,match:n,children:s}=e,i=T.useContext(ih);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(qn.Provider,{value:t},s)}function cT(e,t,n,s){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let u=r.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);u>=0||xe(!1),r=r.slice(0,Math.min(r.length,u+1))}let o=!1,c=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<r.length;u++){let f=r[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:m}=n,v=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){o=!0,c>=0?r=r.slice(0,c+1):r=[r[0]];break}}}return r.reduceRight((u,f,h)=>{let m,v=!1,_=null,x=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,_=f.route.errorElement||rT,o&&(c<0&&h===0?(pT("route-fallback"),v=!0,x=null):c===h&&(v=!0,x=f.route.hydrateFallbackElement||null)));let p=t.concat(r.slice(0,h+1)),g=()=>{let y;return m?y=_:v?y=x:f.route.Component?y=T.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=u,T.createElement(oT,{match:f,routeContext:{outlet:u,matches:p,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?T.createElement(lT,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()},null)}var b0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(b0||{}),_0=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(_0||{});function uT(e){let t=T.useContext(ih);return t||xe(!1),t}function fT(e){let t=T.useContext(eT);return t||xe(!1),t}function hT(e){let t=T.useContext(qn);return t||xe(!1),t}function S0(e){let t=hT(),n=t.matches[t.matches.length-1];return n.route.id||xe(!1),n.route.id}function dT(){var e;let t=T.useContext(y0),n=fT(),s=S0();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function mT(){let{router:e}=uT(b0.UseNavigateStable),t=S0(_0.UseNavigateStable),n=T.useRef(!1);return v0(()=>{n.current=!0}),T.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ha({fromRouteId:t},a)))},[e,t])}const Em={};function pT(e,t,n){Em[e]||(Em[e]=!0)}function gT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Lr(e){let{to:t,replace:n,state:s,relative:i}=e;dr()||xe(!1);let{future:a,static:r}=T.useContext(hr),{matches:l}=T.useContext(qn),{pathname:o}=ah(),c=fo(),u=p0(t,m0(l,a.v7_relativeSplatPath),o,i==="path"),f=JSON.stringify(u);return T.useEffect(()=>c(JSON.parse(f),{replace:n,state:s,relative:i}),[c,f,i,n,s]),null}function ta(e){xe(!1)}function yT(e){let{basename:t="/",children:n=null,location:s,navigationType:i=jn.Pop,navigator:a,static:r=!1,future:l}=e;dr()&&xe(!1);let o=t.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:o,navigator:a,static:r,future:Ha({v7_relativeSplatPath:!1},l)}),[o,l,a,r]);typeof s=="string"&&(s=Ri(s));let{pathname:u="/",search:f="",hash:h="",state:m=null,key:v="default"}=s,_=T.useMemo(()=>{let x=d0(u,o);return x==null?null:{location:{pathname:x,search:f,hash:h,state:m,key:v},navigationType:i}},[o,u,f,h,m,v,i]);return _==null?null:T.createElement(hr.Provider,{value:c},T.createElement(uo.Provider,{children:n,value:_}))}function vT(e){let{children:t,location:n}=e;return sT(Au(t),n)}new Promise(()=>{});function Au(e,t){t===void 0&&(t=[]);let n=[];return T.Children.forEach(e,(s,i)=>{if(!T.isValidElement(s))return;let a=[...t,i];if(s.type===T.Fragment){n.push.apply(n,Au(s.props.children,a));return}s.type!==ta&&xe(!1),!s.props.index||!s.props.children||xe(!1);let r={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(r.children=Au(s.props.children,a)),n.push(r)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const bT="6";try{window.__reactRouterVersion=bT}catch{}const _T="startTransition",Am=Q_[_T];function ST(e){let{basename:t,children:n,future:s,window:i}=e,a=T.useRef();a.current==null&&(a.current=Cw({window:i,v5Compat:!0}));let r=a.current,[l,o]=T.useState({action:r.action,location:r.location}),{v7_startTransition:c}=s||{},u=T.useCallback(f=>{c&&Am?Am(()=>o(f)):o(f)},[o,c]);return T.useLayoutEffect(()=>r.listen(u),[r,u]),T.useEffect(()=>gT(s),[s]),T.createElement(yT,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:r,future:s})}var Cm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Cm||(Cm={}));var Om;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Om||(Om={}));const xT="modulepreload",wT=function(e){return"/"+e},Nm={},mr=function(t,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),l=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));i=Promise.allSettled(n.map(o=>{if(o=wT(o),o in Nm)return;Nm[o]=!0;const c=o.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":xT,c||(f.as="script"),f.crossOrigin="",f.href=o,l&&f.setAttribute("nonce",l),document.head.appendChild(f),c)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return i.then(r=>{for(const l of r||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},TT=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>mr(async()=>{const{default:s}=await Promise.resolve().then(()=>Di);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class rh extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class jT extends rh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Rm extends rh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Dm extends rh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Cu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Cu||(Cu={}));var ET=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(u){try{c(s.next(u))}catch(f){r(f)}}function o(u){try{c(s.throw(u))}catch(f){r(f)}}function c(u){u.done?a(u.value):i(u.value).then(l,o)}c((s=s.apply(e,t||[])).next())})};class AT{constructor(t,{headers:n={},customFetch:s,region:i=Cu.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=TT(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return ET(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:r}=n;let l={},{region:o}=n;o||(o=this.region);const c=new URL(`${this.url}/${t}`);o&&o!=="any"&&(l["x-region"]=o,c.searchParams.set("forceFunctionRegion",o));let u;r&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&r instanceof Blob||r instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=r):typeof r=="string"?(l["Content-Type"]="text/plain",u=r):typeof FormData<"u"&&r instanceof FormData?u=r:(l["Content-Type"]="application/json",u=JSON.stringify(r)));const f=yield this.fetch(c.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:u}).catch(_=>{throw new jT(_)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Rm(f);if(!f.ok)throw new Dm(f);let m=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),v;return m==="application/json"?v=yield f.json():m==="application/octet-stream"?v=yield f.blob():m==="text/event-stream"?v=f:m==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof Dm||i instanceof Rm?i.context:void 0}}})}}var Qe={},lh={},ho={},pr={},mo={},po={},CT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Si=CT();const OT=Si.fetch,x0=Si.fetch.bind(Si),w0=Si.Headers,NT=Si.Request,RT=Si.Response,Di=Object.freeze(Object.defineProperty({__proto__:null,Headers:w0,Request:NT,Response:RT,default:x0,fetch:OT},Symbol.toStringTag,{value:"Module"})),DT=O_(Di);var go={};Object.defineProperty(go,"__esModule",{value:!0});let MT=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};go.default=MT;var T0=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(po,"__esModule",{value:!0});const kT=T0(DT),UT=T0(go);let LT=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=kT.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let i=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var r,l,o;let c=null,u=null,f=null,h=a.status,m=a.statusText;if(a.ok){if(this.method!=="HEAD"){const p=await a.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=p:u=JSON.parse(p))}const _=(r=this.headers.Prefer)===null||r===void 0?void 0:r.match(/count=(exact|planned|estimated)/),x=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");_&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,h=406,m="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const _=await a.text();try{c=JSON.parse(_),Array.isArray(c)&&a.status===404&&(u=[],c=null,h=200,m="OK")}catch{a.status===404&&_===""?(h=204,m="No Content"):c={message:_}}if(c&&this.isMaybeSingle&&(!((o=c==null?void 0:c.details)===null||o===void 0)&&o.includes("0 rows"))&&(c=null,h=200,m="OK"),c&&this.shouldThrowOnError)throw new UT.default(c)}return{error:c,data:u,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(i=i.catch(a=>{var r,l,o;return{error:{message:`${(r=a==null?void 0:a.name)!==null&&r!==void 0?r:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(o=a==null?void 0:a.code)!==null&&o!==void 0?o:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};po.default=LT;var VT=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mo,"__esModule",{value:!0});const PT=VT(po);let BT=class extends PT.default{select(t){let n=!1;const s=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:i,referencedTable:a=i}={}){const r=a?`${a}.order`:"order",l=this.url.searchParams.get(r);return this.url.searchParams.set(r,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:i=s}={}){const a=typeof i>"u"?"offset":`${i}.offset`,r=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(r,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:i=!1,wal:a=!1,format:r="text"}={}){var l;const o=[t?"analyze":null,n?"verbose":null,s?"settings":null,i?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${r}; for="${c}"; options=${o};`,r==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};mo.default=BT;var zT=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pr,"__esModule",{value:!0});const HT=zT(mo);let qT=class extends HT.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:i}={}){let a="";i==="plain"?a="pl":i==="phrase"?a="ph":i==="websearch"&&(a="w");const r=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${a}fts${r}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};pr.default=qT;var $T=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ho,"__esModule",{value:!0});const Qi=$T(pr);let GT=class{constructor(t,{headers:n={},schema:s,fetch:i}){this.url=t,this.headers=n,this.schema=s,this.fetch=i}select(t,{head:n=!1,count:s}={}){const i=n?"HEAD":"GET";let a=!1;const r=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",r),s&&(this.headers.Prefer=`count=${s}`),new Qi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:s=!0}={}){const i="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const r=t.reduce((l,o)=>l.concat(Object.keys(o)),[]);if(r.length>0){const l=[...new Set(r)].map(o=>`"${o}"`);this.url.searchParams.set("columns",l.join(","))}}return new Qi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:i,defaultToNull:a=!0}={}){const r="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const o=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(o.length>0){const c=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Qi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const s="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Qi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Qi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ho.default=GT;var yo={},vo={};Object.defineProperty(vo,"__esModule",{value:!0});vo.version=void 0;vo.version="0.0.0-automated";Object.defineProperty(yo,"__esModule",{value:!0});yo.DEFAULT_HEADERS=void 0;const YT=vo;yo.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${YT.version}`};var j0=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lh,"__esModule",{value:!0});const XT=j0(ho),KT=j0(pr),QT=yo;let ZT=class E0{constructor(t,{headers:n={},schema:s,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},QT.DEFAULT_HEADERS),n),this.schemaName=s,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new XT.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new E0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:i=!1,count:a}={}){let r;const l=new URL(`${this.url}/rpc/${t}`);let o;s||i?(r=s?"HEAD":"GET",Object.entries(n).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{l.searchParams.append(u,f)})):(r="POST",o=n);const c=Object.assign({},this.headers);return a&&(c.Prefer=`count=${a}`),new KT.default({method:r,url:l,headers:c,schema:this.schemaName,body:o,fetch:this.fetch,allowEmpty:!1})}};lh.default=ZT;var Mi=bt&&bt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qe,"__esModule",{value:!0});Qe.PostgrestError=Qe.PostgrestBuilder=Qe.PostgrestTransformBuilder=Qe.PostgrestFilterBuilder=Qe.PostgrestQueryBuilder=Qe.PostgrestClient=void 0;const A0=Mi(lh);Qe.PostgrestClient=A0.default;const C0=Mi(ho);Qe.PostgrestQueryBuilder=C0.default;const O0=Mi(pr);Qe.PostgrestFilterBuilder=O0.default;const N0=Mi(mo);Qe.PostgrestTransformBuilder=N0.default;const R0=Mi(po);Qe.PostgrestBuilder=R0.default;const D0=Mi(go);Qe.PostgrestError=D0.default;var FT=Qe.default={PostgrestClient:A0.default,PostgrestQueryBuilder:C0.default,PostgrestFilterBuilder:O0.default,PostgrestTransformBuilder:N0.default,PostgrestBuilder:R0.default,PostgrestError:D0.default};const{PostgrestClient:JT,PostgrestQueryBuilder:zN,PostgrestFilterBuilder:HN,PostgrestTransformBuilder:qN,PostgrestBuilder:$N,PostgrestError:GN}=FT;function IT(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const WT=IT(),e1="2.11.15",t1=`realtime-js/${e1}`,n1="1.0.0",M0=1e4,s1=1e3;var ba;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ba||(ba={}));var Le;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Le||(Le={}));var jt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(jt||(jt={}));var Ou;(function(e){e.websocket="websocket"})(Ou||(Ou={}));var is;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(is||(is={}));class i1{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const i=n.getUint8(1),a=n.getUint8(2);let r=this.HEADER_LENGTH+2;const l=s.decode(t.slice(r,r+i));r=r+i;const o=s.decode(t.slice(r,r+a));r=r+a;const c=JSON.parse(s.decode(t.slice(r,t.byteLength)));return{ref:null,topic:l,event:o,payload:c}}}class k0{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var se;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(se||(se={}));const Mm=(e,t,n={})=>{var s;const i=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((a,r)=>(a[r]=a1(r,e,t,i),a),{})},a1=(e,t,n,s)=>{const i=t.find(l=>l.name===e),a=i==null?void 0:i.type,r=n[e];return a&&!s.includes(a)?U0(a,r):Nu(r)},U0=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return c1(t,n)}switch(e){case se.bool:return r1(t);case se.float4:case se.float8:case se.int2:case se.int4:case se.int8:case se.numeric:case se.oid:return l1(t);case se.json:case se.jsonb:return o1(t);case se.timestamp:return u1(t);case se.abstime:case se.date:case se.daterange:case se.int4range:case se.int8range:case se.money:case se.reltime:case se.text:case se.time:case se.timestamptz:case se.timetz:case se.tsrange:case se.tstzrange:return Nu(t);default:return Nu(t)}},Nu=e=>e,r1=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},l1=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},o1=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},c1=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let a;const r=e.slice(1,n);try{a=JSON.parse("["+r+"]")}catch{a=r?r.split(","):[]}return a.map(l=>U0(t,l))}return e},u1=e=>typeof e=="string"?e.replace(" ","T"):e,L0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class uc{constructor(t,n,s={},i=M0){this.channel=t,this.event=n,this.payload=s,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var km;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(km||(km={}));class _a{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},i=>{const{onJoin:a,onLeave:r,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_a.syncState(this.state,i,a,r),this.pendingDiffs.forEach(o=>{this.state=_a.syncDiff(this.state,o,a,r)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},i=>{const{onJoin:a,onLeave:r,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=_a.syncDiff(this.state,i,a,r),l())}),this.onJoin((i,a,r)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:r})}),this.onLeave((i,a,r)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,i){const a=this.cloneDeep(t),r=this.transformState(n),l={},o={};return this.map(a,(c,u)=>{r[c]||(o[c]=u)}),this.map(r,(c,u)=>{const f=a[c];if(f){const h=u.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),v=u.filter(x=>m.indexOf(x.presence_ref)<0),_=f.filter(x=>h.indexOf(x.presence_ref)<0);v.length>0&&(l[c]=v),_.length>0&&(o[c]=_)}else l[c]=u}),this.syncDiff(a,{joins:l,leaves:o},s,i)}static syncDiff(t,n,s,i){const{joins:a,leaves:r}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),i||(i=()=>{}),this.map(a,(l,o)=>{var c;const u=(c=t[l])!==null&&c!==void 0?c:[];if(t[l]=this.cloneDeep(o),u.length>0){const f=t[l].map(m=>m.presence_ref),h=u.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}s(l,u,o)}),this.map(r,(l,o)=>{let c=t[l];if(!c)return;const u=o.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[l]=c,i(l,c,o),c.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const i=t[s];return"metas"in i?n[s]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Um;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Um||(Um={}));var Lm;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Lm||(Lm={}));var $t;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})($t||($t={}));class oh{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=Le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new uc(this,jt.join,this.params,this.timeout),this.rejoinTimer=new k0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Le.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jt.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new _a(this),this.broadcastEndpointURL=L0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Le.closed){const{config:{broadcast:a,presence:r,private:l}}=this.params;this._onError(u=>t==null?void 0:t($t.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t($t.CLOSED));const o={},c={broadcast:a,presence:r,postgres_changes:(i=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(u=>u.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},o)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){t==null||t($t.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let _=0;_<m;_++){const x=h[_],{filter:{event:p,schema:g,table:y,filter:S}}=x,w=u&&u[_];if(w&&w.event===p&&w.schema===g&&w.table===y&&w.filter===S)v.push(Object.assign(Object.assign({},x),{id:w.id}));else{this.unsubscribe(),this.state=Le.errored,t==null||t($t.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t($t.SUBSCRIBED);return}}).receive("error",u=>{this.state=Le.errored,t==null||t($t.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t($t.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this._on(t,n,s)}async send(t,n={}){var s,i;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:r}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var r,l,o;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(l=(r=this.params)===null||r===void 0?void 0:r.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&a("ok"),c.receive("ok",()=>a("ok")),c.receive("error",()=>a("error")),c.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Le.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jt.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(i=>{s=new uc(this,jt.leave,{},t),s.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,s){const i=new AbortController,a=setTimeout(()=>i.abort(),s),r=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),r}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new uc(this,t,n,s);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var i,a;const r=t.toLocaleLowerCase(),{close:l,error:o,leave:c,join:u}=jt;if(s&&[l,o,c,u].indexOf(r)>=0&&s!==this._joinRef())return;let h=this._onMessage(r,n,s);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var v,_,x;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(_=m.filter)===null||_===void 0?void 0:_.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===r}).map(m=>m.callback(h,s)):(a=this.bindings[r])===null||a===void 0||a.filter(m=>{var v,_,x,p,g,y;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in m){const S=m.id,w=(v=m.filter)===null||v===void 0?void 0:v.event;return S&&((_=n.ids)===null||_===void 0?void 0:_.includes(S))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(g=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return S==="*"||S===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===r}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:_,table:x,commit_timestamp:p,type:g,errors:y}=v;h=Object.assign(Object.assign({},{schema:_,table:x,commit_timestamp:p,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(v))}m.callback(h,s)})}_isClosed(){return this.state===Le.closed}_isJoined(){return this.state===Le.joined}_isJoining(){return this.state===Le.joining}_isLeaving(){return this.state===Le.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:s};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&oh.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(jt.close,{},t)}_onError(t){this._on(jt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Le.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Mm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Mm(t.columns,t.old_record)),n}}const Vm=()=>{},f1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class h1{constructor(t,n){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=M0,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Vm,this.ref=0,this.logger=Vm,this.conn=null,this.sendBuffer=[],this.serializer=new i1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let r;return a?r=a:typeof fetch>"u"?r=(...l)=>mr(async()=>{const{default:o}=await Promise.resolve().then(()=>Di);return{default:o}},void 0).then(({default:o})=>o(...l)):r=fetch,(...l)=>r(...l)},this.endPoint=`${t}/${Ou.websocket}`,this.httpEndpoint=L0(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,r)=>r(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new k0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=WT),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:n1}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case ba.connecting:return is.Connecting;case ba.open:return is.Open;case ba.closing:return is.Closing;default:return is.Closed}}isConnected(){return this.connectionState()===is.Open}channel(t,n={config:{}}){const s=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===s);if(i)return i;{const a=new oh(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:s,payload:i,ref:a}=t,r=()=>{this.encode(t,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${n} ${s} (${a})`,i),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:t1};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(jt.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(s1,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:i,payload:a,ref:r}=n;s==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),r&&r===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${s} ${i} ${r&&"("+r+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(s)).forEach(l=>l._trigger(i,a,r)),this.stateChangeCallbacks.message.forEach(l=>l(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(jt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${s}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([f1],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}}class ch extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ae(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class d1 extends ch{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ru extends ch{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var m1=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(u){try{c(s.next(u))}catch(f){r(f)}}function o(u){try{c(s.throw(u))}catch(f){r(f)}}function c(u){u.done?a(u.value):i(u.value).then(l,o)}c((s=s.apply(e,t||[])).next())})};const V0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>mr(async()=>{const{default:s}=await Promise.resolve().then(()=>Di);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},p1=()=>m1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield mr(()=>Promise.resolve().then(()=>Di),void 0)).Response:Response}),Du=e=>{if(Array.isArray(e))return e.map(n=>Du(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=Du(s)}),t};var js=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(u){try{c(s.next(u))}catch(f){r(f)}}function o(u){try{c(s.throw(u))}catch(f){r(f)}}function c(u){u.done?a(u.value):i(u.value).then(l,o)}c((s=s.apply(e,t||[])).next())})};const fc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),g1=(e,t,n)=>js(void 0,void 0,void 0,function*(){const s=yield p1();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{t(new d1(fc(i),e.status||500))}).catch(i=>{t(new Ru(fc(i),i))}):t(new Ru(fc(e),e))}),y1=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s&&(i.body=JSON.stringify(s)),Object.assign(Object.assign({},i),n))};function gr(e,t,n,s,i,a){return js(this,void 0,void 0,function*(){return new Promise((r,l)=>{e(n,y1(t,s,i,a)).then(o=>{if(!o.ok)throw o;return s!=null&&s.noResolveJson?o:o.json()}).then(o=>r(o)).catch(o=>g1(o,l,s))})})}function Pl(e,t,n,s){return js(this,void 0,void 0,function*(){return gr(e,"GET",t,n,s)})}function mn(e,t,n,s,i){return js(this,void 0,void 0,function*(){return gr(e,"POST",t,s,i,n)})}function v1(e,t,n,s,i){return js(this,void 0,void 0,function*(){return gr(e,"PUT",t,s,i,n)})}function b1(e,t,n,s){return js(this,void 0,void 0,function*(){return gr(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function P0(e,t,n,s,i){return js(this,void 0,void 0,function*(){return gr(e,"DELETE",t,s,i,n)})}var Ge=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(u){try{c(s.next(u))}catch(f){r(f)}}function o(u){try{c(s.throw(u))}catch(f){r(f)}}function c(u){u.done?a(u.value):i(u.value).then(l,o)}c((s=s.apply(e,t||[])).next())})};const _1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class S1{constructor(t,n={},s,i){this.url=t,this.headers=n,this.bucketId=s,this.fetch=V0(i)}uploadOrUpdate(t,n,s,i){return Ge(this,void 0,void 0,function*(){try{let a;const r=Object.assign(Object.assign({},Pm),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const o=r.metadata;typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",r.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",r.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=s,l["cache-control"]=`max-age=${r.cacheControl}`,l["content-type"]=r.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:a,headers:l},r!=null&&r.duplex?{duplex:r.duplex}:{})),h=yield f.json();return f.ok?{data:{path:c,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(a){if(Ae(a))return{data:null,error:a};throw a}})}upload(t,n,s){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,i){return Ge(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),r=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${r}`);l.searchParams.set("token",n);try{let o;const c=Object.assign({upsert:Pm.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&s instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),o.append("",s)):typeof FormData<"u"&&s instanceof FormData?(o=s,o.append("cacheControl",c.cacheControl)):(o=s,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:o,headers:u}),h=yield f.json();return f.ok?{data:{path:a,fullPath:h.Key},error:null}:{data:null,error:h}}catch(o){if(Ae(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,n){return Ge(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const a=yield mn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:i}),r=new URL(this.url+a.url),l=r.searchParams.get("token");if(!l)throw new ch("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:l},error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}update(t,n,s){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return Ge(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ae(i))return{data:null,error:i};throw i}})}copy(t,n,s){return Ge(this,void 0,void 0,function*(){try{return{data:{path:(yield mn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ae(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,s){return Ge(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield mn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const r=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${r}`)},{data:a,error:null}}catch(i){if(Ae(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,s){return Ge(this,void 0,void 0,function*(){try{const i=yield mn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:i.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${a}`):null})),error:null}}catch(i){if(Ae(i))return{data:null,error:i};throw i}})}download(t,n){return Ge(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),r=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Pl(this.fetch,`${this.url}/${i}/${l}${r}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Ae(l))return{data:null,error:l};throw l}})}info(t){return Ge(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield Pl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Du(s),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}exists(t){return Ge(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield b1(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Ae(s)&&s instanceof Ru){const i=s.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),i=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&i.push(a);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});o!==""&&i.push(o);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${s}${c}`)}}}remove(t){return Ge(this,void 0,void 0,function*(){try{return{data:yield P0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}list(t,n,s){return Ge(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},_1),n),{prefix:t||""});return{data:yield mn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(Ae(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const x1="2.7.1",w1={"X-Client-Info":`storage-js/${x1}`};var Cs=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(u){try{c(s.next(u))}catch(f){r(f)}}function o(u){try{c(s.throw(u))}catch(f){r(f)}}function c(u){u.done?a(u.value):i(u.value).then(l,o)}c((s=s.apply(e,t||[])).next())})};class T1{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},w1),n),this.fetch=V0(s)}listBuckets(){return Cs(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ae(t))return{data:null,error:t};throw t}})}getBucket(t){return Cs(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Cs(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Cs(this,void 0,void 0,function*(){try{return{data:yield v1(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Ae(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Cs(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Cs(this,void 0,void 0,function*(){try{return{data:yield P0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}}class j1 extends T1{constructor(t,n={},s){super(t,n,s)}from(t){return new S1(this.url,this.headers,t,this.fetch)}}const E1="2.52.0";let na="";typeof Deno<"u"?na="deno":typeof document<"u"?na="web":typeof navigator<"u"&&navigator.product==="ReactNative"?na="react-native":na="node";const A1={"X-Client-Info":`supabase-js-${na}/${E1}`},C1={headers:A1},O1={schema:"public"},N1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},R1={};var D1=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(u){try{c(s.next(u))}catch(f){r(f)}}function o(u){try{c(s.throw(u))}catch(f){r(f)}}function c(u){u.done?a(u.value):i(u.value).then(l,o)}c((s=s.apply(e,t||[])).next())})};const M1=e=>{let t;return e?t=e:typeof fetch>"u"?t=x0:t=fetch,(...n)=>t(...n)},k1=()=>typeof Headers>"u"?w0:Headers,U1=(e,t,n)=>{const s=M1(n),i=k1();return(a,r)=>D1(void 0,void 0,void 0,function*(){var l;const o=(l=yield t())!==null&&l!==void 0?l:e;let c=new i(r==null?void 0:r.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${o}`),s(a,Object.assign(Object.assign({},r),{headers:c}))})};var L1=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(u){try{c(s.next(u))}catch(f){r(f)}}function o(u){try{c(s.throw(u))}catch(f){r(f)}}function c(u){u.done?a(u.value):i(u.value).then(l,o)}c((s=s.apply(e,t||[])).next())})};function V1(e){return e.endsWith("/")?e:e+"/"}function P1(e,t){var n,s;const{db:i,auth:a,realtime:r,global:l}=e,{db:o,auth:c,realtime:u,global:f}=t,h={db:Object.assign(Object.assign({},o),i),auth:Object.assign(Object.assign({},c),a),realtime:Object.assign(Object.assign({},u),r),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>L1(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const B0="2.71.1",Vs=30*1e3,Mu=3,hc=Mu*Vs,B1="http://localhost:9999",z1="supabase.auth.token",H1={"X-Client-Info":`gotrue-js/${B0}`},ku="X-Supabase-Api-Version",z0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},q1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$1=10*60*1e3;class uh extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function V(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class G1 extends uh{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Y1(e){return V(e)&&e.name==="AuthApiError"}class H0 extends uh{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class $n extends uh{constructor(t,n,s,i){super(t,s,i),this.name=n,this.status=s}}class un extends $n{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function X1(e){return V(e)&&e.name==="AuthSessionMissingError"}class Vr extends $n{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pr extends $n{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Br extends $n{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function K1(e){return V(e)&&e.name==="AuthImplicitGrantRedirectError"}class Bm extends $n{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Uu extends $n{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function dc(e){return V(e)&&e.name==="AuthRetryableFetchError"}class zm extends $n{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class Lu extends $n{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hm=` 	
\r=`.split(""),Q1=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Hm.length;t+=1)e[Hm[t].charCodeAt(0)]=-2;for(let t=0;t<Bl.length;t+=1)e[Bl[t].charCodeAt(0)]=t;return e})();function qm(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Bl[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Bl[s]),t.queuedBits-=6}}function q0(e,t,n){const s=Q1[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function $m(e){const t=[],n=r=>{t.push(String.fromCodePoint(r))},s={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=r=>{J1(r,s,n)};for(let r=0;r<e.length;r+=1)q0(e.charCodeAt(r),i,a);return t.join("")}function Z1(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function F1(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const i=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Z1(s,t)}}function J1(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function I1(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)q0(e.charCodeAt(i),n,s);return new Uint8Array(t)}function W1(e){const t=[];return F1(e,n=>t.push(n)),new Uint8Array(t)}function ej(e){const t=[],n={queue:0,queuedBits:0},s=i=>{t.push(i)};return e.forEach(i=>qm(i,n,s)),qm(null,n,s),t.join("")}function tj(e){return Math.round(Date.now()/1e3)+e}function nj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const xt=()=>typeof window<"u"&&typeof document<"u",Zn={tested:!1,writable:!1},$0=()=>{if(!xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zn.tested)return Zn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Zn.tested=!0,Zn.writable=!0}catch{Zn.tested=!0,Zn.writable=!1}return Zn.writable};function sj(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((s,i)=>{t[i]=s}),t}const G0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>mr(async()=>{const{default:s}=await Promise.resolve().then(()=>Di);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},ij=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ps=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Fn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},on=async(e,t)=>{await e.removeItem(t)};class bo{constructor(){this.promise=new bo.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}bo.promiseConstructor=Promise;function mc(e){const t=e.split(".");if(t.length!==3)throw new Lu("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!q1.test(t[s]))throw new Lu("JWT not in base64url format");return{header:JSON.parse($m(t[0])),payload:JSON.parse($m(t[1])),signature:I1(t[2]),raw:{header:t[0],payload:t[1]}}}async function aj(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function rj(e,t){return new Promise((s,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const r=await e(a);if(!t(a,null,r)){s(r);return}}catch(r){if(!t(a,r)){i(r);return}}})()})}function lj(e){return("0"+e.toString(16)).substr(-2)}function oj(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*s));return i}return crypto.getRandomValues(t),Array.from(t,lj).join("")}async function cj(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(s);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function uj(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await cj(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Os(e,t,n=!1){const s=oj();let i=s;n&&(i+="/PASSWORD_RECOVERY"),await Ps(e,`${t}-code-verifier`,i);const a=await uj(s);return[a,s===a?"plain":"s256"]}const fj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hj(e){const t=e.headers.get(ku);if(!t||!t.match(fj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function dj(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function mj(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const pj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ns(e){if(!pj.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pc(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Gm(e){return JSON.parse(JSON.stringify(e))}var gj=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};const ts=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yj=[502,503,504];async function Ym(e){var t;if(!ij(e))throw new Uu(ts(e),0);if(yj.includes(e.status))throw new Uu(ts(e),e.status);let n;try{n=await e.json()}catch(a){throw new H0(ts(a),a)}let s;const i=hj(e);if(i&&i.getTime()>=z0["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new zm(ts(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new un}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,r)=>a&&typeof r=="string",!0))throw new zm(ts(n),e.status,n.weak_password.reasons);throw new G1(ts(n),e.status||500,s)}const vj=(e,t,n,s)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(s),Object.assign(Object.assign({},i),n))};async function H(e,t,n,s){var i;const a=Object.assign({},s==null?void 0:s.headers);a[ku]||(a[ku]=z0["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const r=(i=s==null?void 0:s.query)!==null&&i!==void 0?i:{};s!=null&&s.redirectTo&&(r.redirect_to=s.redirectTo);const l=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",o=await bj(e,t,n+l,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(o):{data:Object.assign({},o),error:null}}async function bj(e,t,n,s,i,a){const r=vj(t,s,i,a);let l;try{l=await e(n,Object.assign({},r))}catch(o){throw console.error(o),new Uu(ts(o),0)}if(l.ok||await Ym(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(o){await Ym(o)}}function qt(e){var t;let n=null;wj(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=tj(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function Xm(e){const t=qt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function _n(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function _j(e){return{data:e,error:null}}function Sj(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a}=e,r=gj(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:i,verification_type:a},o=Object.assign({},r);return{data:{properties:l,user:o},error:null}}function xj(e){return e}function wj(e){return e.access_token&&e.refresh_token&&e.expires_in}const gc=["global","local","others"];var Tj=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};class jj{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=G0(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=gc[0]){if(gc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gc.join(", ")}`);try{return await H(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await H(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:_n})}catch(s){if(V(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=Tj(t,["options"]),i=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(i.new_email=s==null?void 0:s.newEmail,delete i.newEmail),await H(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Sj,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(V(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await H(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_n})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,i,a,r,l,o;try{const c={nextPage:null,lastPage:0,total:0},u=await H(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:xj});if(u.error)throw u.error;const f=await u.json(),h=(r=u.headers.get("x-total-count"))!==null&&r!==void 0?r:0,m=(o=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return m.length>0&&(m.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);c[`${x}Page`]=_}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(V(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Ns(t);try{return await H(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_n})}catch(n){if(V(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ns(t);try{return await H(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:_n})}catch(s){if(V(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Ns(t);try{return await H(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:_n})}catch(s){if(V(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Ns(t.userId);try{const{data:n,error:s}=await H(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:s}}catch(n){if(V(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ns(t.userId),Ns(t.id);try{return{data:await H(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}}function Km(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Ej(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Rs={debug:!!(globalThis&&$0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Y0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Aj extends Y0{}async function Cj(e,t,n){Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async i=>{if(i){Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Aj(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rs.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Ej();const Oj={url:B1,storageKey:z1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:H1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qm(e,t,n){return await n()}const Ds={};class qa{constructor(t){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qa.nextInstanceID,qa.nextInstanceID+=1,this.instanceID>0&&xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Oj),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new jj({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=G0(i.fetch),this.lock=i.lock||Qm,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:xt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Cj:this.lock=Qm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:$0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Km(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Km(this.memoryStorage)),xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Ds[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ds[this.storageKey]=Object.assign(Object.assign({},Ds[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ds[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ds[this.storageKey]=Object.assign(Object.assign({},Ds[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${B0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=sj(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),xt()&&this.detectSessionInUrl&&s!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),K1(a)){const o=(t=a.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:r,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",r,"redirect type",l),await this._saveSession(r),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return V(n)?{error:n}:{error:new H0("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,i;try{const a=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:qt}),{data:r,error:l}=a;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(a){if(V(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,s,i;try{let a;if("email"in t){const{email:u,password:f,options:h}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Os(this.storage,this.storageKey)),a=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:qt})}else if("phone"in t){const{phone:u,password:f,options:h}=t;a=await H(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:qt})}else throw new Pr("You must provide either an email or phone number and a password");const{data:r,error:l}=a;if(l||!r)return{data:{user:null,session:null},error:l};const o=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(a){if(V(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:r,options:l}=t;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xm})}else if("phone"in t){const{phone:a,password:r,options:l}=t;n=await H(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Xm})}else throw new Pr("You must provide either an email or phone number and a password");const{data:s,error:i}=n;return i?{data:{user:null,session:null},error:i}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Vr}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:i})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,s,i,a,r,l,o,c,u,f,h,m;let v,_;if("message"in t)v=t.message,_=t.signature;else{const{chain:x,wallet:p,statement:g,options:y}=t;let S;if(xt())if(typeof p=="object")S=p;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))S=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=p}const w=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const E=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),g?{statement:g}:null));let b;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")b=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)b=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)v=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),_=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${w.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(i=(s=y==null?void 0:y.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((r=y==null?void 0:y.signInWithSolana)===null||r===void 0)&&r.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(u=y==null?void 0:y.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const E=await S.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=E}}try{const{data:x,error:p}=await H(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:ej(_)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:qt});if(p)throw p;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Vr}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:p})}catch(x){if(V(x))return{data:{user:null,session:null},error:x};throw x}}async _exchangeCodeForSession(t){const n=await Fn(this.storage,`${this.storageKey}-code-verifier`),[s,i]=(n??"").split("/");try{const{data:a,error:r}=await H(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:qt});if(await on(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Vr}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:r})}catch(a){if(V(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:s,token:i,access_token:a,nonce:r}=t,l=await H(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:i,access_token:a,nonce:r,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:qt}),{data:o,error:c}=l;return c?{data:{user:null,session:null},error:c}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Vr}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:c})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,i,a,r;try{if("email"in t){const{email:l,options:o}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Os(this.storage,this.storageKey));const{error:f}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=o==null?void 0:o.data)!==null&&n!==void 0?n:{},create_user:(s=o==null?void 0:o.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:o}=t,{data:c,error:u}=await H(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=o==null?void 0:o.data)!==null&&i!==void 0?i:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(r=o==null?void 0:o.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Pr("You must provide either an email or phone number.")}catch(l){if(V(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,s;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:r,error:l}=await H(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:qt});if(l)throw l;if(!r)throw new Error("An error occurred on token verification.");const o=r.session,c=r.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:c,session:o},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,s,i;try{let a=null,r=null;return this.flowType==="pkce"&&([a,r]=await Os(this.storage,this.storageKey)),await H(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:r}),headers:this.headers,xform:_j})}catch(a){if(V(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new un;const{error:i}=await H(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(V(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:i,options:a}=t,{error:r}=await H(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in t){const{phone:s,type:i,options:a}=t,{data:r,error:l}=await H(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:l}}throw new Pr("You must provide either an email or phone number and a type")}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Fn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<hc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const r=await Fn(this.userStorage,this.storageKey+"-user");r!=null&&r.user?t.user=r.user:t.user=pc()}if(this.storage.isServer&&t.user){let r=this.suppressGetSessionWarning;t=new Proxy(t,{get:(o,c,u)=>(!r&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r=!0,this.suppressGetSessionWarning=!0),Reflect.get(o,c,u))})}return{data:{session:t},error:null}}const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_n}):await this._useSession(async n=>{var s,i,a;const{data:r,error:l}=n;if(l)throw l;return!(!((s=r.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new un}:await H(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:_n})})}catch(n){if(V(n))return X1(n)&&(await this._removeSession(),await on(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:i,error:a}=s;if(a)throw a;if(!i.session)throw new un;const r=i.session;let l=null,o=null;this.flowType==="pkce"&&t.email!=null&&([l,o]=await Os(this.storage,this.storageKey));const{data:c,error:u}=await H(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:o}),jwt:r.access_token,xform:_n});if(u)throw u;return r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(s){if(V(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new un;const n=Date.now()/1e3;let s=n,i=!0,a=null;const{payload:r}=mc(t.access_token);if(r.exp&&(s=r.exp,i=s<=n),i){const{session:l,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:o}=await this._getUser(t.access_token);if(o)throw o;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(V(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:r,error:l}=n;if(l)throw l;t=(s=r.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new un;const{session:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!xt())throw new Br("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Br(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Bm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Br("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Bm("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:i,access_token:a,refresh_token:r,expires_in:l,expires_at:o,token_type:c}=t;if(!a||!l||!r||!c)throw new Br("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let h=u+f;o&&(h=parseInt(o));const m=h-u;m*1e3<=Vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=h-f;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,u);const{data:_,error:x}=await this._getUser(a);if(x)throw x;const p={provider_token:s,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:r,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(s){if(V(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Fn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{error:a};const r=(s=i.session)===null||s===void 0?void 0:s.access_token;if(r){const{error:l}=await this.admin.signOut(r,t);if(l&&!(Y1(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await on(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=nj(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,i;try{const{data:{session:a},error:r}=n;if(r)throw r;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let s=null,i=null;this.flowType==="pkce"&&([s,i]=await Os(this.storage,this.storageKey,!0));try{return await H(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(V(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(V(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:i}=await this._useSession(async a=>{var r,l,o,c,u;const{data:f,error:h}=a;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await H(this.fetch,"GET",m,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return xt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(V(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:r}=n;if(r)throw r;return await H(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await rj(async i=>(i>0&&await aj(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await H(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:qt})),(i,a)=>{const r=200*Math.pow(2,i);return a&&dc(a)&&Date.now()+r-s<Vs})}catch(s){if(this._debug(n,"error",s),V(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),xt()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const i=await Fn(this.storage,this.storageKey);if(i&&this.userStorage){let r=await Fn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!r&&(r={user:i.user},await Ps(this.userStorage,this.storageKey+"-user",r)),i.user=(t=r==null?void 0:r.user)!==null&&t!==void 0?t:pc()}else if(i&&!i.user&&!i.user){const r=await Fn(this.storage,this.storageKey+"-user");r&&(r!=null&&r.user)?(i.user=r.user,await on(this.storage,this.storageKey+"-user"),await Ps(this.storage,this.storageKey,i)):i.user=pc()}if(this._debug(s,"session from storage",i),!this._isValidSession(i)){this._debug(s,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<hc;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${hc}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:r}=await this._callRefreshToken(i.refresh_token);r&&(console.error(r),dc(r)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",r),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:r,error:l}=await this._getUser(i.access_token);!l&&(r!=null&&r.user)?(i.user=r.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(s,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(s,"error",i),console.error(i);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new un;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new bo;const{data:a,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!a.session)throw new un;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),V(a)){const r={session:null,error:a};return dc(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(r),r}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,s=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],r=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(o){a.push(o)}});if(await Promise.all(r),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Ps(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=Gm(i);await Ps(this.storage,this.storageKey,a)}else{const i=Gm(n);await Ps(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await on(this.storage,this.storageKey),await on(this.storage,this.storageKey+"-code-verifier"),await on(this.storage,this.storageKey+"-user"),this.userStorage&&await on(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Vs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((s.expires_at*1e3-t)/Vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Vs}ms, refresh threshold is ${Mu} ticks`),i<=Mu&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Y0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const i=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&i.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&i.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,r]=await Os(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(r)}`});i.push(l.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);i.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&i.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await H(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,i;const{data:a,error:r}=n;if(r)return{data:null,error:r};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:o,error:c}=await H(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=o==null?void 0:o.totp)===null||i===void 0)&&i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(n){if(V(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;if(a)return{data:null,error:a};const{data:r,error:l}=await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+r.expires_in},r)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",r),{data:r,error:l})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:i,error:a}=n;return a?{data:null,error:a}:await H(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(V(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],i=s.filter(r=>r.factor_type==="totp"&&r.status==="verified"),a=s.filter(r=>r.factor_type==="phone"&&r.status==="verified");return{data:{all:s,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:i},error:a}=t;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:r}=mc(i.access_token);let l=null;r.aal&&(l=r.aal);let o=l;((s=(n=i.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(o="aal2");const u=r.amr||[];return{data:{currentLevel:l,nextLevel:o,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(l=>l.kid===t);if(s)return s;const i=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+$1>i)return s;const{data:a,error:r}=await H(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(r)throw r;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,s=a.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};s=m.session.access_token}const{header:i,payload:a,signature:r,raw:{header:l,payload:o}}=mc(s);n!=null&&n.allowExpired||dj(a.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:m}=await this.getUser(s);if(m)throw m;return{data:{claims:a,header:i,signature:r},error:null}}const u=mj(i.alg),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,r,W1(`${l}.${o}`)))throw new Lu("Invalid JWT signature");return{data:{claims:a,header:i,signature:r},error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}}}qa.nextInstanceID=0;const Nj=qa;class Rj extends Nj{constructor(t){super(t)}}var Dj=function(e,t,n,s){function i(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function l(u){try{c(s.next(u))}catch(f){r(f)}}function o(u){try{c(s.throw(u))}catch(f){r(f)}}function c(u){u.done?a(u.value):i(u.value).then(l,o)}c((s=s.apply(e,t||[])).next())})};class Mj{constructor(t,n,s){var i,a,r;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const l=V1(t),o=new URL(l);this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:O1,realtime:R1,auth:Object.assign(Object.assign({},N1),{storageKey:c}),global:C1},f=P1(s??{},u);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=f.auth)!==null&&r!==void 0?r:{},this.headers,f.global.fetch),this.fetch=U1(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new JT(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new AT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new j1(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Dj(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,storageKey:a,flowType:r,lock:l,debug:o},c,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Rj({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:i,flowType:r,lock:l,debug:o,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new h1(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kj=(e,t,n)=>new Mj(e,t,n),Ee=kj("https://ssxxaztyibwkcrowyarw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNzeHhhenR5aWJ3a2Nyb3d5YXJ3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMxNzE1MjYsImV4cCI6MjA2ODc0NzUyNn0.5wfjQfBzyQyxQT2X-03uzjsz54xN79mbShjdiQFfiXY");function Uj(){const[e,t]=T.useState(""),[n,s]=T.useState(""),[i,a]=T.useState(!1),[r,l]=T.useState(""),o=fo(),c=async f=>{f.preventDefault(),a(!0),l("");const{data:h,error:m}=await Ee.auth.signInWithPassword({email:e,password:n});m?l(m.message):h.user&&o("/dashboard"),a(!1)},u=async()=>{a(!0),l("");const{error:f}=await Ee.auth.signUp({email:e,password:n});l(f?f.message:"Check your email for confirmation link"),a(!1)};return d.jsx("div",{className:"login-container",children:d.jsxs("div",{className:"login-card",children:[d.jsx("h1",{className:"login-title",children:"Login"}),d.jsxs("form",{onSubmit:c,className:"login-form",children:[d.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:f=>t(f.target.value),className:"form-input",required:!0}),d.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:f=>s(f.target.value),className:"form-input",required:!0}),d.jsx("button",{type:"submit",disabled:i,className:"login-button",children:i?"Loading...":"Sign In"})]}),d.jsx("button",{onClick:u,disabled:i,className:"signup-button",children:"Create Account"}),r&&d.jsx("div",{className:"login-error",children:r})]})})}class Vu{static getCompletedPhases(t){let n=0;return t!=null&&t.scenes&&typeof t.scenes=="object"&&Object.keys(t.scenes).length>0&&n++,n}static getPhaseProgress(t){const n=this.getCompletedPhases(t);let s=null;return n===0?s="script_interpretation":n===1?s="element_images":n===2?s="scene_generation":n===3?s="scene_videos":n===4&&(s="final_assembly"),{completed_phases:n,total_phases:5,current_phase:s}}static isPhaseCompleted(t,n){return this.getCompletedPhases(t)>=n}static canPhaseProceeed(t,n){return n===1?!0:n===2||n===3?this.isPhaseCompleted(t,1):n===4?this.isPhaseCompleted(t,3):n===5?this.isPhaseCompleted(t,4):!1}}const Zm={scenes:{},elements:{},project_metadata:{title:"New Project",client:"Client Name",schema_version:"3.0",production_workflow:"animatic_to_video_scalable"}};async function Lj(e){try{const{error:t}=await Ee.from("projects").delete().eq("id",e);return t?(console.error("Error deleting project:",t),!1):!0}catch(t){return console.error("Error in deleteProject:",t),!1}}async function Vj(e,t){try{const n={...Zm,project_metadata:{...Zm.project_metadata,title:e}},{data:s,error:i}=await Ee.from("projects").insert({name:e,user_id:t,status:"active",master_json:n,current_version:0}).select().single();if(i||!s)return console.error("Error creating project:",i),null;const{data:a,error:r}=await Ee.from("project_phases").select("*").eq("project_id",s.id).order("phase_index");return r||!a?(console.error("Error fetching phases:",r),{project:s,phases:[]}):{project:s,phases:a}}catch(n){return console.error("Error in createProject:",n),null}}async function Pj(e){try{const{data:t,error:n}=await Ee.from("projects").select("master_json").eq("id",e).single();return n||!t?(console.error("Error fetching master JSON:",n),null):t.master_json}catch(t){return console.error("Error in getMasterJSON:",t),null}}async function Bj(e,t,n="Master JSON updated"){try{const{data:s,error:i}=await Ee.from("projects").select("current_version").eq("id",e).single();if(i||!s)return console.error("Error fetching project for version:",i),!1;const a=s.current_version+1,{error:r}=await Ee.from("projects").update({master_json:t,current_version:a,updated_at:new Date().toISOString()}).eq("id",e);return r?(console.error("Error updating master JSON:",r),!1):!0}catch(s){return console.error("Error in saveMasterJSONFromObject:",s),!1}}async function zj(e){try{const{data:t,error:n}=await Ee.from("project_versions").select("*").eq("project_id",e).order("version_number",{ascending:!1});return n||!t?(console.error("Error fetching project versions:",n),[]):t}catch(t){return console.error("Error in getProjectVersions:",t),[]}}async function Hj(e,t){try{const{data:n,error:s}=await Ee.from("project_versions").select("*").eq("project_id",e).eq("version_number",t).single();return s||!n?(console.error("Error fetching project version:",s),null):n}catch(n){return console.error("Error in getProjectVersion:",n),null}}async function qj(e){try{const{data:t,error:n}=await Ee.from("projects").select(`
        id,
        name,
        status,
        created_at,
        master_json,
        project_phases(
          phase_index,
          status,
          phase_name,
          can_proceed,
          completed_at
        )
      `).eq("user_id",e).order("created_at",{ascending:!1});return n||!t?(console.error("Error fetching projects:",n),[]):t.map(s=>{const i=Vu.getPhaseProgress(s.master_json);return{id:s.id,name:s.name,status:s.status,created_at:s.created_at,phase_progress:i}})}catch(t){return console.error("Error in getUserProjects:",t),[]}}async function Fm(e){try{const{data:t,error:n}=await Ee.from("projects").select("*").eq("id",e).single();return n||!t?(console.error("Error fetching project:",n),null):t}catch(t){return console.error("Error in getProject:",t),null}}async function Jm(e){try{const[t,n]=await Promise.all([Ee.from("project_phases").select("*").eq("project_id",e).order("phase_index",{ascending:!0}),Ee.from("projects").select("master_json").eq("id",e).single()]);if(t.error||!t.data)return console.error("Error fetching phases:",t.error),[];if(n.error||!n.data)return console.error("Error fetching project:",n.error),t.data.map(r=>({...r,can_proceed:r.phase_index===1}));const s=t.data,i=n.data.master_json;return s.map(r=>{let l=!1;return r.phase_index===1?l=!0:(r.phase_index===2||r.phase_index===3)&&(l=i&&i.scenes&&Object.keys(i.scenes).length>0),{...r,can_proceed:l}})}catch(t){return console.error("Error in getProjectPhases:",t),[]}}async function $j(){try{const{data:e,error:t}=await Ee.from("app_configuration").select("config_data").order("updated_at",{ascending:!1}).limit(1).single();if(t)throw t;return(e==null?void 0:e.config_data)||{}}catch(e){return console.error("Error loading app configuration:",e),{}}}async function Gj(e){try{const{error:t}=await Ee.from("app_configuration").upsert({config_data:e,updated_at:new Date().toISOString()});if(t)throw t;return!0}catch(t){return console.error("Error saving app configuration:",t),!1}}function Yj({user:e}){const t=fo(),[n,s]=T.useState([]),[i,a]=T.useState(!0),[r,l]=T.useState(!1),[o,c]=T.useState(!1),[u,f]=T.useState(""),[h,m]=T.useState(null),[v,_]=T.useState(!1);T.useEffect(()=>{x()},[e]);const x=async()=>{if(!e)return;a(!0);const b=await qj(e.id);s(b),a(!1)},p=async()=>{await Ee.auth.signOut(),t("/login")},g=async()=>{if(!u.trim()||!e||o)return;c(!0),await Vj(u.trim(),e.id)?(l(!1),f(""),await x()):alert("Error creating project. Please try again."),c(!1)},y=b=>{t(`/project/${b}`)},S=async b=>{if(!b||v)return;_(!0),await Lj(b)?(m(null),await x()):alert("Error deleting project. Please try again."),_(!1)},w=b=>new Date(b).toLocaleDateString(),E=b=>{switch(b){case"active":return"#00cc00";case"completed":return"#0066cc";case"archived":return"#666";default:return"#ccc"}};return d.jsx("div",{className:"min-h-screen bg-primary p-2xl",children:d.jsxs("div",{className:"dashboard-container",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2xl",children:[d.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Projects"}),d.jsxs("div",{className:"flex gap-xl items-center",children:[d.jsx("button",{onClick:()=>l(!0),className:"btn btn-primary",children:"New Project"}),d.jsx("button",{onClick:p,className:"btn btn-logout",children:"Logout"})]})]}),i?d.jsx("div",{className:"text-center text-secondary p-2xl",children:"Loading projects..."}):n.length===0?d.jsxs("div",{className:"bg-secondary p-4xl rounded-lg text-center",children:[d.jsx("h2",{className:"text-primary mb-xl",children:"No projects yet"}),d.jsx("p",{className:"text-secondary mb-2xl",children:"Create your first FLOW.STUDIO project to get started with AI-powered animatic generation"}),d.jsx("button",{onClick:()=>l(!0),className:"btn btn-primary",children:"Create Your First Project"})]}):d.jsx("div",{className:"grid grid-auto-fit gap-2xl",children:n.map(b=>d.jsxs("div",{onClick:()=>y(b.id),className:"project-card cursor-pointer",children:[d.jsxs("div",{className:"flex justify-between items-start mb-xl",children:[d.jsx("h3",{className:"text-primary text-xl flex-1 mb-0",children:b.name}),d.jsxs("div",{className:"flex items-center gap-md",children:[d.jsx("button",{onClick:j=>{j.stopPropagation(),m(b.id)},className:"btn-delete",children:""}),d.jsx("span",{className:"status-badge",style:{background:E(b.status)},children:b.status})]})]}),d.jsxs("div",{className:"project-progress",children:[d.jsxs("div",{className:"flex justify-between text-secondary text-sm mb-sm",children:[d.jsx("span",{children:"Progress"}),d.jsxs("span",{children:[b.phase_progress.completed_phases,"/5 phases"]})]}),d.jsx("div",{className:"progress-bar",children:d.jsx("div",{className:"progress-fill",style:{width:`${b.phase_progress.completed_phases/5*100}%`}})})]}),d.jsxs("div",{className:"project-info",children:[d.jsxs("span",{children:["Created ",w(b.created_at)]}),b.phase_progress.current_phase&&d.jsxs("span",{className:"current-phase",children:["Active: ",b.phase_progress.current_phase.replace("_"," ")]})]})]},b.id))}),r&&d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal-content modal-width-400",children:[d.jsx("h2",{className:"modal-header",children:"Create New Project"}),d.jsxs("div",{className:"mb-xl",children:[d.jsx("label",{className:"form-label",children:"Project Name"}),d.jsx("input",{type:"text",value:u,onChange:b=>f(b.target.value),placeholder:"e.g. UN CONSIGLIO STELLARE",className:"form-input",onKeyPress:b=>b.key==="Enter"&&g(),autoFocus:!0})]}),d.jsx("div",{className:"modal-info",children:d.jsx("p",{children:"This will create a new project with 5 phases: Script Interpretation, Element Images, Scene Generation, Scene Videos, and Final Assembly. Based on the Italian campaign template."})}),d.jsxs("div",{className:"modal-actions",children:[d.jsx("button",{onClick:()=>{l(!1),f("")},disabled:o,className:"btn btn-secondary",children:"Cancel"}),d.jsx("button",{onClick:g,disabled:!u.trim()||o,className:"btn btn-primary",children:o?"Creating...":"Create Project"})]})]})}),h&&d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal-content delete-modal modal-width-400",children:[d.jsx("h2",{className:"delete-header",children:" Delete Project?"}),d.jsxs("div",{className:"delete-warning",children:[d.jsx("p",{children:"This will permanently delete:"}),d.jsxs("ul",{children:[d.jsx("li",{children:"All project data and phases"}),d.jsx("li",{children:"All generated content and versions"}),d.jsx("li",{children:"All n8n job history"})]}),d.jsx("p",{className:"warning-final",children:"This action cannot be undone!"})]}),d.jsxs("div",{className:"modal-actions",children:[d.jsx("button",{onClick:()=>m(null),disabled:v,className:"btn btn-secondary btn-padding-lg",children:"Cancel"}),d.jsx("button",{onClick:()=>S(h),disabled:v,className:"btn btn-danger btn-padding-lg",children:v?" Deleting...":" Delete Forever"})]})]})})]})})}const Im={test:"https://azoriusdrake.app.n8n.cloud/webhook-test/4b4638e1-47de-406f-8ef7-136d49bc9bc1",production:"https://azoriusdrake.app.n8n.cloud/webhook/4b4638e1-47de-406f-8ef7-136d49bc9bc1"};function Xj({phase:e,projectId:t,projectName:n,onContentChange:s,jsonContent:i,hasUnsavedChanges:a,isSaving:r,error:l,databaseStatus:o,showVersionHistory:c,versionHistory:u,loadingVersions:f,onJsonChange:h,onSavePhase:m,onLoadPhaseContent:v,onLoadVersionHistory:_,onLoadVersionContent:x,onShowVersionHistory:p,useProduction:g,onUseProductionChange:y}){const[S,w]=T.useState(!1),[E,b]=T.useState(!1);T.useEffect(()=>{v(e.id)},[e.id,v]);const j=async()=>{const O=g?Im.production:Im.test,L={phase:"script_interpretation",operation:"generate_all",jobId:crypto.randomUUID(),projectId:t,projectName:n,data:{projectId:t,projectName:n,phase:"script_interpretation",timestamp:new Date().toISOString()}};console.log("Calling webhook:",O),console.log("Payload:",L);const z=await fetch(O,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)});if(!z.ok)throw new Error(`Webhook failed: ${z.status} ${z.statusText}`);return z.json()},C=async(O=!1)=>{if(o.version>0&&!O){b(!0);return}w(!0),b(!1);try{const L=await j();console.log("Webhook result:",L);const z=JSON.stringify(L,null,2);h(z)}catch(L){L instanceof Error&&L.message,console.error("Webhook error:",L)}finally{w(!1)}};return d.jsxs("div",{style:{padding:"0.5rem"},children:[d.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[d.jsxs("div",{style:{flex:1},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",fontSize:"0.875rem",color:"#999",marginBottom:"0.375rem"},children:[d.jsxs("span",{children:["Phase 1: ",d.jsx("strong",{style:{color:"#66ccff"},children:"Script Interpretation"})]}),d.jsx("span",{children:""}),d.jsxs("span",{children:["Status: ",d.jsx("strong",{className:e.status==="completed"?"script-status-completed":"script-status-progress",children:e.status==="completed"?"Completed":"In Progress"})]}),d.jsx("span",{children:""}),d.jsxs("span",{children:["DB v",d.jsx("strong",{className:o.loaded?"script-db-connected":"script-db-error",children:o.loaded?o.version:"?"})]})]}),d.jsx("div",{style:{marginBottom:"0.25rem"},children:d.jsx("p",{style:{color:"#cccccc",fontSize:"0.875rem",margin:0},children:"Generate structured JSON from your storyboard using n8n workflow"})}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",fontSize:"0.875rem"},children:[d.jsx("span",{className:o.error?"text-error":"text-success",children:o.error?d.jsx(d.Fragment,{children:" DB Error"}):o.loaded?d.jsx(d.Fragment,{children:" Connected"}):d.jsx(d.Fragment,{children:" Loading"})}),l&&d.jsxs("span",{className:"text-error",children:[" ",l]}),a&&d.jsx("span",{className:"text-warning",children:" Unsaved changes"}),d.jsx("span",{className:g?"text-success":"text-accent",children:g?" PROD":" TEST"}),o.loaded&&o.lastSaved&&d.jsxs("span",{className:"text-muted",style:{fontSize:"0.75rem"},children:["Saved: ",new Date(o.lastSaved).toLocaleTimeString()]})]})]}),d.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"0.375rem"},children:[d.jsx("div",{children:d.jsxs("label",{style:{display:"flex",alignItems:"center",fontSize:"0.875rem",color:"#cccccc"},children:[d.jsx("input",{type:"checkbox",checked:g,onChange:O=>y(O.target.checked),style:{marginRight:"0.375rem"}}),"Production Webhook"]})}),d.jsx("div",{style:{display:"flex",gap:"0.375rem"},children:d.jsx("button",{onClick:()=>C(),disabled:S,className:`btn text-xs px-md py-xs ${S?"btn-secondary":"btn-primary"}`,children:S?" Generating...":" Generate"})})]})]}),S&&d.jsx("div",{className:"modal-overlay script-modal-loading",children:d.jsxs("div",{className:"modal-content script-modal-narrow",children:[d.jsx("div",{className:"loading-spinner script-loading-icon",children:""}),d.jsx("h2",{className:"text-primary text-3xl mb-xl mb-0",children:"Calling n8n Workflow"}),d.jsx("p",{className:"text-secondary text-lg mb-2xl mb-0",children:"Processing your script interpretation request..."}),d.jsxs("div",{className:"bg-tertiary border border-focus p-xl rounded-md mb-xl",children:[d.jsxs("div",{className:"text-accent text-base mb-md",children:[" Endpoint: ",g?"Production":"Test"," Webhook"]}),d.jsxs("div",{className:"text-secondary text-sm",children:[" Phase: Script Interpretation   Project: ",n]})]}),d.jsx("div",{className:"text-muted text-xs text-italic",children:"This may take a few moments..."})]})}),E&&d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal-content modal-width-500",children:[d.jsx("h2",{className:"text-primary text-2xl mb-xl flex items-center gap-md mb-0",children:" Regenerate Content?"}),d.jsxs("div",{className:"bg-accent border border-light p-xl rounded-md mb-2xl",children:[d.jsxs("p",{className:"text-secondary mb-md mb-0",children:["You already have content saved (Version ",o.version,"). Regenerating will create new content that you'll need to save as a new version."]}),d.jsx("p",{className:"text-sm version-warning-text mb-0",children:"Current content will be preserved until you save the new version."})]}),d.jsx("div",{className:"db-status db-status-success mb-2xl",children:d.jsx("p",{className:"text-sm mb-0",children:" This will preserve version history and allow you to compare results."})}),d.jsxs("div",{className:"flex gap-xl justify-end",children:[d.jsx("button",{onClick:()=>b(!1),className:"btn btn-secondary",children:"Cancel"}),d.jsx("button",{onClick:()=>C(!0),className:"btn script-regenerate-button",children:" Regenerate New Version"})]})]})}),c&&d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal-content flex flex-col modal-version-history",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2xl",children:[d.jsx("h2",{className:"text-primary text-2xl mb-0",children:" Version History"}),d.jsx("button",{onClick:()=>p(!1),className:"bg-transparent text-secondary border-none text-2xl cursor-pointer",children:""})]}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:f?d.jsx("div",{className:"text-center text-secondary p-2xl",children:"Loading versions..."}):u.length===0?d.jsx("div",{className:"text-center text-secondary p-2xl",children:"No version history available"}):d.jsx("div",{className:"flex flex-col gap-md",children:u.map(O=>d.jsxs("div",{className:`version-item ${O.version_number===o.version?"current":""}`,onClick:()=>x(O.version_number),children:[d.jsxs("div",{className:"version-header",children:[d.jsxs("span",{className:"version-title",children:["Version ",O.version_number,O.version_number===o.version&&d.jsx("span",{className:"version-current-badge",children:"(Current)"})]}),d.jsx("span",{className:"version-date",children:new Date(O.created_at).toLocaleString()})]}),d.jsx("div",{className:"version-description",children:O.change_description||"No description"})]},O.id))})}),d.jsx("div",{className:"version-tip",children:" Click any version to load it into the editor. Remember to save after loading different content."})]})})]})}function Kj({activeView:e,onViewChange:t,masterJSON:n}){const s=[{id:"json",label:"JSON",icon:"{ }",description:"Raw data view"},{id:"timeline",label:"Timeline",icon:"",description:"Visual timeline interface"},{id:"elements",label:"Elements",icon:"",description:"Element management (Phase 2+)"},{id:"style",label:"Style",icon:"",description:"Global style control"},{id:"config",label:"Config",icon:"",description:"LLM configuration (Admin)"}],i=(n==null?void 0:n.scenes)&&typeof n.scenes=="object"&&Object.keys(n.scenes).length>0,a=l=>l==="json"||l==="timeline"?!0:l==="style"?i:l!=="elements",r=l=>{var o;return l==="elements"?"Available in Phase 2+":l==="style"&&!i?"Complete Phase 1 JSON generation first":((o=s.find(c=>c.id===l))==null?void 0:o.description)||""};return d.jsx("div",{className:"project-view-navigation",children:d.jsx("div",{className:"flex gap-md p-md",children:s.map(l=>{const o=a(l.id);return d.jsxs("button",{onClick:()=>o&&t(l.id),className:`
                flex-1 flex items-center justify-center transition-fast cursor-pointer
                border border-solid rounded-lg font-semibold
                ${e===l.id?"bg-accent border-focus text-primary shadow-md":"bg-secondary border-default text-secondary hover:text-primary hover:bg-accent hover:border-light"}
                ${o?"":"opacity-50 cursor-not-allowed"}
              `,style:{padding:"1rem 1.5rem",fontSize:"1rem",minHeight:"3rem"},disabled:!o,title:r(l.id),children:[d.jsx("span",{className:"font-semibold",children:l.label}),(l.id==="elements"||l.id==="style")&&d.jsx("span",{className:"text-xs text-muted",children:l.id==="elements"?"(Phase 2+)":"(Soon)"})]},l.id)})})})}const fh=T.createContext({});function hh(e){const t=T.useRef(null);return t.current===null&&(t.current=e()),t.current}const dh=typeof window<"u",X0=dh?T.useLayoutEffect:T.useEffect,_o=T.createContext(null);function mh(e,t){e.indexOf(t)===-1&&e.push(t)}function ph(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const nn=(e,t,n)=>n>t?t:n<e?e:n;let gh=()=>{};const sn={},K0=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Q0(e){return typeof e=="object"&&e!==null}const Z0=e=>/^0[^.\s]+$/u.test(e);function yh(e){let t;return()=>(t===void 0&&(t=e()),t)}const vt=e=>e,Qj=(e,t)=>n=>t(e(n)),yr=(...e)=>e.reduce(Qj),$a=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class vh{constructor(){this.subscriptions=[]}add(t){return mh(this.subscriptions,t),()=>ph(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let a=0;a<i;a++){const r=this.subscriptions[a];r&&r(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kt=e=>e*1e3,Ut=e=>e/1e3;function F0(e,t){return t?e*(1e3/t):0}const J0=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Zj=1e-7,Fj=12;function Jj(e,t,n,s,i){let a,r,l=0;do r=t+(n-t)/2,a=J0(r,s,i)-e,a>0?n=r:t=r;while(Math.abs(a)>Zj&&++l<Fj);return r}function vr(e,t,n,s){if(e===t&&n===s)return vt;const i=a=>Jj(a,0,1,e,n);return a=>a===0||a===1?a:J0(i(a),t,s)}const I0=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,W0=e=>t=>1-e(1-t),eb=vr(.33,1.53,.69,.99),bh=W0(eb),tb=I0(bh),nb=e=>(e*=2)<1?.5*bh(e):.5*(2-Math.pow(2,-10*(e-1))),_h=e=>1-Math.sin(Math.acos(e)),sb=W0(_h),ib=I0(_h),Ij=vr(.42,0,1,1),Wj=vr(0,0,.58,1),ab=vr(.42,0,.58,1),eE=e=>Array.isArray(e)&&typeof e[0]!="number",rb=e=>Array.isArray(e)&&typeof e[0]=="number",tE={linear:vt,easeIn:Ij,easeInOut:ab,easeOut:Wj,circIn:_h,circInOut:ib,circOut:sb,backIn:bh,backInOut:tb,backOut:eb,anticipate:nb},nE=e=>typeof e=="string",Wm=e=>{if(rb(e)){gh(e.length===4);const[t,n,s,i]=e;return vr(t,n,s,i)}else if(nE(e))return tE[e];return e},zr=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function sE(e,t){let n=new Set,s=new Set,i=!1,a=!1;const r=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function o(u){r.has(u)&&(c.schedule(u),e()),u(l)}const c={schedule:(u,f=!1,h=!1)=>{const v=h&&i?n:s;return f&&r.add(u),v.has(u)||v.add(u),u},cancel:u=>{s.delete(u),r.delete(u)},process:u=>{if(l=u,i){a=!0;return}i=!0,[n,s]=[s,n],n.forEach(o),n.clear(),i=!1,a&&(a=!1,c.process(u))}};return c}const iE=40;function lb(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,r=zr.reduce((y,S)=>(y[S]=sE(a),y),{}),{setup:l,read:o,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:m,postRender:v}=r,_=()=>{const y=sn.useManualTiming?i.timestamp:performance.now();n=!1,sn.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(y-i.timestamp,iE),1)),i.timestamp=y,i.isProcessing=!0,l.process(i),o.process(i),c.process(i),u.process(i),f.process(i),h.process(i),m.process(i),v.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(_))},x=()=>{n=!0,s=!0,i.isProcessing||e(_)};return{schedule:zr.reduce((y,S)=>{const w=r[S];return y[S]=(E,b=!1,j=!1)=>(n||x(),w.schedule(E,b,j)),y},{}),cancel:y=>{for(let S=0;S<zr.length;S++)r[zr[S]].cancel(y)},state:i,steps:r}}const{schedule:ue,cancel:Pn,state:De,steps:yc}=lb(typeof requestAnimationFrame<"u"?requestAnimationFrame:vt,!0);let il;function aE(){il=void 0}const Ze={now:()=>(il===void 0&&Ze.set(De.isProcessing||sn.useManualTiming?De.timestamp:performance.now()),il),set:e=>{il=e,queueMicrotask(aE)}},ob=e=>t=>typeof t=="string"&&t.startsWith(e),Sh=ob("--"),rE=ob("var(--"),xh=e=>rE(e)?lE.test(e.split("/*")[0].trim()):!1,lE=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ki={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ga={...ki,transform:e=>nn(0,1,e)},Hr={...ki,default:1},Sa=e=>Math.round(e*1e5)/1e5,wh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function oE(e){return e==null}const cE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Th=(e,t)=>n=>!!(typeof n=="string"&&cE.test(n)&&n.startsWith(e)||t&&!oE(n)&&Object.prototype.hasOwnProperty.call(n,t)),cb=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,a,r,l]=s.match(wh);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(r),alpha:l!==void 0?parseFloat(l):1}},uE=e=>nn(0,255,e),vc={...ki,transform:e=>Math.round(uE(e))},as={test:Th("rgb","red"),parse:cb("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+vc.transform(e)+", "+vc.transform(t)+", "+vc.transform(n)+", "+Sa(Ga.transform(s))+")"};function fE(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const Pu={test:Th("#"),parse:fE,transform:as.transform},br=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fn=br("deg"),Lt=br("%"),k=br("px"),hE=br("vh"),dE=br("vw"),ep={...Lt,parse:e=>Lt.parse(e)/100,transform:e=>Lt.transform(e*100)},Js={test:Th("hsl","hue"),parse:cb("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Lt.transform(Sa(t))+", "+Lt.transform(Sa(n))+", "+Sa(Ga.transform(s))+")"},be={test:e=>as.test(e)||Pu.test(e)||Js.test(e),parse:e=>as.test(e)?as.parse(e):Js.test(e)?Js.parse(e):Pu.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?as.transform(e):Js.transform(e),getAnimatableNone:e=>{const t=be.parse(e);return t.alpha=0,be.transform(t)}},mE=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function pE(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(wh))==null?void 0:t.length)||0)+(((n=e.match(mE))==null?void 0:n.length)||0)>0}const ub="number",fb="color",gE="var",yE="var(",tp="${}",vE=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ya(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(vE,o=>(be.test(o)?(s.color.push(a),i.push(fb),n.push(be.parse(o))):o.startsWith(yE)?(s.var.push(a),i.push(gE),n.push(o)):(s.number.push(a),i.push(ub),n.push(parseFloat(o))),++a,tp)).split(tp);return{values:n,split:l,indexes:s,types:i}}function hb(e){return Ya(e).values}function db(e){const{split:t,types:n}=Ya(e),s=t.length;return i=>{let a="";for(let r=0;r<s;r++)if(a+=t[r],i[r]!==void 0){const l=n[r];l===ub?a+=Sa(i[r]):l===fb?a+=be.transform(i[r]):a+=i[r]}return a}}const bE=e=>typeof e=="number"?0:be.test(e)?be.getAnimatableNone(e):e;function _E(e){const t=hb(e);return db(e)(t.map(bE))}const Bn={test:pE,parse:hb,createTransformer:db,getAnimatableNone:_E};function bc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function SE({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,a=0,r=0;if(!t)i=a=r=n;else{const l=n<.5?n*(1+t):n+t-n*t,o=2*n-l;i=bc(o,l,e+1/3),a=bc(o,l,e),r=bc(o,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(r*255),alpha:s}}function zl(e,t){return n=>n>0?t:e}const he=(e,t,n)=>e+(t-e)*n,_c=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},xE=[Pu,as,Js],wE=e=>xE.find(t=>t.test(e));function np(e){const t=wE(e);if(!t)return!1;let n=t.parse(e);return t===Js&&(n=SE(n)),n}const sp=(e,t)=>{const n=np(e),s=np(t);if(!n||!s)return zl(e,t);const i={...n};return a=>(i.red=_c(n.red,s.red,a),i.green=_c(n.green,s.green,a),i.blue=_c(n.blue,s.blue,a),i.alpha=he(n.alpha,s.alpha,a),as.transform(i))},Bu=new Set(["none","hidden"]);function TE(e,t){return Bu.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function jE(e,t){return n=>he(e,t,n)}function jh(e){return typeof e=="number"?jE:typeof e=="string"?xh(e)?zl:be.test(e)?sp:CE:Array.isArray(e)?mb:typeof e=="object"?be.test(e)?sp:EE:zl}function mb(e,t){const n=[...e],s=n.length,i=e.map((a,r)=>jh(a)(a,t[r]));return a=>{for(let r=0;r<s;r++)n[r]=i[r](a);return n}}function EE(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=jh(e[i])(e[i],t[i]));return i=>{for(const a in s)n[a]=s[a](i);return n}}function AE(e,t){const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],r=e.indexes[a][s[a]],l=e.values[r]??0;n[i]=l,s[a]++}return n}const CE=(e,t)=>{const n=Bn.createTransformer(t),s=Ya(e),i=Ya(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?Bu.has(e)&&!i.values.length||Bu.has(t)&&!s.values.length?TE(e,t):yr(mb(AE(s,i),i.values),n):zl(e,t)};function pb(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?he(e,t,n):jh(e)(e,t)}const OE=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ue.update(t,n),stop:()=>Pn(t),now:()=>De.isProcessing?De.timestamp:Ze.now()}},gb=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)s+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Hl=2e4;function Eh(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Hl;)t+=n,s=e.next(t);return t>=Hl?1/0:t}function NE(e,t=100,n){const s=n({...e,keyframes:[0,t]}),i=Math.min(Eh(s),Hl);return{type:"keyframes",ease:a=>s.next(i*a).value/t,duration:Ut(i)}}const RE=5;function yb(e,t,n){const s=Math.max(t-RE,0);return F0(n-e(s),t-s)}const de={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sc=.001;function DE({duration:e=de.duration,bounce:t=de.bounce,velocity:n=de.velocity,mass:s=de.mass}){let i,a,r=1-t;r=nn(de.minDamping,de.maxDamping,r),e=nn(de.minDuration,de.maxDuration,Ut(e)),r<1?(i=c=>{const u=c*r,f=u*e,h=u-n,m=zu(c,r),v=Math.exp(-f);return Sc-h/m*v},a=c=>{const f=c*r*e,h=f*n+n,m=Math.pow(r,2)*Math.pow(c,2)*e,v=Math.exp(-f),_=zu(Math.pow(c,2),r);return(-i(c)+Sc>0?-1:1)*((h-m)*v)/_}):(i=c=>{const u=Math.exp(-c*e),f=(c-n)*e+1;return-Sc+u*f},a=c=>{const u=Math.exp(-c*e),f=(n-c)*(e*e);return u*f});const l=5/e,o=kE(i,a,l);if(e=kt(e),isNaN(o))return{stiffness:de.stiffness,damping:de.damping,duration:e};{const c=Math.pow(o,2)*s;return{stiffness:c,damping:r*2*Math.sqrt(s*c),duration:e}}}const ME=12;function kE(e,t,n){let s=n;for(let i=1;i<ME;i++)s=s-e(s)/t(s);return s}function zu(e,t){return e*Math.sqrt(1-t*t)}const UE=["duration","bounce"],LE=["stiffness","damping","mass"];function ip(e,t){return t.some(n=>e[n]!==void 0)}function VE(e){let t={velocity:de.velocity,stiffness:de.stiffness,damping:de.damping,mass:de.mass,isResolvedFromDuration:!1,...e};if(!ip(e,LE)&&ip(e,UE))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,a=2*nn(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:de.mass,stiffness:i,damping:a}}else{const n=DE(e);t={...t,...n,mass:de.mass},t.isResolvedFromDuration=!0}return t}function ql(e=de.visualDuration,t=de.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const a=n.keyframes[0],r=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:o,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:m}=VE({...n,velocity:-Ut(n.velocity||0)}),v=h||0,_=c/(2*Math.sqrt(o*u)),x=r-a,p=Ut(Math.sqrt(o/u)),g=Math.abs(x)<5;s||(s=g?de.restSpeed.granular:de.restSpeed.default),i||(i=g?de.restDelta.granular:de.restDelta.default);let y;if(_<1){const w=zu(p,_);y=E=>{const b=Math.exp(-_*p*E);return r-b*((v+_*p*x)/w*Math.sin(w*E)+x*Math.cos(w*E))}}else if(_===1)y=w=>r-Math.exp(-p*w)*(x+(v+p*x)*w);else{const w=p*Math.sqrt(_*_-1);y=E=>{const b=Math.exp(-_*p*E),j=Math.min(w*E,300);return r-b*((v+_*p*x)*Math.sinh(j)+w*x*Math.cosh(j))/w}}const S={calculatedDuration:m&&f||null,next:w=>{const E=y(w);if(m)l.done=w>=f;else{let b=w===0?v:0;_<1&&(b=w===0?kt(v):yb(y,w,E));const j=Math.abs(b)<=s,C=Math.abs(r-E)<=i;l.done=j&&C}return l.value=l.done?r:E,l},toString:()=>{const w=Math.min(Eh(S),Hl),E=gb(b=>S.next(w*b).value,w,30);return w+"ms "+E},toTransition:()=>{}};return S}ql.applyToOptions=e=>{const t=NE(e,100,ql);return e.ease=t.ease,e.duration=kt(t.duration),e.type="keyframes",e};function Hu({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:r,min:l,max:o,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},m=j=>l!==void 0&&j<l||o!==void 0&&j>o,v=j=>l===void 0?o:o===void 0||Math.abs(l-j)<Math.abs(o-j)?l:o;let _=n*t;const x=f+_,p=r===void 0?x:r(x);p!==x&&(_=p-f);const g=j=>-_*Math.exp(-j/s),y=j=>p+g(j),S=j=>{const C=g(j),O=y(j);h.done=Math.abs(C)<=c,h.value=h.done?p:O};let w,E;const b=j=>{m(h.value)&&(w=j,E=ql({keyframes:[h.value,v(h.value)],velocity:yb(y,j,h.value),damping:i,stiffness:a,restDelta:c,restSpeed:u}))};return b(0),{calculatedDuration:null,next:j=>{let C=!1;return!E&&w===void 0&&(C=!0,S(j),b(j)),w!==void 0&&j>=w?E.next(j-w):(!C&&S(j),h)}}}function PE(e,t,n){const s=[],i=n||sn.mix||pb,a=e.length-1;for(let r=0;r<a;r++){let l=i(e[r],e[r+1]);if(t){const o=Array.isArray(t)?t[r]||vt:t;l=yr(o,l)}s.push(l)}return s}function BE(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const a=e.length;if(gh(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const r=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=PE(t,s,i),o=l.length,c=u=>{if(r&&u<e[0])return t[0];let f=0;if(o>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=$a(e[f],e[f+1],u);return l[f](h)};return n?u=>c(nn(e[0],e[a-1],u)):c}function zE(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=$a(0,t,s);e.push(he(n,1,i))}}function HE(e){const t=[0];return zE(t,e.length-1),t}function qE(e,t){return e.map(n=>n*t)}function $E(e,t){return e.map(()=>t||ab).splice(0,e.length-1)}function xa({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=eE(s)?s.map(Wm):Wm(s),a={done:!1,value:t[0]},r=qE(n&&n.length===t.length?n:HE(t),e),l=BE(r,t,{ease:Array.isArray(i)?i:$E(t,i)});return{calculatedDuration:e,next:o=>(a.value=l(o),a.done=o>=e,a)}}const GE=e=>e!==null;function Ah(e,{repeat:t,repeatType:n="loop"},s,i=1){const a=e.filter(GE),l=i<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||s===void 0?a[l]:s}const YE={decay:Hu,inertia:Hu,tween:xa,keyframes:xa,spring:ql};function vb(e){typeof e.type=="string"&&(e.type=YE[e.type])}class Ch{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const XE=e=>e/100;class Oh extends Ch{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Ze.now()&&this.tick(Ze.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;vb(t);const{type:n=xa,repeat:s=0,repeatDelay:i=0,repeatType:a,velocity:r=0}=t;let{keyframes:l}=t;const o=n||xa;o!==xa&&typeof l[0]!="number"&&(this.mixKeyframes=yr(XE,pb(l[0],l[1])),l=[0,100]);const c=o({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=o({...t,keyframes:[...l].reverse(),velocity:-r})),c.calculatedDuration===null&&(c.calculatedDuration=Eh(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:i,mixKeyframes:a,mirroredGenerator:r,resolvedDuration:l,calculatedDuration:o}=this;if(this.startTime===null)return s.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:m,type:v,onUpdate:_,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const p=this.currentTime-c*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?p<0:p>i;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let y=this.currentTime,S=s;if(f){const j=Math.min(this.currentTime,i)/l;let C=Math.floor(j),O=j%1;!O&&j>=1&&(O=1),O===1&&C--,C=Math.min(C,f+1),!!(C%2)&&(h==="reverse"?(O=1-O,m&&(O-=m/l)):h==="mirror"&&(S=r)),y=nn(0,1,O)*l}const w=g?{done:!1,value:u[0]}:S.next(y);a&&(w.value=a(w.value));let{done:E}=w;!g&&o!==null&&(E=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const b=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return b&&v!==Hu&&(w.value=Ah(u,this.options,x,this.speed)),_&&_(w.value),b&&this.finish(),w}then(t,n){return this.finished.then(t,n)}get duration(){return Ut(this.calculatedDuration)}get time(){return Ut(this.currentTime)}set time(t){var n;t=kt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ze.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ut(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=OE,startTime:n}=this.options;this.driver||(this.driver=t(r=>this.tick(r))),(a=(i=this.options).onPlay)==null||a.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ze.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function KE(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const rs=e=>e*180/Math.PI,qu=e=>{const t=rs(Math.atan2(e[1],e[0]));return $u(t)},QE={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:qu,rotateZ:qu,skewX:e=>rs(Math.atan(e[1])),skewY:e=>rs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},$u=e=>(e=e%360,e<0&&(e+=360),e),ap=qu,rp=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),lp=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),ZE={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:rp,scaleY:lp,scale:e=>(rp(e)+lp(e))/2,rotateX:e=>$u(rs(Math.atan2(e[6],e[5]))),rotateY:e=>$u(rs(Math.atan2(-e[2],e[0]))),rotateZ:ap,rotate:ap,skewX:e=>rs(Math.atan(e[4])),skewY:e=>rs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Gu(e){return e.includes("scale")?1:0}function Yu(e,t){if(!e||e==="none")return Gu(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=ZE,i=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=QE,i=l}if(!i)return Gu(t);const a=s[t],r=i[1].split(",").map(JE);return typeof a=="function"?a(r):r[a]}const FE=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Yu(n,t)};function JE(e){return parseFloat(e.trim())}const Ui=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Li=new Set(Ui),op=e=>e===ki||e===k,IE=new Set(["x","y","z"]),WE=Ui.filter(e=>!IE.has(e));function eA(e){const t=[];return WE.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const ps={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Yu(t,"x"),y:(e,{transform:t})=>Yu(t,"y")};ps.translateX=ps.x;ps.translateY=ps.y;const gs=new Set;let Xu=!1,Ku=!1,Qu=!1;function bb(){if(Ku){const e=Array.from(gs).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=eA(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([a,r])=>{var l;(l=s.getValue(a))==null||l.set(r)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Ku=!1,Xu=!1,gs.forEach(e=>e.complete(Qu)),gs.clear()}function _b(){gs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ku=!0)})}function tA(){Qu=!0,_b(),bb(),Qu=!1}class Nh{constructor(t,n,s,i,a,r=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=a,this.isAsync=r}scheduleResolve(){this.state="scheduled",this.isAsync?(gs.add(this),Xu||(Xu=!0,ue.read(_b),ue.resolveKeyframes(bb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),r=t[t.length-1];if(a!==void 0)t[0]=a;else if(s&&n){const l=s.readValue(n,r);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=r),i&&a===void 0&&i.set(t[0])}KE(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),gs.delete(this)}cancel(){this.state==="scheduled"&&(gs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const nA=e=>e.startsWith("--");function sA(e,t,n){nA(t)?e.style.setProperty(t,n):e.style[t]=n}const iA=yh(()=>window.ScrollTimeline!==void 0),aA={};function rA(e,t){const n=yh(e);return()=>aA[t]??n()}const Sb=rA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sa=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,cp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sa([0,.65,.55,1]),circOut:sa([.55,0,1,.45]),backIn:sa([.31,.01,.66,-.59]),backOut:sa([.33,1.53,.69,.99])};function xb(e,t){if(e)return typeof e=="function"?Sb()?gb(e,t):"ease-out":rb(e)?sa(e):Array.isArray(e)?e.map(n=>xb(n,t)||cp.easeOut):cp[e]}function lA(e,t,n,{delay:s=0,duration:i=300,repeat:a=0,repeatType:r="loop",ease:l="easeOut",times:o}={},c=void 0){const u={[t]:n};o&&(u.offset=o);const f=xb(l,i);Array.isArray(f)&&(u.easing=f);const h={delay:s,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:r==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function wb(e){return typeof e=="function"&&"applyToOptions"in e}function oA({type:e,...t}){return wb(e)&&Sb()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class cA extends Ch{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:i,pseudoElement:a,allowFlatten:r=!1,finalKeyframe:l,onComplete:o}=t;this.isPseudoElement=!!a,this.allowFlatten=r,this.options=t,gh(typeof t.type!="string");const c=oA(t);this.animation=lA(n,s,i,c,a),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const u=Ah(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(u):sA(n,s,u),this.animation.cancel()}o==null||o(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Ut(Number(t))}get time(){return Ut(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=kt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&iA()?(this.animation.timeline=t,vt):n(this)}}const Tb={anticipate:nb,backInOut:tb,circInOut:ib};function uA(e){return e in Tb}function fA(e){typeof e.ease=="string"&&uA(e.ease)&&(e.ease=Tb[e.ease])}const up=10;class hA extends cA{constructor(t){fA(t),vb(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:i,element:a,...r}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new Oh({...r,autoplay:!1}),o=kt(this.finishedTime??this.time);n.setWithVelocity(l.sample(o-up).value,l.sample(o).value,up),l.stop()}}const fp=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Bn.test(e)||e==="0")&&!e.startsWith("url("));function dA(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function mA(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],r=fp(i,t),l=fp(a,t);return!r||!l?!1:dA(e)||(n==="spring"||wb(n))&&s}const pA=new Set(["opacity","clipPath","filter","transform"]),gA=yh(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yA(e){var u;const{motionValue:t,name:n,repeatDelay:s,repeatType:i,damping:a,type:r}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:c}=t.owner.getProps();return gA()&&n&&pA.has(n)&&(n!=="transform"||!c)&&!o&&!s&&i!=="mirror"&&a!==0&&r!=="inertia"}const vA=40;class bA extends Ch{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:r="loop",keyframes:l,name:o,motionValue:c,element:u,...f}){var v;super(),this.stop=()=>{var _,x;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=Ze.now();const h={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:a,repeatType:r,name:o,motionValue:c,element:u,...f},m=(u==null?void 0:u.KeyframeResolver)||Nh;this.keyframeResolver=new m(l,(_,x,p)=>this.onKeyframesResolved(_,x,h,!p),o,c,u),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(t,n,s,i){this.keyframeResolver=void 0;const{name:a,type:r,velocity:l,delay:o,isHandoff:c,onUpdate:u}=s;this.resolvedAt=Ze.now(),mA(t,a,r,l)||((sn.instantAnimations||!o)&&(u==null||u(Ah(t,s,n))),t[0]=t[t.length-1],s.duration=0,s.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>vA?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},m=!c&&yA(h)?new hA({...h,element:h.motionValue.owner.current}):new Oh(h);m.finished.then(()=>this.notifyFinished()).catch(vt),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),tA()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const _A=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SA(e){const t=_A.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}function jb(e,t,n=1){const[s,i]=SA(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const r=a.trim();return K0(r)?parseFloat(r):r}return xh(i)?jb(i,t,n+1):i}function Rh(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Eb=new Set(["width","height","top","left","right","bottom",...Ui]),xA={test:e=>e==="auto",parse:e=>e},Ab=e=>t=>t.test(e),Cb=[ki,k,Lt,fn,dE,hE,xA],hp=e=>Cb.find(Ab(e));function wA(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Z0(e):!0}const TA=new Set(["brightness","contrast","saturate","opacity"]);function jA(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(wh)||[];if(!s)return e;const i=n.replace(s,"");let a=TA.has(t)?1:0;return s!==n&&(a*=100),t+"("+a+i+")"}const EA=/\b([a-z-]*)\(.*?\)/gu,Zu={...Bn,getAnimatableNone:e=>{const t=e.match(EA);return t?t.map(jA).join(" "):e}},dp={...ki,transform:Math.round},AA={rotate:fn,rotateX:fn,rotateY:fn,rotateZ:fn,scale:Hr,scaleX:Hr,scaleY:Hr,scaleZ:Hr,skew:fn,skewX:fn,skewY:fn,distance:k,translateX:k,translateY:k,translateZ:k,x:k,y:k,z:k,perspective:k,transformPerspective:k,opacity:Ga,originX:ep,originY:ep,originZ:k},Dh={borderWidth:k,borderTopWidth:k,borderRightWidth:k,borderBottomWidth:k,borderLeftWidth:k,borderRadius:k,radius:k,borderTopLeftRadius:k,borderTopRightRadius:k,borderBottomRightRadius:k,borderBottomLeftRadius:k,width:k,maxWidth:k,height:k,maxHeight:k,top:k,right:k,bottom:k,left:k,padding:k,paddingTop:k,paddingRight:k,paddingBottom:k,paddingLeft:k,margin:k,marginTop:k,marginRight:k,marginBottom:k,marginLeft:k,backgroundPositionX:k,backgroundPositionY:k,...AA,zIndex:dp,fillOpacity:Ga,strokeOpacity:Ga,numOctaves:dp},CA={...Dh,color:be,backgroundColor:be,outlineColor:be,fill:be,stroke:be,borderColor:be,borderTopColor:be,borderRightColor:be,borderBottomColor:be,borderLeftColor:be,filter:Zu,WebkitFilter:Zu},Ob=e=>CA[e];function Nb(e,t){let n=Ob(e);return n!==Zu&&(n=Bn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const OA=new Set(["auto","none","0"]);function NA(e,t,n){let s=0,i;for(;s<e.length&&!i;){const a=e[s];typeof a=="string"&&!OA.has(a)&&Ya(a).values.length&&(i=e[s]),s++}if(i&&n)for(const a of t)e[a]=Nb(n,i)}class RA extends Nh{constructor(t,n,s,i,a){super(t,n,s,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let o=0;o<t.length;o++){let c=t[o];if(typeof c=="string"&&(c=c.trim(),xh(c))){const u=jb(c,n.current);u!==void 0&&(t[o]=u),o===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Eb.has(s)||t.length!==2)return;const[i,a]=t,r=hp(i),l=hp(a);if(r!==l)if(op(r)&&op(l))for(let o=0;o<t.length;o++){const c=t[o];typeof c=="string"&&(t[o]=parseFloat(c))}else ps[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)(t[i]===null||wA(t[i]))&&s.push(i);s.length&&NA(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ps[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,r=s[a];s[a]=ps[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=r),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([o,c])=>{t.getValue(o).set(c)}),this.resolveNoneKeyframes()}}function DA(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const i=(n==null?void 0:n[e])??s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const Rb=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Db(e){return Q0(e)&&"offsetHeight"in e}const mp=30,MA=e=>!isNaN(parseFloat(e));class kA{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,i=!0)=>{var r,l;const a=Ze.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty();i&&((l=this.events.renderRequest)==null||l.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ze.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=MA(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new vh);const s=this.events[t].add(n);return t==="change"?()=>{s(),ue.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ze.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>mp)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,mp);return F0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xi(e,t){return new kA(e,t)}const{schedule:Mh}=lb(queueMicrotask,!1),wt={x:!1,y:!1};function Mb(){return wt.x||wt.y}function UA(e){return e==="x"||e==="y"?wt[e]?null:(wt[e]=!0,()=>{wt[e]=!1}):wt.x||wt.y?null:(wt.x=wt.y=!0,()=>{wt.x=wt.y=!1})}function kb(e,t){const n=DA(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function pp(e){return!(e.pointerType==="touch"||Mb())}function LA(e,t,n={}){const[s,i,a]=kb(e,n),r=l=>{if(!pp(l))return;const{target:o}=l,c=t(o,l);if(typeof c!="function"||!o)return;const u=f=>{pp(f)&&(c(f),o.removeEventListener("pointerleave",u))};o.addEventListener("pointerleave",u,i)};return s.forEach(l=>{l.addEventListener("pointerenter",r,i)}),a}const Ub=(e,t)=>t?e===t?!0:Ub(e,t.parentElement):!1,kh=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,VA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function PA(e){return VA.has(e.tagName)||e.tabIndex!==-1}const al=new WeakSet;function gp(e){return t=>{t.key==="Enter"&&e(t)}}function xc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const BA=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=gp(()=>{if(al.has(n))return;xc(n,"down");const i=gp(()=>{xc(n,"up")}),a=()=>xc(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function yp(e){return kh(e)&&!Mb()}function zA(e,t,n={}){const[s,i,a]=kb(e,n),r=l=>{const o=l.currentTarget;if(!yp(l))return;al.add(o);const c=t(o,l),u=(m,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),al.has(o)&&al.delete(o),yp(m)&&typeof c=="function"&&c(m,{success:v})},f=m=>{u(m,o===window||o===document||n.useGlobalTarget||Ub(o,m.target))},h=m=>{u(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",r,i),Db(l)&&(l.addEventListener("focus",c=>BA(c,i)),!PA(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function Lb(e){return Q0(e)&&"ownerSVGElement"in e}function HA(e){return Lb(e)&&e.tagName==="svg"}const Be=e=>!!(e&&e.getVelocity),qA=[...Cb,be,Bn],$A=e=>qA.find(Ab(e)),Uh=T.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class GA extends T.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,i=Db(s)&&s.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function YA({children:e,isPresent:t,anchorX:n,root:s}){const i=T.useId(),a=T.useRef(null),r=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=T.useContext(Uh);return T.useInsertionEffect(()=>{const{width:o,height:c,top:u,left:f,right:h}=r.current;if(t||!a.current||!o||!c)return;const m=n==="left"?`left: ${f}`:`right: ${h}`;a.current.dataset.motionPopId=i;const v=document.createElement("style");l&&(v.nonce=l);const _=s??document.head;return _.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${u}px !important;
          }
        `),()=>{_.contains(v)&&_.removeChild(v)}},[t]),d.jsx(GA,{isPresent:t,childRef:a,sizeRef:r,children:T.cloneElement(e,{ref:a})})}const XA=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:a,mode:r,anchorX:l,root:o})=>{const c=hh(KA),u=T.useId();let f=!0,h=T.useMemo(()=>(f=!1,{id:u,initial:t,isPresent:n,custom:i,onExitComplete:m=>{c.set(m,!0);for(const v of c.values())if(!v)return;s&&s()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[n,c,s]);return a&&f&&(h={...h}),T.useMemo(()=>{c.forEach((m,v)=>c.set(v,!1))},[n]),T.useEffect(()=>{!n&&!c.size&&s&&s()},[n]),r==="popLayout"&&(e=d.jsx(YA,{isPresent:n,anchorX:l,root:o,children:e})),d.jsx(_o.Provider,{value:h,children:e})};function KA(){return new Map}function Vb(e=!0){const t=T.useContext(_o);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,a=T.useId();T.useEffect(()=>{if(e)return i(a)},[e]);const r=T.useCallback(()=>e&&s&&s(a),[a,s,e]);return!n&&s?[!1,r]:[!0]}const qr=e=>e.key||"";function vp(e){const t=[];return T.Children.forEach(e,n=>{T.isValidElement(n)&&t.push(n)}),t}const $r=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:a="sync",propagate:r=!1,anchorX:l="left",root:o})=>{const[c,u]=Vb(r),f=T.useMemo(()=>vp(e),[e]),h=r&&!c?[]:f.map(qr),m=T.useRef(!0),v=T.useRef(f),_=hh(()=>new Map),[x,p]=T.useState(f),[g,y]=T.useState(f);X0(()=>{m.current=!1,v.current=f;for(let E=0;E<g.length;E++){const b=qr(g[E]);h.includes(b)?_.delete(b):_.get(b)!==!0&&_.set(b,!1)}},[g,h.length,h.join("-")]);const S=[];if(f!==x){let E=[...f];for(let b=0;b<g.length;b++){const j=g[b],C=qr(j);h.includes(C)||(E.splice(b,0,j),S.push(j))}return a==="wait"&&S.length&&(E=S),y(vp(E)),p(f),null}const{forceRender:w}=T.useContext(fh);return d.jsx(d.Fragment,{children:g.map(E=>{const b=qr(E),j=r&&!c?!1:f===g||h.includes(b),C=()=>{if(_.has(b))_.set(b,!0);else return;let O=!0;_.forEach(L=>{L||(O=!1)}),O&&(w==null||w(),y(v.current),r&&(u==null||u()),s&&s())};return d.jsx(XA,{isPresent:j,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:o,onExitComplete:j?void 0:C,anchorX:l,children:E},b)})})},Pb=T.createContext({strict:!1}),bp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wi={};for(const e in bp)wi[e]={isEnabled:t=>bp[e].some(n=>!!t[n])};function QA(e){for(const t in e)wi[t]={...wi[t],...e[t]}}const ZA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $l(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ZA.has(e)}let Bb=e=>!$l(e);function FA(e){typeof e=="function"&&(Bb=t=>t.startsWith("on")?!$l(t):e(t))}try{FA(require("@emotion/is-prop-valid").default)}catch{}function JA(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(Bb(i)||n===!0&&$l(i)||!t&&!$l(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}const So=T.createContext({});function xo(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Xa(e){return typeof e=="string"||Array.isArray(e)}const Lh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vh=["initial",...Lh];function wo(e){return xo(e.animate)||Vh.some(t=>Xa(e[t]))}function zb(e){return!!(wo(e)||e.variants)}function IA(e,t){if(wo(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Xa(n)?n:void 0,animate:Xa(s)?s:void 0}}return e.inherit!==!1?t:{}}function WA(e){const{initial:t,animate:n}=IA(e,T.useContext(So));return T.useMemo(()=>({initial:t,animate:n}),[_p(t),_p(n)])}function _p(e){return Array.isArray(e)?e.join(" "):e}const Ka={};function eC(e){for(const t in e)Ka[t]=e[t],Sh(t)&&(Ka[t].isCSSVariable=!0)}function Hb(e,{layout:t,layoutId:n}){return Li.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Ka[e]||e==="opacity")}const tC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nC=Ui.length;function sC(e,t,n){let s="",i=!0;for(let a=0;a<nC;a++){const r=Ui[a],l=e[r];if(l===void 0)continue;let o=!0;if(typeof l=="number"?o=l===(r.startsWith("scale")?1:0):o=parseFloat(l)===0,!o||n){const c=Rb(l,Dh[r]);if(!o){i=!1;const u=tC[r]||r;s+=`${u}(${c}) `}n&&(t[r]=c)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function Ph(e,t,n){const{style:s,vars:i,transformOrigin:a}=e;let r=!1,l=!1;for(const o in t){const c=t[o];if(Li.has(o)){r=!0;continue}else if(Sh(o)){i[o]=c;continue}else{const u=Rb(c,Dh[o]);o.startsWith("origin")?(l=!0,a[o]=u):s[o]=u}}if(t.transform||(r||n?s.transform=sC(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:o="50%",originY:c="50%",originZ:u=0}=a;s.transformOrigin=`${o} ${c} ${u}`}}const Bh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qb(e,t,n){for(const s in t)!Be(t[s])&&!Hb(s,n)&&(e[s]=t[s])}function iC({transformTemplate:e},t){return T.useMemo(()=>{const n=Bh();return Ph(n,t,e),Object.assign({},n.vars,n.style)},[t])}function aC(e,t){const n=e.style||{},s={};return qb(s,n,e),Object.assign(s,iC(e,t)),s}function rC(e,t){const n={},s=aC(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const lC={offset:"stroke-dashoffset",array:"stroke-dasharray"},oC={offset:"strokeDashoffset",array:"strokeDasharray"};function cC(e,t,n=1,s=0,i=!0){e.pathLength=1;const a=i?lC:oC;e[a.offset]=k.transform(-s);const r=k.transform(t),l=k.transform(n);e[a.array]=`${r} ${l}`}function $b(e,{attrX:t,attrY:n,attrScale:s,pathLength:i,pathSpacing:a=1,pathOffset:r=0,...l},o,c,u){if(Ph(e,l,c),o){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),s!==void 0&&(f.scale=s),i!==void 0&&cC(f,i,a,r,!1)}const Gb=()=>({...Bh(),attrs:{}}),Yb=e=>typeof e=="string"&&e.toLowerCase()==="svg";function uC(e,t,n,s){const i=T.useMemo(()=>{const a=Gb();return $b(a,t,Yb(s),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};qb(a,e.style,e),i.style={...a,...i.style}}return i}const fC=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zh(e){return typeof e!="string"||e.includes("-")?!1:!!(fC.indexOf(e)>-1||/[A-Z]/u.test(e))}function hC(e,t,n,{latestValues:s},i,a=!1){const l=(zh(e)?uC:rC)(t,s,i,e),o=JA(t,typeof e=="string",a),c=e!==T.Fragment?{...o,...l,ref:n}:{},{children:u}=t,f=T.useMemo(()=>Be(u)?u.get():u,[u]);return T.createElement(e,{...c,children:f})}function Sp(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function Hh(e,t,n,s){if(typeof t=="function"){const[i,a]=Sp(s);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=Sp(s);t=t(n!==void 0?n:e.custom,i,a)}return t}function rl(e){return Be(e)?e.get():e}function dC({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,i){return{latestValues:mC(n,s,i,e),renderState:t()}}function mC(e,t,n,s){const i={},a=s(e,{});for(const h in a)i[h]=rl(a[h]);let{initial:r,animate:l}=e;const o=wo(e),c=zb(e);t&&c&&!o&&e.inherit!==!1&&(r===void 0&&(r=t.initial),l===void 0&&(l=t.animate));let u=n?n.initial===!1:!1;u=u||r===!1;const f=u?l:r;if(f&&typeof f!="boolean"&&!xo(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const v=Hh(e,h[m]);if(v){const{transitionEnd:_,transition:x,...p}=v;for(const g in p){let y=p[g];if(Array.isArray(y)){const S=u?y.length-1:0;y=y[S]}y!==null&&(i[g]=y)}for(const g in _)i[g]=_[g]}}}return i}const Xb=e=>(t,n)=>{const s=T.useContext(So),i=T.useContext(_o),a=()=>dC(e,t,s,i);return n?a():hh(a)};function qh(e,t,n){var a;const{style:s}=e,i={};for(const r in s)(Be(s[r])||t.style&&Be(t.style[r])||Hb(r,e)||((a=n==null?void 0:n.getValue(r))==null?void 0:a.liveStyle)!==void 0)&&(i[r]=s[r]);return i}const pC=Xb({scrapeMotionValuesFromProps:qh,createRenderState:Bh});function Kb(e,t,n){const s=qh(e,t,n);for(const i in e)if(Be(e[i])||Be(t[i])){const a=Ui.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[a]=e[i]}return s}const gC=Xb({scrapeMotionValuesFromProps:Kb,createRenderState:Gb}),yC=Symbol.for("motionComponentSymbol");function Is(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function vC(e,t,n){return T.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Is(n)&&(n.current=s))},[t])}const $h=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bC="framerAppearId",Qb="data-"+$h(bC),Zb=T.createContext({});function _C(e,t,n,s,i){var _,x;const{visualElement:a}=T.useContext(So),r=T.useContext(Pb),l=T.useContext(_o),o=T.useContext(Uh).reducedMotion,c=T.useRef(null);s=s||r.renderer,!c.current&&s&&(c.current=s(e,{visualState:t,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:o}));const u=c.current,f=T.useContext(Zb);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&SC(c.current,n,i,f);const h=T.useRef(!1);T.useInsertionEffect(()=>{u&&h.current&&u.update(n,l)});const m=n[Qb],v=T.useRef(!!m&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,m))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,m)));return X0(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),v.current&&u.animationState&&u.animationState.animateChanges())}),T.useEffect(()=>{u&&(!v.current&&u.animationState&&u.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,m)}),v.current=!1))}),u}function SC(e,t,n,s){const{layoutId:i,layout:a,drag:r,dragConstraints:l,layoutScroll:o,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Fb(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!r||l&&Is(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:o,layoutRoot:c})}function Fb(e){if(e)return e.options.allowProjection!==!1?e.projection:Fb(e.parent)}function wc(e,{forwardMotionProps:t=!1}={},n,s){n&&QA(n);const i=zh(e)?gC:pC;function a(l,o){let c;const u={...T.useContext(Uh),...l,layoutId:xC(l)},{isStatic:f}=u,h=WA(l),m=i(l,f);if(!f&&dh){wC();const v=TC(u);c=v.MeasureLayout,h.visualElement=_C(e,m,u,s,v.ProjectionNode)}return d.jsxs(So.Provider,{value:h,children:[c&&h.visualElement?d.jsx(c,{visualElement:h.visualElement,...u}):null,hC(e,l,vC(m,h.visualElement,o),m,f,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const r=T.forwardRef(a);return r[yC]=e,r}function xC({layoutId:e}){const t=T.useContext(fh).id;return t&&e!==void 0?t+"-"+e:e}function wC(e,t){T.useContext(Pb).strict}function TC(e){const{drag:t,layout:n}=wi;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function jC(e,t){if(typeof Proxy>"u")return wc;const n=new Map,s=(a,r)=>wc(a,r,e,t),i=(a,r)=>s(a,r);return new Proxy(i,{get:(a,r)=>r==="create"?s:(n.has(r)||n.set(r,wc(r,void 0,e,t)),n.get(r))})}function Jb({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function EC({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function AC(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Tc(e){return e===void 0||e===1}function Fu({scale:e,scaleX:t,scaleY:n}){return!Tc(e)||!Tc(t)||!Tc(n)}function ns(e){return Fu(e)||Ib(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Ib(e){return xp(e.x)||xp(e.y)}function xp(e){return e&&e!=="0%"}function Gl(e,t,n){const s=e-n,i=t*s;return n+i}function wp(e,t,n,s,i){return i!==void 0&&(e=Gl(e,i,s)),Gl(e,n,s)+t}function Ju(e,t=0,n=1,s,i){e.min=wp(e.min,t,n,s,i),e.max=wp(e.max,t,n,s,i)}function Wb(e,{x:t,y:n}){Ju(e.x,t.translate,t.scale,t.originPoint),Ju(e.y,n.translate,n.scale,n.originPoint)}const Tp=.999999999999,jp=1.0000000000001;function CC(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,r;for(let l=0;l<i;l++){a=n[l],r=a.projectionDelta;const{visualElement:o}=a.options;o&&o.props.style&&o.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ei(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),r&&(t.x*=r.x.scale,t.y*=r.y.scale,Wb(e,r)),s&&ns(a.latestValues)&&ei(e,a.latestValues))}t.x<jp&&t.x>Tp&&(t.x=1),t.y<jp&&t.y>Tp&&(t.y=1)}function Ws(e,t){e.min=e.min+t,e.max=e.max+t}function Ep(e,t,n,s,i=.5){const a=he(e.min,e.max,i);Ju(e,t,n,a,s)}function ei(e,t){Ep(e.x,t.x,t.scaleX,t.scale,t.originX),Ep(e.y,t.y,t.scaleY,t.scale,t.originY)}function e_(e,t){return Jb(AC(e.getBoundingClientRect(),t))}function OC(e,t,n){const s=e_(e,n),{scroll:i}=t;return i&&(Ws(s.x,i.offset.x),Ws(s.y,i.offset.y)),s}const Ap=()=>({translate:0,scale:1,origin:0,originPoint:0}),ti=()=>({x:Ap(),y:Ap()}),Cp=()=>({min:0,max:0}),ye=()=>({x:Cp(),y:Cp()}),Iu={current:null},t_={current:!1};function NC(){if(t_.current=!0,!!dh)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Iu.current=e.matches;e.addEventListener("change",t),t()}else Iu.current=!1}const RC=new WeakMap;function DC(e,t,n){for(const s in t){const i=t[s],a=n[s];if(Be(i))e.addValue(s,i);else if(Be(a))e.addValue(s,xi(i,{owner:e}));else if(a!==i)if(e.hasValue(s)){const r=e.getValue(s);r.liveStyle===!0?r.jump(i):r.hasAnimated||r.set(i)}else{const r=e.getStaticValue(s);e.addValue(s,xi(r!==void 0?r:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Op=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class MC{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:a,visualState:r},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Nh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Ze.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,ue.render(this.render,!1,!0))};const{latestValues:o,renderState:c}=r;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=wo(n),this.isVariantNode=zb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in f){const m=f[h];o[h]!==void 0&&Be(m)&&m.set(o[h],!1)}}mount(t){this.current=t,RC.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),t_.current||NC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Iu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Pn(this.notifyUpdate),Pn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Li.has(t);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&ue.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a(),r&&r(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in wi){const n=wi[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ye()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Op.length;s++){const i=Op[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,r=t[a];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=DC(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=xi(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(K0(s)||Z0(s))?s=parseFloat(s):!$A(s)&&Bn.test(n)&&(s=Nb(t,n)),this.setBaseTarget(t,Be(s)?s.get():s)),Be(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const r=Hh(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);r&&(s=r[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Be(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new vh),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Mh.render(this.render)}}class n_ extends MC{constructor(){super(...arguments),this.KeyframeResolver=RA}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Be(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function s_(e,{style:t,vars:n},s,i){const a=e.style;let r;for(r in t)a[r]=t[r];i==null||i.applyProjectionStyles(a,s);for(r in n)a.setProperty(r,n[r])}function kC(e){return window.getComputedStyle(e)}class UC extends n_{constructor(){super(...arguments),this.type="html",this.renderInstance=s_}readValueFromInstance(t,n){var s;if(Li.has(n))return(s=this.projection)!=null&&s.isProjecting?Gu(n):FE(t,n);{const i=kC(t),a=(Sh(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return e_(t,n)}build(t,n,s){Ph(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return qh(t,n,s)}}const i_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function LC(e,t,n,s){s_(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(i_.has(i)?i:$h(i),t.attrs[i])}class VC extends n_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ye}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Li.has(n)){const s=Ob(n);return s&&s.default||0}return n=i_.has(n)?n:$h(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return Kb(t,n,s)}build(t,n,s){$b(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,i){LC(t,n,s,i)}mount(t){this.isSVGTag=Yb(t.tagName),super.mount(t)}}const PC=(e,t)=>zh(e)?new VC(t):new UC(t,{allowProjection:e!==T.Fragment});function Qa(e,t,n){const s=e.getProps();return Hh(s,t,n!==void 0?n:s.custom,e)}const Wu=e=>Array.isArray(e);function BC(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,xi(n))}function zC(e){return Wu(e)?e[e.length-1]||0:e}function HC(e,t){const n=Qa(e,t);let{transitionEnd:s={},transition:i={},...a}=n||{};a={...a,...s};for(const r in a){const l=zC(a[r]);BC(e,r,l)}}function qC(e){return!!(Be(e)&&e.add)}function ef(e,t){const n=e.getValue("willChange");if(qC(n))return n.add(t);if(!n&&sn.WillChange){const s=new sn.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function a_(e){return e.props[Qb]}const $C=e=>e!==null;function GC(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter($C),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[a]}const YC={type:"spring",stiffness:500,damping:25,restSpeed:10},XC=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),KC={type:"keyframes",duration:.8},QC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZC=(e,{keyframes:t})=>t.length>2?KC:Li.has(e)?e.startsWith("scale")?XC(t[1]):YC:QC;function FC({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:r,repeatDelay:l,from:o,elapsed:c,...u}){return!!Object.keys(u).length}const Gh=(e,t,n,s={},i,a)=>r=>{const l=Rh(s,e)||{},o=l.delay||s.delay||0;let{elapsed:c=0}=s;c=c-kt(o);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-c,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{r(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};FC(l)||Object.assign(u,ZC(e,u)),u.duration&&(u.duration=kt(u.duration)),u.repeatDelay&&(u.repeatDelay=kt(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(sn.instantAnimations||sn.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!l.type&&!l.ease,f&&!a&&t.get()!==void 0){const h=GC(u.keyframes,l);if(h!==void 0){ue.update(()=>{u.onUpdate(h),u.onComplete()});return}}return l.isSync?new Oh(u):new bA(u)};function JC({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function r_(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:r,...l}=t;s&&(a=s);const o=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const u in l){const f=e.getValue(u,e.latestValues[u]??null),h=l[u];if(h===void 0||c&&JC(c,u))continue;const m={delay:n,...Rh(a||{},u)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===v&&!m.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const p=a_(e);if(p){const g=window.MotionHandoffAnimation(p,u,ue);g!==null&&(m.startTime=g,_=!0)}}ef(e,u),f.start(Gh(u,f,h,e.shouldReduceMotion&&Eb.has(u)?{type:!1}:m,e,_));const x=f.animation;x&&o.push(x)}return r&&Promise.all(o).then(()=>{ue.update(()=>{r&&HC(e,r)})}),o}function tf(e,t,n={}){var o;const s=Qa(e,t,n.type==="exit"?(o=e.presenceContext)==null?void 0:o.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const a=s?()=>Promise.all(r_(e,s,n)):()=>Promise.resolve(),r=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=i;return IC(e,t,c,u,f,h,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,u]=l==="beforeChildren"?[a,r]:[r,a];return c().then(()=>u())}else return Promise.all([a(),r(n.delay)])}function IC(e,t,n=0,s=0,i=0,a=1,r){const l=[],o=e.variantChildren.size,c=(o-1)*i,u=typeof s=="function",f=u?h=>s(h,o):a===1?(h=0)=>h*i:(h=0)=>c-h*i;return Array.from(e.variantChildren).sort(WC).forEach((h,m)=>{h.notify("AnimationStart",t),l.push(tf(h,t,{...r,delay:n+(u?0:s)+f(m)}).then(()=>h.notify("AnimationComplete",t)))}),Promise.all(l)}function WC(e,t){return e.sortNodePosition(t)}function eO(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(a=>tf(e,a,n));s=Promise.all(i)}else if(typeof t=="string")s=tf(e,t,n);else{const i=typeof t=="function"?Qa(e,t,n.custom):t;s=Promise.all(r_(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function l_(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const tO=Vh.length;function o_(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?o_(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<tO;n++){const s=Vh[n],i=e.props[s];(Xa(i)||i===!1)&&(t[s]=i)}return t}const nO=[...Lh].reverse(),sO=Lh.length;function iO(e){return t=>Promise.all(t.map(({animation:n,options:s})=>eO(e,n,s)))}function aO(e){let t=iO(e),n=Np(),s=!0;const i=o=>(c,u)=>{var h;const f=Qa(e,u,o==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:v,..._}=f;c={...c,..._,...v}}return c};function a(o){t=o(e)}function r(o){const{props:c}=e,u=o_(e.parent)||{},f=[],h=new Set;let m={},v=1/0;for(let x=0;x<sO;x++){const p=nO[x],g=n[p],y=c[p]!==void 0?c[p]:u[p],S=Xa(y),w=p===o?g.isActive:null;w===!1&&(v=x);let E=y===u[p]&&y!==c[p]&&S;if(E&&s&&e.manuallyAnimateOnMount&&(E=!1),g.protectedKeys={...m},!g.isActive&&w===null||!y&&!g.prevProp||xo(y)||typeof y=="boolean")continue;const b=rO(g.prevProp,y);let j=b||p===o&&g.isActive&&!E&&S||x>v&&S,C=!1;const O=Array.isArray(y)?y:[y];let L=O.reduce(i(p),{});w===!1&&(L={});const{prevResolvedValues:z={}}=g,re={...z,...L},G=D=>{j=!0,h.has(D)&&(C=!0,h.delete(D)),g.needsAnimating[D]=!0;const M=e.getValue(D);M&&(M.liveStyle=!1)};for(const D in re){const M=L[D],Z=z[D];if(m.hasOwnProperty(D))continue;let te=!1;Wu(M)&&Wu(Z)?te=!l_(M,Z):te=M!==Z,te?M!=null?G(D):h.add(D):M!==void 0&&h.has(D)?G(D):g.protectedKeys[D]=!0}g.prevProp=y,g.prevResolvedValues=L,g.isActive&&(m={...m,...L}),s&&e.blockInitialAnimation&&(j=!1),j&&(!(E&&b)||C)&&f.push(...O.map(D=>({animation:D,options:{type:p}})))}if(h.size){const x={};if(typeof c.initial!="boolean"){const p=Qa(e,Array.isArray(c.initial)?c.initial[0]:c.initial);p&&p.transition&&(x.transition=p.transition)}h.forEach(p=>{const g=e.getBaseTarget(p),y=e.getValue(p);y&&(y.liveStyle=!0),x[p]=g??null}),f.push({animation:x})}let _=!!f.length;return s&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(_=!1),s=!1,_?t(f):Promise.resolve()}function l(o,c){var f;if(n[o].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(o,c)}),n[o].isActive=c;const u=r(o);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:r,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Np(),s=!0}}}function rO(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!l_(t,e):!1}function Jn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Np(){return{animate:Jn(!0),whileInView:Jn(),whileHover:Jn(),whileTap:Jn(),whileDrag:Jn(),whileFocus:Jn(),exit:Jn()}}class Gn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class lO extends Gn{constructor(t){super(t),t.animationState||(t.animationState=aO(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();xo(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let oO=0;class cO extends Gn{constructor(){super(...arguments),this.id=oO++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const uO={animation:{Feature:lO},exit:{Feature:cO}};function Za(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function _r(e){return{point:{x:e.pageX,y:e.pageY}}}const fO=e=>t=>kh(t)&&e(t,_r(t));function wa(e,t,n,s){return Za(e,t,fO(n),s)}const c_=1e-4,hO=1-c_,dO=1+c_,u_=.01,mO=0-u_,pO=0+u_;function qe(e){return e.max-e.min}function gO(e,t,n){return Math.abs(e-t)<=n}function Rp(e,t,n,s=.5){e.origin=s,e.originPoint=he(t.min,t.max,e.origin),e.scale=qe(n)/qe(t),e.translate=he(n.min,n.max,e.origin)-e.originPoint,(e.scale>=hO&&e.scale<=dO||isNaN(e.scale))&&(e.scale=1),(e.translate>=mO&&e.translate<=pO||isNaN(e.translate))&&(e.translate=0)}function Ta(e,t,n,s){Rp(e.x,t.x,n.x,s?s.originX:void 0),Rp(e.y,t.y,n.y,s?s.originY:void 0)}function Dp(e,t,n){e.min=n.min+t.min,e.max=e.min+qe(t)}function yO(e,t,n){Dp(e.x,t.x,n.x),Dp(e.y,t.y,n.y)}function Mp(e,t,n){e.min=t.min-n.min,e.max=e.min+qe(t)}function ja(e,t,n){Mp(e.x,t.x,n.x),Mp(e.y,t.y,n.y)}function ut(e){return[e("x"),e("y")]}const f_=({current:e})=>e?e.ownerDocument.defaultView:null,kp=(e,t)=>Math.abs(e-t);function vO(e,t){const n=kp(e.x,t.x),s=kp(e.y,t.y);return Math.sqrt(n**2+s**2)}class h_{constructor(t,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:r=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Ec(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=vO(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!v)return;const{point:_}=h,{timestamp:x}=De;this.history.push({..._,timestamp:x});const{onStart:p,onMove:g}=this.handlers;m||(p&&p(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=jc(m,this.transformPagePoint),ue.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:v,onSessionEnd:_,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Ec(h.type==="pointercancel"?this.lastMoveEventInfo:jc(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,p),_&&_(h,p)},!kh(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=r,this.contextWindow=i||window;const l=_r(t),o=jc(l,this.transformPagePoint),{point:c}=o,{timestamp:u}=De;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=n;f&&f(t,Ec(o,this.history)),this.removeListeners=yr(wa(this.contextWindow,"pointermove",this.handlePointerMove),wa(this.contextWindow,"pointerup",this.handlePointerUp),wa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Pn(this.updatePoint)}}function jc(e,t){return t?{point:t(e.point)}:e}function Up(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ec({point:e},t){return{point:e,delta:Up(e,d_(t)),offset:Up(e,bO(t)),velocity:_O(t,.1)}}function bO(e){return e[0]}function d_(e){return e[e.length-1]}function _O(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=d_(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>kt(t)));)n--;if(!s)return{x:0,y:0};const a=Ut(i.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const r={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}function SO(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?he(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?he(n,e,s.max):Math.min(e,n)),e}function Lp(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function xO(e,{top:t,left:n,bottom:s,right:i}){return{x:Lp(e.x,n,i),y:Lp(e.y,t,s)}}function Vp(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function wO(e,t){return{x:Vp(e.x,t.x),y:Vp(e.y,t.y)}}function TO(e,t){let n=.5;const s=qe(e),i=qe(t);return i>s?n=$a(t.min,t.max-s,e.min):s>i&&(n=$a(e.min,e.max-i,t.min)),nn(0,1,n)}function jO(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const nf=.35;function EO(e=nf){return e===!1?e=0:e===!0&&(e=nf),{x:Pp(e,"left","right"),y:Pp(e,"top","bottom")}}function Pp(e,t,n){return{min:Bp(e,t),max:Bp(e,n)}}function Bp(e,t){return typeof e=="number"?e:e[t]||0}const AO=new WeakMap;class CO{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ye(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(_r(f).point)},r=(f,h)=>{const{drag:m,dragPropagation:v,onDragStart:_}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=UA(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ut(p=>{let g=this.getAxisMotionValue(p).get()||0;if(Lt.test(g)){const{projection:y}=this.visualElement;if(y&&y.layout){const S=y.layout.layoutBox[p];S&&(g=qe(S)*(parseFloat(g)/100))}}this.originPoint[p]=g}),_&&ue.postRender(()=>_(f,h)),ef(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:_,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:p}=h;if(v&&this.currentDirection===null){this.currentDirection=OO(p),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",h.point,p),this.updateAxis("y",h.point,p),this.visualElement.render(),x&&x(f,h)},o=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>ut(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new h_(t,{onSessionStart:a,onStart:r,onMove:l,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:s,contextWindow:f_(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,i=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!s)return;const{velocity:r}=i;this.startAnimation(r);const{onDragEnd:l}=this.getProps();l&&ue.postRender(()=>l(s,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!Gr(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let r=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(r=SO(r,this.constraints[t],this.elastic[t])),a.set(r)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&Is(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=xO(s.layoutBox,t):this.constraints=!1,this.elastic=EO(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ut(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=jO(s.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Is(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=OC(s,i.root,this.visualElement.getTransformPagePoint());let r=wO(i.layout.layoutBox,a);if(n){const l=n(EC(r));this.hasMutatedConstraints=!!l,l&&(r=Jb(l))}return r}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:a,dragSnapToOrigin:r,onDragTransitionEnd:l}=this.getProps(),o=this.constraints||{},c=ut(u=>{if(!Gr(u,n,this.currentDirection))return;let f=o&&o[u]||{};r&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,v={type:"inertia",velocity:s?t[u]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(u,v)});return Promise.all(c).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return ef(this.visualElement,t),s.start(Gh(t,s,0,n,this.visualElement,!1))}stopAnimation(){ut(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ut(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ut(n=>{const{drag:s}=this.getProps();if(!Gr(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:r,max:l}=i.layout.layoutBox[n];a.set(t[n]-he(r,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Is(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ut(r=>{const l=this.getAxisMotionValue(r);if(l&&this.constraints!==!1){const o=l.get();i[r]=TO({min:o,max:o},this.constraints[r])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ut(r=>{if(!Gr(r,t,null))return;const l=this.getAxisMotionValue(r),{min:o,max:c}=this.constraints[r];l.set(he(o,c,i[r]))})}addListeners(){if(!this.visualElement.current)return;AO.set(this.visualElement,this);const t=this.visualElement.current,n=wa(t,"pointerdown",o=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(o)}),s=()=>{const{dragConstraints:o}=this.getProps();Is(o)&&o.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ue.read(s);const r=Za(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:o,hasLayoutChanged:c})=>{this.isDragging&&c&&(ut(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=o[u].translate,f.set(f.get()+o[u].translate))}),this.visualElement.render())});return()=>{r(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:r=nf,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:a,dragElastic:r,dragMomentum:l}}}function Gr(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function OO(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class NO extends Gn{constructor(t){super(t),this.removeGroupControls=vt,this.removeListeners=vt,this.controls=new CO(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vt}unmount(){this.removeGroupControls(),this.removeListeners()}}const zp=e=>(t,n)=>{e&&ue.postRender(()=>e(t,n))};class RO extends Gn{constructor(){super(...arguments),this.removePointerDownListener=vt}onPointerDown(t){this.session=new h_(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:f_(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:zp(t),onStart:zp(n),onMove:s,onEnd:(a,r)=>{delete this.session,i&&ue.postRender(()=>i(a,r))}}}mount(){this.removePointerDownListener=wa(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ll={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Hp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Zi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(k.test(e))e=parseFloat(e);else return e;const n=Hp(e,t.target.x),s=Hp(e,t.target.y);return`${n}% ${s}%`}},DO={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=Bn.parse(e);if(i.length>5)return s;const a=Bn.createTransformer(e),r=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,o=n.y.scale*t.y;i[0+r]/=l,i[1+r]/=o;const c=he(l,o,.5);return typeof i[2+r]=="number"&&(i[2+r]/=c),typeof i[3+r]=="number"&&(i[3+r]/=c),a(i)}};let qp=!1;class MO extends T.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:a}=t;eC(kO),a&&(n.group&&n.group.add(a),s&&s.register&&i&&s.register(a),qp&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),ll.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:a}=this.props,{projection:r}=s;return r&&(r.isPresent=a,qp=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==a?r.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?r.promote():r.relegate()||ue.postRender(()=>{const l=r.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Mh.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function m_(e){const[t,n]=Vb(),s=T.useContext(fh);return d.jsx(MO,{...e,layoutGroup:s,switchLayoutGroup:T.useContext(Zb),isPresent:t,safeToRemove:n})}const kO={borderRadius:{...Zi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zi,borderTopRightRadius:Zi,borderBottomLeftRadius:Zi,borderBottomRightRadius:Zi,boxShadow:DO};function UO(e,t,n){const s=Be(e)?e:xi(e);return s.start(Gh("",s,t,n)),s.animation}const LO=(e,t)=>e.depth-t.depth;class VO{constructor(){this.children=[],this.isDirty=!1}add(t){mh(this.children,t),this.isDirty=!0}remove(t){ph(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(LO),this.isDirty=!1,this.children.forEach(t)}}function PO(e,t){const n=Ze.now(),s=({timestamp:i})=>{const a=i-n;a>=t&&(Pn(s),e(a-t))};return ue.setup(s,!0),()=>Pn(s)}const p_=["TopLeft","TopRight","BottomLeft","BottomRight"],BO=p_.length,$p=e=>typeof e=="string"?parseFloat(e):e,Gp=e=>typeof e=="number"||k.test(e);function zO(e,t,n,s,i,a){i?(e.opacity=he(0,n.opacity??1,HO(s)),e.opacityExit=he(t.opacity??1,0,qO(s))):a&&(e.opacity=he(t.opacity??1,n.opacity??1,s));for(let r=0;r<BO;r++){const l=`border${p_[r]}Radius`;let o=Yp(t,l),c=Yp(n,l);if(o===void 0&&c===void 0)continue;o||(o=0),c||(c=0),o===0||c===0||Gp(o)===Gp(c)?(e[l]=Math.max(he($p(o),$p(c),s),0),(Lt.test(c)||Lt.test(o))&&(e[l]+="%")):e[l]=c}(t.rotate||n.rotate)&&(e.rotate=he(t.rotate||0,n.rotate||0,s))}function Yp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const HO=g_(0,.5,sb),qO=g_(.5,.95,vt);function g_(e,t,n){return s=>s<e?0:s>t?1:n($a(e,t,s))}function Xp(e,t){e.min=t.min,e.max=t.max}function ct(e,t){Xp(e.x,t.x),Xp(e.y,t.y)}function Kp(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Qp(e,t,n,s,i){return e-=t,e=Gl(e,1/n,s),i!==void 0&&(e=Gl(e,1/i,s)),e}function $O(e,t=0,n=1,s=.5,i,a=e,r=e){if(Lt.test(t)&&(t=parseFloat(t),t=he(r.min,r.max,t/100)-r.min),typeof t!="number")return;let l=he(a.min,a.max,s);e===a&&(l-=t),e.min=Qp(e.min,t,n,l,i),e.max=Qp(e.max,t,n,l,i)}function Zp(e,t,[n,s,i],a,r){$O(e,t[n],t[s],t[i],t.scale,a,r)}const GO=["x","scaleX","originX"],YO=["y","scaleY","originY"];function Fp(e,t,n,s){Zp(e.x,t,GO,n?n.x:void 0,s?s.x:void 0),Zp(e.y,t,YO,n?n.y:void 0,s?s.y:void 0)}function Jp(e){return e.translate===0&&e.scale===1}function y_(e){return Jp(e.x)&&Jp(e.y)}function Ip(e,t){return e.min===t.min&&e.max===t.max}function XO(e,t){return Ip(e.x,t.x)&&Ip(e.y,t.y)}function Wp(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function v_(e,t){return Wp(e.x,t.x)&&Wp(e.y,t.y)}function eg(e){return qe(e.x)/qe(e.y)}function tg(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class KO{constructor(){this.members=[]}add(t){mh(this.members,t),t.scheduleRender()}remove(t){if(ph(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function QO(e,t,n){let s="";const i=e.x.translate/t.x,a=e.y.translate/t.y,r=(n==null?void 0:n.z)||0;if((i||a||r)&&(s=`translate3d(${i}px, ${a}px, ${r}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:m,skewY:v}=n;c&&(s=`perspective(${c}px) ${s}`),u&&(s+=`rotate(${u}deg) `),f&&(s+=`rotateX(${f}deg) `),h&&(s+=`rotateY(${h}deg) `),m&&(s+=`skewX(${m}deg) `),v&&(s+=`skewY(${v}deg) `)}const l=e.x.scale*t.x,o=e.y.scale*t.y;return(l!==1||o!==1)&&(s+=`scale(${l}, ${o})`),s||"none"}const Ac=["","X","Y","Z"],ZO=1e3;let FO=0;function Cc(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function b_(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=a_(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ue,!(i||a))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&b_(s)}function __({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(r={},l=t==null?void 0:t()){this.id=FO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(WO),this.nodes.forEach(sN),this.nodes.forEach(iN),this.nodes.forEach(eN)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=r,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new VO)}addEventListener(r,l){return this.eventHandlers.has(r)||this.eventHandlers.set(r,new vh),this.eventHandlers.get(r).add(l)}notifyListeners(r,...l){const o=this.eventHandlers.get(r);o&&o.notify(...l)}hasListeners(r){return this.eventHandlers.has(r)}mount(r){if(this.instance)return;this.isSVG=Lb(r)&&!HA(r),this.instance=r;const{layoutId:l,layout:o,visualElement:c}=this.options;if(c&&!c.current&&c.mount(r),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(o||l)&&(this.isLayoutDirty=!0),e){let u,f=0;const h=()=>this.root.updateBlockedByResize=!1;ue.read(()=>{f=window.innerWidth}),e(r,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,u&&u(),u=PO(h,250),ll.hasAnimatedSinceResize&&(ll.hasAnimatedSinceResize=!1,this.nodes.forEach(ig)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||o)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||cN,{onLayoutAnimationStart:_,onLayoutAnimationComplete:x}=c.getProps(),p=!this.targetLayout||!v_(this.targetLayout,m),g=!f&&h;if(this.options.layoutRoot||this.resumeFrom||g||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...Rh(v,"layout"),onPlay:_,onComplete:x};(c.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(u,g)}else f||ig(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const r=this.getStack();r&&r.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Pn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aN),this.animationId++)}getTransformTemplate(){const{visualElement:r}=this.options;return r&&r.getProps().transformTemplate}willUpdate(r=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&b_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:o}=this.options;if(l===void 0&&!o)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),r&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ng);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(sg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nN),this.nodes.forEach(JO),this.nodes.forEach(IO)):this.nodes.forEach(sg),this.clearAllSnapshots();const l=Ze.now();De.delta=nn(0,1e3/60,l-De.timestamp),De.timestamp=l,De.isProcessing=!0,yc.update.process(De),yc.preRender.process(De),yc.render.process(De),De.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Mh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tN),this.sharedNodes.forEach(rN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qe(this.snapshot.measuredBox.x)&&!qe(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let o=0;o<this.path.length;o++)this.path[o].updateScroll();const r=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,r?r.layoutBox:void 0)}updateScroll(r="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===r&&(l=!1),l&&this.instance){const o=s(this.instance);this.scroll={animationId:this.root.animationId,phase:r,isRoot:o,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:o}}}resetTransform(){if(!i)return;const r=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!y_(this.projectionDelta),o=this.getTransformTemplate(),c=o?o(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;r&&this.instance&&(l||ns(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(r=!0){const l=this.measurePageBox();let o=this.removeElementScroll(l);return r&&(o=this.removeTransform(o)),uN(o),{animationId:this.root.animationId,measuredBox:l,layoutBox:o,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:r}=this.options;if(!r)return ye();const l=r.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(fN))){const{scroll:u}=this.root;u&&(Ws(l.x,u.offset.x),Ws(l.y,u.offset.y))}return l}removeElementScroll(r){var o;const l=ye();if(ct(l,r),(o=this.scroll)!=null&&o.wasRoot)return l;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&ct(l,r),Ws(l.x,f.offset.x),Ws(l.y,f.offset.y))}return l}applyTransform(r,l=!1){const o=ye();ct(o,r);for(let c=0;c<this.path.length;c++){const u=this.path[c];!l&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ei(o,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ns(u.latestValues)&&ei(o,u.latestValues)}return ns(this.latestValues)&&ei(o,this.latestValues),o}removeTransform(r){const l=ye();ct(l,r);for(let o=0;o<this.path.length;o++){const c=this.path[o];if(!c.instance||!ns(c.latestValues))continue;Fu(c.latestValues)&&c.updateSnapshot();const u=ye(),f=c.measurePageBox();ct(u,f),Fp(l,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return ns(this.latestValues)&&Fp(l,this.latestValues),l}setTargetDelta(r){this.targetDelta=r,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(r){this.options={...this.options,...r,crossfade:r.crossfade!==void 0?r.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==De.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(r=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const o=!!this.resumingFrom||this!==l;if(!(r||o&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=De.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),ja(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ye(),this.targetWithTransforms=ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ct(this.target,this.layout.layoutBox),Wb(this.target,this.targetDelta)):ct(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ye(),this.relativeTargetOrigin=ye(),ja(this.relativeTargetOrigin,this.target,m.target),ct(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Fu(this.parent.latestValues)||Ib(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const r=this.getLead(),l=!!this.resumingFrom||this!==r;let o=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(o=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(o=!1),this.resolvedRelativeTargetAt===De.timestamp&&(o=!1),o)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;ct(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;CC(this.layoutCorrected,this.treeScale,this.path,l),r.layout&&!r.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(r.target=r.layout.layoutBox,r.targetWithTransforms=ye());const{target:m}=r;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Kp(this.prevProjectionDelta.x,this.projectionDelta.x),Kp(this.prevProjectionDelta.y,this.projectionDelta.y)),Ta(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!tg(this.projectionDelta.x,this.prevProjectionDelta.x)||!tg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(r=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),r){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ti(),this.projectionDelta=ti(),this.projectionDeltaWithTransform=ti()}setAnimationOrigin(r,l=!1){const o=this.snapshot,c=o?o.latestValues:{},u={...this.latestValues},f=ti();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=ye(),m=o?o.source:void 0,v=this.layout?this.layout.source:void 0,_=m!==v,x=this.getStack(),p=!x||x.members.length<=1,g=!!(_&&!p&&this.options.crossfade===!0&&!this.path.some(oN));this.animationProgress=0;let y;this.mixTargetDelta=S=>{const w=S/1e3;ag(f.x,r.x,w),ag(f.y,r.y,w),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ja(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lN(this.relativeTarget,this.relativeTargetOrigin,h,w),y&&XO(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=ye()),ct(y,this.relativeTarget)),_&&(this.animationValues=u,zO(u,c,this.latestValues,w,g,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(r){var l,o,c;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(c=(o=this.resumingFrom)==null?void 0:o.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Pn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ue.update(()=>{ll.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=xi(0)),this.currentAnimation=UO(this.motionValue,[0,1e3],{...r,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),r.onUpdate&&r.onUpdate(u)},onStop:()=>{},onComplete:()=>{r.onComplete&&r.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const r=this.getStack();r&&r.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ZO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const r=this.getLead();let{targetWithTransforms:l,target:o,layout:c,latestValues:u}=r;if(!(!l||!o||!c)){if(this!==r&&this.layout&&c&&S_(this.options.animationType,this.layout.layoutBox,c.layoutBox)){o=this.target||ye();const f=qe(this.layout.layoutBox.x);o.x.min=r.target.x.min,o.x.max=o.x.min+f;const h=qe(this.layout.layoutBox.y);o.y.min=r.target.y.min,o.y.max=o.y.min+h}ct(l,o),ei(l,u),Ta(this.projectionDeltaWithTransform,this.layoutCorrected,l,u)}}registerSharedNode(r,l){this.sharedNodes.has(r)||this.sharedNodes.set(r,new KO),this.sharedNodes.get(r).add(l);const c=l.options.initialPromotionConfig;l.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(l):void 0})}isLead(){const r=this.getStack();return r?r.lead===this:!0}getLead(){var l;const{layoutId:r}=this.options;return r?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:r}=this.options;return r?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:r}=this.options;if(r)return this.root.sharedNodes.get(r)}promote({needsReset:r,transition:l,preserveFollowOpacity:o}={}){const c=this.getStack();c&&c.promote(this,o),r&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const r=this.getStack();return r?r.relegate(this):!1}resetSkewAndRotation(){const{visualElement:r}=this.options;if(!r)return;let l=!1;const{latestValues:o}=r;if((o.z||o.rotate||o.rotateX||o.rotateY||o.rotateZ||o.skewX||o.skewY)&&(l=!0),!l)return;const c={};o.z&&Cc("z",r,c,this.animationValues);for(let u=0;u<Ac.length;u++)Cc(`rotate${Ac[u]}`,r,c,this.animationValues),Cc(`skew${Ac[u]}`,r,c,this.animationValues);r.render();for(const u in c)r.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);r.scheduleRender()}applyProjectionStyles(r,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){r.visibility="hidden";return}const o=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,r.visibility="",r.opacity="",r.pointerEvents=rl(l==null?void 0:l.pointerEvents)||"",r.transform=o?o(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(r.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,r.pointerEvents=rl(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ns(this.latestValues)&&(r.transform=o?o({},""):"none",this.hasProjected=!1);return}r.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=QO(this.projectionDeltaWithTransform,this.treeScale,u);o&&(f=o(u,f)),r.transform=f;const{x:h,y:m}=this.projectionDelta;r.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,c.animationValues?r.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:r.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const v in Ka){if(u[v]===void 0)continue;const{correct:_,applyTo:x,isCSSVariable:p}=Ka[v],g=f==="none"?u[v]:_(u[v],c);if(x){const y=x.length;for(let S=0;S<y;S++)r[x[S]]=g}else p?this.options.visualElement.renderState.vars[v]=g:r[v]=g}this.options.layoutId&&(r.pointerEvents=c===this?rl(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(r=>{var l;return(l=r.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(ng),this.root.sharedNodes.clear()}}}function JO(e){e.updateLayout()}function IO(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:a}=e.options,r=t.source!==e.layout.source;a==="size"?ut(f=>{const h=r?t.measuredBox[f]:t.layoutBox[f],m=qe(h);h.min=s[f].min,h.max=h.min+m}):S_(a,t.layoutBox,s)&&ut(f=>{const h=r?t.measuredBox[f]:t.layoutBox[f],m=qe(s[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=ti();Ta(l,s,t.layoutBox);const o=ti();r?Ta(o,e.applyTransform(i,!0),t.measuredBox):Ta(o,s,t.layoutBox);const c=!y_(l);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const v=ye();ja(v,t.layoutBox,h.layoutBox);const _=ye();ja(_,s,m.layoutBox),v_(v,_)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=_,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:o,layoutDelta:l,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function WO(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function eN(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function tN(e){e.clearSnapshot()}function ng(e){e.clearMeasurements()}function sg(e){e.isLayoutDirty=!1}function nN(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ig(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function sN(e){e.resolveTargetDelta()}function iN(e){e.calcProjection()}function aN(e){e.resetSkewAndRotation()}function rN(e){e.removeLeadSnapshot()}function ag(e,t,n){e.translate=he(t.translate,0,n),e.scale=he(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function rg(e,t,n,s){e.min=he(t.min,n.min,s),e.max=he(t.max,n.max,s)}function lN(e,t,n,s){rg(e.x,t.x,n.x,s),rg(e.y,t.y,n.y,s)}function oN(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const cN={duration:.45,ease:[.4,0,.1,1]},lg=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),og=lg("applewebkit/")&&!lg("chrome/")?Math.round:vt;function cg(e){e.min=og(e.min),e.max=og(e.max)}function uN(e){cg(e.x),cg(e.y)}function S_(e,t,n){return e==="position"||e==="preserve-aspect"&&!gO(eg(t),eg(n),.2)}function fN(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const hN=__({attachResizeListener:(e,t)=>Za(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Oc={current:void 0},x_=__({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Oc.current){const e=new hN({});e.mount(window),e.setOptions({layoutScroll:!0}),Oc.current=e}return Oc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),dN={pan:{Feature:RO},drag:{Feature:NO,ProjectionNode:x_,MeasureLayout:m_}};function ug(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=s[i];a&&ue.postRender(()=>a(t,_r(t)))}class mN extends Gn{mount(){const{current:t}=this.node;t&&(this.unmount=LA(t,(n,s)=>(ug(this.node,s,"Start"),i=>ug(this.node,i,"End"))))}unmount(){}}class pN extends Gn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yr(Za(this.node.current,"focus",()=>this.onFocus()),Za(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function fg(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=s[i];a&&ue.postRender(()=>a(t,_r(t)))}class gN extends Gn{mount(){const{current:t}=this.node;t&&(this.unmount=zA(t,(n,s)=>(fg(this.node,s,"Start"),(i,{success:a})=>fg(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sf=new WeakMap,Nc=new WeakMap,yN=e=>{const t=sf.get(e.target);t&&t(e)},vN=e=>{e.forEach(yN)};function bN({root:e,...t}){const n=e||document;Nc.has(n)||Nc.set(n,{});const s=Nc.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(vN,{root:e,...t})),s[i]}function _N(e,t,n){const s=bN(t);return sf.set(e,n),s.observe(e),()=>{sf.delete(e),s.unobserve(e)}}const SN={some:0,all:1};class xN extends Gn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:a}=t,r={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:SN[i]},l=o=>{const{isIntersecting:c}=o;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(o)};return _N(this.node.current,r,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(wN(t,n))&&this.startObserver()}unmount(){}}function wN({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const TN={inView:{Feature:xN},tap:{Feature:gN},focus:{Feature:pN},hover:{Feature:mN}},jN={layout:{ProjectionNode:x_,MeasureLayout:m_}},EN={...uO,...TN,...dN,...jN},ss=jC(EN,PC);class AN{static parsePhase1Content(t,n){const s=Array.isArray(t)?t[0]:t;return{project_info:this.extractProjectMetadata(s,n),global_style:this.extractGlobalStyle(s),scenes:this.extractTimelineScenes(s),elements:this.extractTimelineElements(s),style_evolution:this.extractStyleProgression(s)}}static extractProjectMetadata(t,n){var i,a,r,l,o,c;return{title:((i=t.project_metadata)==null?void 0:i.title)||t.title||t.project_title||((a=t.extraction_metadata)==null?void 0:a.project_title)||n||"Untitled Project",client:((r=t.project_metadata)==null?void 0:r.client)||t.client||"Unknown Client",schema_version:((l=t.project_metadata)==null?void 0:l.schema_version)||"1.0",production_workflow:((o=t.project_metadata)==null?void 0:o.production_workflow)||"animatic_to_video",extraction_date:(c=t.project_metadata)==null?void 0:c.extraction_date}}static extractGlobalStyle(t){var n,s,i,a,r,l,o,c,u,f,h,m,v,_,x,p,g,y,S,w,E,b,j,C,O,L,z,re,G,F,N,D;return{color_palette:{primary:((s=(n=t.global_style)==null?void 0:n.color_palette)==null?void 0:s.primary)||"Deep blue backgrounds",secondary:((a=(i=t.global_style)==null?void 0:i.color_palette)==null?void 0:a.secondary)||"Warm amber lighting",accent:(l=(r=t.global_style)==null?void 0:r.color_palette)==null?void 0:l.accent,character_tones:((c=(o=t.global_style)==null?void 0:o.color_palette)==null?void 0:c.character_tones)||"Natural skin tones"},rendering_style:{level:((f=(u=t.global_style)==null?void 0:u.rendering_style)==null?void 0:f.level)||"cinematic realism",line_work:((m=(h=t.global_style)==null?void 0:h.rendering_style)==null?void 0:m.line_work)||"clean vector-style",shading:((_=(v=t.global_style)==null?void 0:v.rendering_style)==null?void 0:_.shading)||"minimal, flat color zones",detail_level:((p=(x=t.global_style)==null?void 0:x.rendering_style)==null?void 0:p.detail_level)||"photorealistic"},composition:{framing:((y=(g=t.global_style)==null?void 0:g.composition)==null?void 0:y.framing)||"cinematic storyboard frames",depth:((w=(S=t.global_style)==null?void 0:S.composition)==null?void 0:w.depth)||"clear foreground/background separation",camera_style:((b=(E=t.global_style)==null?void 0:E.composition)==null?void 0:b.camera_style)||"traditional film language",aspect_ratio:((C=(j=t.global_style)==null?void 0:j.composition)==null?void 0:C.aspect_ratio)||"16:9"},mood_style:{overall_mood:((L=(O=t.global_style)==null?void 0:O.mood_style)==null?void 0:L.overall_mood)||"educational, inspiring",lighting_description:((re=(z=t.global_style)==null?void 0:z.mood_style)==null?void 0:re.lighting_description)||"natural library lighting",atmosphere:((F=(G=t.global_style)==null?void 0:G.mood_style)==null?void 0:F.atmosphere)||"technological wonder",tone:((D=(N=t.global_style)==null?void 0:N.mood_style)==null?void 0:D.tone)||"professional, accessible"}}}static extractTimelineScenes(t){const n=t.scenes||{};return Object.entries(n).map(([s,i])=>{var a,r,l,o,c,u,f,h,m,v,_,x,p,g;return{scene_id:i.scene_id||parseInt(s.replace("scene_",""))||0,title:this.generateSceneTitle(i.action_summary,i.scene_id),duration:i.duration||"3 seconds",camera_type:i.camera_type||"medium shot",mood:i.mood||"neutral",natural_description:i.natural_description||"",dialogue:i.dialogue,action_summary:i.action_summary||"Scene action",elements_present:i.elements_present||[],element_interactions:i.element_interactions||[],primary_focus:i.primary_focus||"",lighting_approach:i.lighting_approach||"",composition_approach:i.composition_approach||"",expandable_content:{locations_text:this.extractLocationText(t.elements,i.elements_present),characters_text:this.extractCharacterText(t.elements,i.elements_present),props_text:this.extractPropsText(t.elements,i.elements_present),actions_text:this.generateActionsText(t.elements,i),interactions_text:this.generateInteractionsText(i.element_interactions),color_primary:((r=(a=t.global_style)==null?void 0:a.color_palette)==null?void 0:r.primary)||"Deep blue backgrounds",color_secondary:((o=(l=t.global_style)==null?void 0:l.color_palette)==null?void 0:o.secondary)||"Warm amber lighting",line_work:((u=(c=t.global_style)==null?void 0:c.rendering_style)==null?void 0:u.line_work)||"clean vector-style",shading:((h=(f=t.global_style)==null?void 0:f.rendering_style)==null?void 0:h.shading)||"minimal, flat color zones",framing:((v=(m=t.global_style)==null?void 0:m.composition)==null?void 0:v.framing)||"cinematic storyboard frames",depth:((x=(_=t.global_style)==null?void 0:_.composition)==null?void 0:x.depth)||"clear foreground/background separation",overall_mood:((g=(p=t.global_style)==null?void 0:p.mood_style)==null?void 0:g.overall_mood)||"educational, inspiring"}}}).sort((s,i)=>s.scene_id-i.scene_id)}static extractTimelineElements(t){const n=t.elements||{};return Object.entries(n).map(([s,i])=>{var a;return{id:s,name:this.formatElementName(s),type:this.mapElementType(i.element_type),subtype:i.element_subtype||"secondary",frequency:i.frequency||0,scenes_present:i.scenes_present||[],base_description:i.base_description||"",consistency_rules:i.consistency_rules||[],consistency_score:this.calculateConsistencyScore(i.frequency,(a=i.consistency_rules)==null?void 0:a.length),icon:this.getElementIcon(i.element_type,s),color:this.getElementColor(i.element_type)}})}static extractStyleProgression(t){const n=t.scenes||{},s=Object.entries(n).sort(([,i],[,a])=>i.scene_id-a.scene_id);return{color_evolution:s.map(([,i])=>{var a,r,l,o;return{scene_id:i.scene_id,primary:((r=(a=t.global_style)==null?void 0:a.color_palette)==null?void 0:r.primary)||"Deep blue",secondary:((o=(l=t.global_style)==null?void 0:l.color_palette)==null?void 0:o.secondary)||"Warm amber"}}),mood_evolution:s.map(([,i])=>({scene_id:i.scene_id,mood:i.mood||"neutral",lighting:i.lighting_approach||"natural"})),camera_progression:s.map(([,i])=>({scene_id:i.scene_id,camera_type:i.camera_type||"medium shot",composition:i.composition_approach||"standard framing"}))}}static generateSceneTitle(t,n){return t?t.split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1).toLowerCase()).join(" "):`Scene ${n}`}static extractLocationText(t,n){return n.filter(i=>{var a;return((a=t[i])==null?void 0:a.element_type)==="location"}).map(i=>{var r;const a=t[i];return`${a.base_description}
Consistency Rules: ${(r=a.consistency_rules)==null?void 0:r.join("; ")}`}).join(`

`)}static extractCharacterText(t,n){return n.filter(i=>{var a;return((a=t[i])==null?void 0:a.element_type)==="character"}).map(i=>{var r;const a=t[i];return`${a.base_description}
Consistency Rules: ${(r=a.consistency_rules)==null?void 0:r.join("; ")}`}).join(`

`)}static extractPropsText(t,n){return n.filter(i=>{var a;return((a=t[i])==null?void 0:a.element_type)==="prop"}).map(i=>{var r;const a=t[i];return`${a.base_description}
Consistency Rules: ${(r=a.consistency_rules)==null?void 0:r.join("; ")}`}).join(`

`)}static generateActionsText(t,n){var s;return((s=n.elements_present)==null?void 0:s.map(i=>{var l;const a=t[i],r=(l=a==null?void 0:a.variants_by_scene)==null?void 0:l[`scene_${n.scene_id}`];return r?`${i}: ${r.action} at ${r.position}`:`${i}: positioned in scene`}).join(`

`))||""}static generateInteractionsText(t){return t.map(n=>n.description).join(`
`)||""}static formatElementName(t){return t.split("_").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}static mapElementType(t){switch(t){case"character":return"character";case"location":return"location";case"prop":return"prop";case"atmosphere":return"atmosphere";default:return"prop"}}static calculateConsistencyScore(t,n){return t>=8&&n>=3?"excellent":t>=4&&n>=2?"good":"review"}static getElementIcon(t,n){if(n.includes("samantha")||n.includes("character"))return"";if(n.includes("children")||n.includes("group"))return"";if(n.includes("library")||n.includes("entrance"))return"";if(n.includes("hologram")||n.includes("display"))return"";if(n.includes("backpack")||n.includes("book"))return"";if(n.includes("lighting")||n.includes("atmosphere"))return"";switch(t){case"character":return"";case"location":return"";case"prop":return"";case"atmosphere":return"";default:return""}}static getElementColor(t){switch(t){case"character":return"#3b82f6";case"location":return"#10b981";case"prop":return"#f59e0b";case"atmosphere":return"#8b5cf6";default:return"#6b7280"}}}class kn{static updateField(t,n,s){const i={...t},a=n.split(".");let r=i;for(let o=0;o<a.length-1;o++){const c=a[o];r[c]?r[c]={...r[c]}:r[c]={},r=r[c]}const l=a[a.length-1];return r[l]=s,i}static getField(t,n){const s=n.split(".");let i=t;for(const a of s){if(!i||typeof i!="object")return;i=i[a]}return i}static validateField(t,n){return n.includes("title")&&typeof t=="string"?t.trim().length>0:n.includes("duration")||n.includes("camera_type")||n.includes("mood")?!0:t!=null}static createEditHandler(t,n){return(s,i)=>{try{if(!kn.validateField(i,n))return console.warn(`Invalid value for field ${n}:`,i),!1;const r=(kn.getField(s,n)||"").toString().trim(),l=(i||"").toString().trim();if(r===l)return!0;const o=kn.updateField(s,n,i);return t(o),!0}catch(a){return console.error(`Error editing field ${n}:`,a),!1}}}}const Yh=(e,t,n)=>{const s=kn.getField(e,t)||"",i=kn.createEditHandler(n,t);return{currentValue:s,updateValue:a=>i(e,a.trim())}},CN=(e,t,n,s)=>{const i=kn.getField(e,t)||n[0],a=kn.createEditHandler(s,t);return{currentValue:i,validOptions:n,updateValue:r=>n.includes(r)?a(e,r):!1}},hg="/assets/16-9placeholder-CY_xecX8.png";function ON({scene:e,elements:t,onSelect:n,isSelected:s,onElementHover:i,hoveredElement:a,masterJson:r,onSceneEdit:l}){var E;const[o,c]=T.useState({description:!1,elements:!1,primaryFocus:!1,composition:!1}),[u,f]=T.useState(null),[h,m]=T.useState({}),v=t.filter(b=>{var j;return(j=e.elements_present)==null?void 0:j.includes(b.id)}),_=(b,j,C)=>!r||!l?null:j==="select"&&C?CN(r,b,C,l):Yh(r,b,l),x={title:`scenes.scene_${e.scene_id}.title`,camera_type:`scenes.scene_${e.scene_id}.camera_type`,mood:`scenes.scene_${e.scene_id}.mood`,dialogue:`scenes.scene_${e.scene_id}.dialogue`,natural_description:`scenes.scene_${e.scene_id}.natural_description`,primary_focus:`scenes.scene_${e.scene_id}.primary_focus`,composition_approach:`scenes.scene_${e.scene_id}.composition_approach`},p=(b,j,C,O="text",L)=>{const z=u===C,re=x[C],G=_(re,O==="select"?"select":"text",L);return!G||!r||!l?d.jsxs("div",{className:"scene-field-row",children:[d.jsxs("strong",{className:"scene-field-label",children:[j,":"]}),d.jsx("div",{className:"scene-field-value-area",children:b||`No ${j.toLowerCase()}`})]}):d.jsxs("div",{className:"scene-field-row",children:[d.jsxs("strong",{className:"scene-field-label",children:[j,":"]}),d.jsx("div",{className:"scene-field-value-area",children:z?d.jsx("div",{className:"scene-field-edit-container",children:O==="textarea"?d.jsx("textarea",{value:h[C]??G.currentValue,onChange:F=>{const N=F.target.value;m(D=>({...D,[C]:N}))},onBlur:()=>{const F=h[C]??G.currentValue;G.updateValue(F),f(null)},onKeyDown:F=>{F.key==="Escape"&&(m(N=>{const{[C]:D,...M}=N;return M}),f(null))},className:"scene-field-textarea",autoFocus:!0,rows:3}):d.jsx("input",{type:"text",value:h[C]??G.currentValue,onChange:F=>{const N=F.target.value;m(D=>({...D,[C]:N}))},onBlur:()=>{const F=h[C]??G.currentValue;G.updateValue(F),f(null)},onKeyDown:F=>{if(F.key==="Enter"){const N=h[C]??G.currentValue;G.updateValue(N),f(null)}F.key==="Escape"&&(m(N=>{const{[C]:D,...M}=N;return M}),f(null))},className:"scene-field-input",autoFocus:!0})}):d.jsx("div",{className:"scene-field-value-display editable-field",onClick:F=>{F.stopPropagation(),f(C),m(N=>({...N,[C]:G.currentValue}))},title:`Click to edit ${j.toLowerCase()}`,children:b||`No ${j.toLowerCase()}`})})]})},g=(b,j)=>{const C=u==="title",O=x.title,L=_(O,"text");return!L||!r||!l?d.jsxs("div",{className:"scene-title-with-number",children:[d.jsxs("span",{className:"scene-number-part",children:["Scene ",j,":"]}),d.jsx("span",{className:"scene-title-part",children:b||"Untitled"})]}):d.jsxs("div",{className:"scene-title-with-number",children:[d.jsxs("span",{className:"scene-number-part",children:["Scene ",j,":"]}),C?d.jsx("input",{type:"text",value:h.title??b??"Untitled",onChange:z=>{const re=z.target.value;m(G=>({...G,title:re}))},onBlur:()=>{const z=h.title??b;z!==b&&L.updateValue(z),f(null),m(re=>{const{title:G,...F}=re;return F})},onKeyDown:z=>{if(z.key==="Enter"){const re=h.title??b;re!==b&&L.updateValue(re),f(null),m(G=>{const{title:F,...N}=G;return N})}z.key==="Escape"&&(m(re=>{const{title:G,...F}=re;return F}),f(null))},className:"scene-title-input",autoFocus:!0}):d.jsx("span",{className:"scene-title-part editable-field",onClick:z=>{z.stopPropagation(),f("title"),m(re=>({...re,title:b||"Untitled"}))},title:"Click to edit title",children:b||"Untitled"})]})},y=v.reduce((b,j)=>(b[j.type]||(b[j.type]=[]),b[j.type].push(j),b),{}),S={default:{scale:1,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",transition:{duration:.2}},hover:{scale:1.02,boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",transition:{duration:.2}},selected:{scale:1.02,boxShadow:"0 0 0 2px #3b82f6, 0 10px 15px -3px rgba(0, 0, 0, 0.1)",transition:{duration:.2}}},w={collapsed:{height:0,opacity:0},expanded:{height:"auto",opacity:1}};return d.jsxs(ss.div,{variants:S,initial:"default",whileHover:"hover",animate:s?"selected":"default",className:"timeline-scene-card rounded-lg border overflow-hidden cursor-pointer",onClick:n,children:[d.jsxs("div",{className:"scene-top-row",children:[d.jsx("div",{className:"scene-title-container",children:g(r&&((E=_(x.title,"text"))==null?void 0:E.currentValue)||e.title||"",e.scene_id)}),d.jsx("span",{className:"scene-duration",children:e.duration})]}),d.jsxs("div",{className:"scene-card-three-columns",children:[d.jsxs("div",{className:"scene-column scene-column-config",children:[d.jsx("div",{className:"scene-column-header",children:d.jsx("h4",{className:"scene-column-title",children:"Configuration"})}),p(e.camera_type||"","Camera","camera_type"),p(e.mood||"","Mood","mood"),p(e.dialogue||"","Speech","dialogue"),d.jsxs("div",{className:"scene-expandable-sections",children:[d.jsxs("div",{children:[d.jsxs("button",{onClick:b=>{b.stopPropagation(),c(j=>({...j,description:!j.description}))},className:`scene-expand-button ${o.description?"expanded":""}`,children:[d.jsx("span",{children:" Description"}),d.jsx("span",{children:o.description?"":""})]}),d.jsx($r,{children:o.description&&d.jsx(ss.div,{variants:w,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"scene-expand-content",children:d.jsx("div",{className:"scene-expand-inner",children:p(e.natural_description||"","Description","natural_description","textarea")})})})]}),d.jsxs("div",{children:[d.jsxs("button",{onClick:b=>{b.stopPropagation(),c(j=>({...j,primaryFocus:!j.primaryFocus}))},className:`scene-expand-button ${o.primaryFocus?"expanded":""}`,children:[d.jsx("span",{children:" Primary Focus"}),d.jsx("span",{children:o.primaryFocus?"":""})]}),d.jsx($r,{children:o.primaryFocus&&d.jsx(ss.div,{variants:w,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"scene-expand-content",children:d.jsx("div",{className:"scene-expand-inner",children:p(e.primary_focus||"","Primary Focus","primary_focus","textarea")})})})]}),d.jsxs("div",{children:[d.jsxs("button",{onClick:b=>{b.stopPropagation(),c(j=>({...j,composition:!j.composition}))},className:`scene-expand-button ${o.composition?"expanded":""}`,children:[d.jsx("span",{children:" Composition"}),d.jsx("span",{children:o.composition?"":""})]}),d.jsx($r,{children:o.composition&&d.jsx(ss.div,{variants:w,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"scene-expand-content",children:d.jsx("div",{className:"scene-expand-inner",children:p(e.composition_approach||"","Composition","composition_approach","textarea")})})})]}),d.jsxs("div",{children:[d.jsxs("button",{onClick:b=>{b.stopPropagation(),c(j=>({...j,elements:!j.elements}))},className:`scene-expand-button ${o.elements?"expanded":""}`,children:[d.jsxs("span",{children:[" Elements (",v.length,")"]}),d.jsx("span",{children:o.elements?"":""})]}),d.jsx($r,{children:o.elements&&d.jsx(ss.div,{variants:w,initial:"collapsed",animate:"expanded",exit:"collapsed",className:"scene-expand-content",children:d.jsx("div",{className:"scene-expand-inner",children:d.jsx("div",{className:"scene-elements-list",children:Object.entries(y).map(([b,j])=>d.jsxs("div",{className:"scene-element-group",children:[d.jsxs("span",{className:"scene-element-type",children:[b,":"]}),d.jsx("div",{className:"scene-element-tags",children:j.map(C=>d.jsx(ss.div,{whileHover:{scale:1.05},onMouseEnter:()=>i(C.id),onMouseLeave:()=>i(null),className:"scene-element-tag",style:{backgroundColor:a===C.id?C.color:`${C.color}20`,color:a===C.id?"white":C.color,borderColor:C.color},children:C.name},C.id))})]},b))})})})})]})]})]}),d.jsxs("div",{className:"scene-column scene-column-image",children:[d.jsx("div",{className:"scene-column-header",children:d.jsx("h4",{className:"scene-column-title",children:"Image Generation"})}),d.jsx("div",{className:"scene-media-placeholder",children:d.jsx("img",{src:hg,alt:"Scene placeholder",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"var(--radius-sm)"}})}),d.jsx("textarea",{className:"scene-prompt-textarea",placeholder:"Generated image prompt will appear here...",rows:4,readOnly:!0}),d.jsxs("div",{className:"scene-generate-buttons",children:[d.jsx("button",{className:"scene-generate-btn",disabled:!0,children:"Prompt"}),d.jsx("button",{className:"scene-generate-btn",disabled:!0,children:"Image"})]})]}),d.jsxs("div",{className:"scene-column scene-column-video",children:[d.jsx("div",{className:"scene-column-header",children:d.jsx("h4",{className:"scene-column-title",children:"Video Generation"})}),d.jsx("div",{className:"scene-media-placeholder",children:d.jsx("img",{src:hg,alt:"Video placeholder",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"var(--radius-sm)"}})}),d.jsx("textarea",{className:"scene-prompt-textarea",placeholder:"Video generation prompt will appear here...",rows:4,readOnly:!0}),d.jsxs("div",{className:"scene-generate-buttons",children:[d.jsx("button",{className:"scene-generate-btn",disabled:!0,children:"Prompt"}),d.jsx("button",{className:"scene-generate-btn",disabled:!0,children:"Video"})]})]})]})]})}function NN({content:e,projectId:t,projectName:n,phaseId:s,onContentUpdate:i}){var E;const[a,r]=T.useState(null),[l,o]=T.useState(null),[c,u]=T.useState(!1),[f,h]=T.useState(""),m=T.useMemo(()=>{if(!e||Object.keys(e).length===0)return{project_info:{title:"Loading...",client:"",schema_version:"1.0",production_workflow:""},global_style:{},scenes:[],elements:[],style_evolution:{color_evolution:[],mood_evolution:[],camera_progression:[]}};try{return AN.parsePhase1Content(e,n)}catch(b){return console.error("Error parsing timeline content:",b),{project_info:{title:"Parsing Error",client:"",schema_version:"1.0",production_workflow:""},global_style:{},scenes:[],elements:[],style_evolution:{color_evolution:[],mood_evolution:[],camera_progression:[]}}}},[e,n]),v=T.useMemo(()=>i?Yh(e,"project_metadata.title",i):null,[e,i]),_=()=>{if(!(v!=null&&v.currentValue)){console.error("Cannot edit title - title editor not available");return}h(v.currentValue),u(!0)},x=async()=>{if(!v||!f.trim()){u(!1);return}try{v.updateValue(f)&&u(!1)}catch(b){console.error("Error saving title:",b)}},p=()=>{h(""),u(!1)},g=T.useMemo(()=>{const b=m.scenes.reduce((L,z)=>{const re=z.duration||"3s",G=parseInt(re.replace(/[^\d]/g,""))||3;return L+G},0),j=Math.floor(b/60),C=b%60;return{totalDuration:j>0?`${j}m ${C}s`:`${b}s`,scenesCount:m.scenes.length,elementsCount:m.elements.length}},[m]),y=T.useMemo(()=>m.elements.map(C=>({...C,usage_percentage:Math.round(C.frequency/m.scenes.length*100)})).reduce((C,O)=>(C[O.type]||(C[O.type]=[]),C[O.type].push(O),C),{}),[m]),S=b=>{r(a===b?null:b)},w=b=>{o(b)};return m.scenes.length?d.jsxs("div",{className:"timeline-container",children:[d.jsx("div",{className:"timeline-header",children:d.jsxs("div",{className:"project-title-section",children:[c?d.jsxs("div",{className:"title-edit-container",children:[d.jsx("input",{type:"text",value:f,onChange:b=>h(b.target.value),onKeyDown:b=>{b.key==="Enter"&&x(),b.key==="Escape"&&p()},className:"title-edit-input",autoFocus:!0,onBlur:x}),d.jsxs("div",{className:"title-edit-buttons",children:[d.jsx("button",{onClick:x,className:"title-save-btn",children:""}),d.jsx("button",{onClick:p,className:"title-cancel-btn",children:""})]})]}):d.jsx("h1",{className:"project-title-display editable-title",onClick:_,title:"Click to edit project title",children:((E=m==null?void 0:m.project_info)==null?void 0:E.title)||"Untitled Project"}),d.jsxs("div",{className:"project-stats",children:[d.jsxs("span",{children:[d.jsx("strong",{children:g.scenesCount})," scenes"]}),d.jsx("span",{children:""}),d.jsxs("span",{children:[d.jsx("strong",{children:g.elementsCount})," elements"]}),d.jsx("span",{children:""}),d.jsxs("span",{children:[d.jsx("strong",{children:g.totalDuration})," total"]}),d.jsx("span",{children:""}),d.jsx("span",{children:d.jsx("strong",{children:m.project_info.client})})]})]})}),d.jsxs("div",{className:"elements-overview",children:[d.jsxs("div",{className:"elements-overview-header",children:[d.jsx("h3",{children:"Story Elements"}),d.jsxs("span",{className:"elements-count",children:[m.elements.length," total"]})]}),d.jsx("div",{className:"elements-horizontal",children:Object.entries(y).map(([b,j])=>d.jsxs("div",{className:"scene-element-group",children:[d.jsxs("span",{className:"scene-element-type",children:[b,"s:"]}),d.jsx("div",{className:"scene-element-tags",children:j.map(C=>d.jsxs(ss.div,{whileHover:{scale:1.05},onMouseEnter:()=>w(C.id),onMouseLeave:()=>w(null),className:"scene-element-tag",style:{backgroundColor:l===C.id?C.color:`${C.color}20`,color:l===C.id?"white":C.color,borderColor:C.color},children:[C.name," (",C.usage_percentage,"%)"]},C.id))})]},b))})]}),d.jsx("div",{className:"timeline-scenes",children:d.jsx("div",{className:"timeline-scenes-responsive-grid",children:m.scenes.map(b=>d.jsx(ON,{scene:b,elements:m.elements,isSelected:a===b.scene_id,hoveredElement:l,onSelect:()=>S(b.scene_id),onElementHover:w,masterJson:e,onSceneEdit:i},b.scene_id))})})]}):d.jsx("div",{className:"timeline-container",children:d.jsxs("div",{className:"timeline-header",children:[d.jsx("h2",{children:"Timeline View"}),d.jsx("p",{children:"No scenes available. Complete Phase 1 to see timeline."})]})})}function RN({masterJson:e,onContentUpdate:t}){const[n,s]=T.useState(null),[i,a]=T.useState({}),r={primary:"global_style.color_palette.primary",secondary:"global_style.color_palette.secondary",accent:"global_style.color_palette.accent",character_tones:"global_style.color_palette.character_tones",level:"global_style.rendering_style.level",line_work:"global_style.rendering_style.line_work",shading:"global_style.rendering_style.shading",detail_level:"global_style.rendering_style.detail_level",framing:"global_style.composition.framing",depth:"global_style.composition.depth",camera_style:"global_style.composition.camera_style",aspect_ratio:"global_style.composition.aspect_ratio",overall_mood:"global_style.mood_style.overall_mood",lighting_description:"global_style.mood_style.lighting_description",atmosphere:"global_style.mood_style.atmosphere",tone:"global_style.mood_style.tone"},l=u=>!e||!t?null:Yh(e,u,t),o=(u,f,h)=>{const m=n===h,v=r[h],_=l(v);return!_||!e||!t?d.jsxs("div",{className:"style-field-container",children:[d.jsxs("strong",{className:"style-field-label",children:[f,":"]}),d.jsx("div",{className:"style-field-value",children:u||`No ${f.toLowerCase()}`})]}):d.jsxs("div",{className:"scene-field-row",children:[d.jsxs("strong",{className:"scene-field-label",children:[f,":"]}),d.jsx("div",{className:"scene-field-value-area",children:m?d.jsx("div",{className:"scene-field-edit-container",children:d.jsx("input",{type:"text",value:i[h]??_.currentValue,onChange:x=>{const p=x.target.value;a(g=>({...g,[h]:p}))},onBlur:()=>{const x=i[h]??_.currentValue;_.updateValue(x),s(null)},onKeyDown:x=>{if(x.key==="Enter"){const p=i[h]??_.currentValue;_.updateValue(p),s(null)}x.key==="Escape"&&(a(p=>{const{[h]:g,...y}=p;return y}),s(null))},className:"scene-field-input",autoFocus:!0})}):d.jsx("div",{className:"scene-field-value-display editable-field",onClick:()=>s(h),children:u||"Click to edit"})})]})},c=u=>{const h=r[u].split(".");let m=e;for(const v of h){if(!m||typeof m!="object")return"";m=m[v]}return m||""};return d.jsx("div",{className:"style-control-container",children:d.jsxs("div",{className:"style-cards-container",children:[d.jsx("div",{className:"timeline-scene-card",children:d.jsxs("div",{className:"scene-card-content",children:[d.jsx("div",{className:"scene-card-header",children:d.jsx("h3",{className:"style-card-title",children:"Color Palette"})}),d.jsxs("div",{className:"style-grid-2x2",children:[o(c("primary"),"Primary","primary"),o(c("secondary"),"Secondary","secondary"),o(c("accent"),"Accent","accent"),o(c("character_tones"),"Character Tones","character_tones")]})]})}),d.jsx("div",{className:"timeline-scene-card",children:d.jsxs("div",{className:"scene-card-content",children:[d.jsx("div",{className:"scene-card-header",children:d.jsx("h3",{className:"style-card-title",children:"Rendering Style"})}),d.jsxs("div",{className:"style-grid-2x2",children:[o(c("level"),"Level","level"),o(c("line_work"),"Line Work","line_work"),o(c("shading"),"Shading","shading"),o(c("detail_level"),"Detail Level","detail_level")]})]})}),d.jsx("div",{className:"timeline-scene-card",children:d.jsxs("div",{className:"scene-card-content",children:[d.jsx("div",{className:"scene-card-header",children:d.jsx("h3",{className:"style-card-title",children:"Composition"})}),d.jsxs("div",{className:"style-grid-2x2",children:[o(c("framing"),"Framing","framing"),o(c("depth"),"Depth","depth"),o(c("camera_style"),"Camera Style","camera_style"),o(c("aspect_ratio"),"Aspect Ratio","aspect_ratio")]})]})}),d.jsx("div",{className:"timeline-scene-card",children:d.jsxs("div",{className:"scene-card-content",children:[d.jsx("div",{className:"scene-card-header",children:d.jsx("h3",{className:"style-card-title",children:"Mood Style"})}),d.jsxs("div",{className:"style-grid-2x2",children:[o(c("overall_mood"),"Overall Mood","overall_mood"),o(c("lighting_description"),"Lighting","lighting_description"),o(c("atmosphere"),"Atmosphere","atmosphere"),o(c("tone"),"Tone","tone")]})]})})]})})}function Fi({title:e,children:t,defaultOpen:n=!1,icon:s=""}){const i=`accordion-${e.replace(/\s+/g,"-").toLowerCase()}`,[a,r]=T.useState(()=>{const o=localStorage.getItem(i);return o!==null?JSON.parse(o):n}),l=()=>{const o=!a;r(o),localStorage.setItem(i,JSON.stringify(o))};return d.jsxs("div",{className:"accordion-section",children:[d.jsxs("button",{className:`accordion-header ${a?"open":""}`,onClick:l,children:[d.jsxs("div",{className:"accordion-title",children:[d.jsx("span",{className:"accordion-icon",children:s}),d.jsx("span",{className:"accordion-label",children:e})]}),d.jsx("span",{className:"accordion-arrow",children:a?"":""})]}),a&&d.jsx("div",{className:"accordion-content",children:d.jsx("div",{className:"accordion-inner",children:t})})]})}function DN(){var x,p,g,y,S;const[e,t]=T.useState({}),[n,s]=T.useState(""),[i,a]=T.useState(!1),[r,l]=T.useState(!1),[o,c]=T.useState(!0),[u,f]=T.useState("");T.useEffect(()=>{h()},[]);const h=async()=>{c(!0),f("");try{const w=await $j();t(w),s(JSON.stringify(w,null,2)),a(!1)}catch(w){f("Failed to load configuration"),console.error("Load error:",w)}c(!1)},m=async()=>{l(!0),f("");try{const w=JSON.parse(n);await Gj(w)?(t(w),a(!1),window.dispatchEvent(new CustomEvent("llm-config-updated",{detail:w})),await h(),console.log(" Configuration saved and reloaded successfully")):f("Failed to save configuration")}catch(w){f("Invalid JSON format"),console.error("Save error:",w)}l(!1)},v=w=>{s(w),a(!0),f("")},_=(w,E)=>{try{const b=JSON.parse(E),j={...e,[w]:b};t(j),s(JSON.stringify(j,null,2)),a(!0),f("")}catch{f(`Invalid JSON in ${w} section`)}};return o?d.jsx("div",{className:"config-tab",children:d.jsx("div",{className:"config-loading",children:"Loading configuration..."})}):d.jsxs("div",{className:"config-tab",children:[d.jsxs("div",{className:"config-header",children:[d.jsxs("div",{children:[d.jsx("h2",{children:" LLM Configuration"}),d.jsx("p",{className:"config-subtitle",children:"Manage AI providers, prompts, and generation settings"})]}),d.jsxs("div",{className:"config-actions",children:[d.jsx("button",{onClick:h,disabled:r,className:"btn btn-secondary",children:" Reload"}),d.jsx("button",{onClick:m,disabled:!i||r,className:`btn ${i?"btn-primary":"btn-secondary"}`,children:r?" Saving...":i?" Save Config":" Saved"})]})]}),u&&d.jsxs("div",{className:"config-error",children:[" ",u]}),d.jsxs("div",{className:"config-accordion",children:[d.jsx(Fi,{title:"Scene Frame Prompt Generation",icon:"",defaultOpen:!0,children:d.jsxs("div",{className:"config-section",children:[d.jsx("p",{children:"System and user prompts for scene start frame generation"}),d.jsxs("div",{className:"prompt-subsection",children:[d.jsx("h4",{className:"prompt-subsection-title",children:" System Prompt"}),d.jsx("p",{className:"prompt-subsection-desc",children:"Instructions for the AI model about how to generate scene prompts"}),d.jsx("textarea",{value:((x=e==null?void 0:e.start_frame_prompt_generation)==null?void 0:x.system_prompt)||"",onChange:w=>{const E={...e,start_frame_prompt_generation:{...e==null?void 0:e.start_frame_prompt_generation,system_prompt:w.target.value}};t(E),s(JSON.stringify(E,null,2)),a(!0),f("")},className:"section-textarea prompt-textarea",rows:8,placeholder:"Enter system prompt instructions..."}),d.jsx("div",{className:"prompt-preview",children:d.jsxs("details",{children:[d.jsx("summary",{className:"prompt-preview-toggle",children:" Preview stored format"}),d.jsx("pre",{className:"prompt-preview-content",children:((p=e==null?void 0:e.start_frame_prompt_generation)==null?void 0:p.system_prompt)||"No content"})]})})]}),d.jsxs("div",{className:"prompt-subsection",children:[d.jsx("h4",{className:"prompt-subsection-title",children:" User Prompt"}),d.jsx("p",{className:"prompt-subsection-desc",children:"Template for user input to generate scene descriptions"}),d.jsx("textarea",{value:((g=e==null?void 0:e.start_frame_prompt_generation)==null?void 0:g.user_prompt)||"",onChange:w=>{const E={...e,start_frame_prompt_generation:{...e==null?void 0:e.start_frame_prompt_generation,user_prompt:w.target.value}};t(E),s(JSON.stringify(E,null,2)),a(!0),f("")},className:"section-textarea prompt-textarea",rows:6,placeholder:"Enter user prompt template..."}),d.jsx("div",{className:"prompt-preview",children:d.jsxs("details",{children:[d.jsx("summary",{className:"prompt-preview-toggle",children:" Preview stored format"}),d.jsx("pre",{className:"prompt-preview-content",children:((y=e==null?void 0:e.start_frame_prompt_generation)==null?void 0:y.user_prompt)||"No content"})]})})]})]})}),d.jsx(Fi,{title:"LLM Providers",icon:"",defaultOpen:!1,children:d.jsxs("div",{className:"config-section",children:[d.jsx("p",{children:"Model configurations for different AI providers"}),d.jsx("textarea",{value:JSON.stringify((e==null?void 0:e.llm_providers)||{},null,2),onChange:w=>_("llm_providers",w.target.value),className:"section-textarea",rows:8})]})}),d.jsx(Fi,{title:"Image Generation",icon:"",defaultOpen:!1,children:d.jsxs("div",{className:"config-section",children:[d.jsx("p",{children:"Image generation API settings and parameters"}),d.jsx("textarea",{value:JSON.stringify((e==null?void 0:e.image_generation)||{},null,2),onChange:w=>_("image_generation",w.target.value),className:"section-textarea",rows:8})]})}),d.jsx(Fi,{title:"Video Generation",icon:"",defaultOpen:!1,children:d.jsxs("div",{className:"config-section",children:[d.jsx("p",{children:"Video generation API settings and parameters"}),d.jsx("textarea",{value:JSON.stringify((e==null?void 0:e.video_generation)||{},null,2),onChange:w=>_("video_generation",w.target.value),className:"section-textarea",rows:8})]})}),d.jsx(Fi,{title:"Raw JSON",icon:"",defaultOpen:!1,children:d.jsxs("div",{className:"config-section",children:[d.jsx("p",{children:"Complete configuration JSON (advanced editing)"}),d.jsx("textarea",{value:n,onChange:w=>v(w.target.value),className:"section-textarea",rows:20})]})})]}),d.jsxs("div",{className:"config-status",children:[d.jsxs("span",{children:["Status: ",i?" Unsaved changes":" Saved"]}),d.jsxs("span",{children:["Version: ",((S=e==null?void 0:e.configuration_metadata)==null?void 0:S.version)||"Unknown"]})]})]})}const Yl=class Yl{static saveBackup(t,n,s){try{const i={masterJSON:n,timestamp:new Date().toISOString(),projectId:t,version:s},a=this.BACKUP_PREFIX+t;localStorage.setItem(a,JSON.stringify(i)),console.log(" Backup saved for project:",t)}catch(i){console.warn("Failed to save backup to localStorage:",i)}}static checkForRestoration(t,n){try{const s=this.BACKUP_PREFIX+t,i=localStorage.getItem(s);if(!i)return null;const a=JSON.parse(i);if(a.projectId===t&&a.masterJSON){const r=new Date(a.timestamp).getTime();if(Date.now()-r<this.BACKUP_EXPIRY_DAYS*24*60*60*1e3)return console.log(" Found potential backup for restoration:",{backupVersion:a.version,currentVersion:n,timestamp:a.timestamp}),a}return null}catch(s){return console.warn("Failed to check backup from localStorage:",s),null}}static clearBackup(t){try{const n=this.BACKUP_PREFIX+t;localStorage.removeItem(n),console.log(" Backup cleared for project:",t)}catch(n){console.warn("Failed to clear backup from localStorage:",n)}}static cleanupOldBackups(){try{const t=[],n=Date.now()-this.BACKUP_EXPIRY_DAYS*24*60*60*1e3;for(let s=0;s<localStorage.length;s++){const i=localStorage.key(s);if(i!=null&&i.startsWith(this.BACKUP_PREFIX)){const a=localStorage.getItem(i);if(a){const r=JSON.parse(a);new Date(r.timestamp).getTime()<n&&t.push(i)}}}t.forEach(s=>localStorage.removeItem(s)),t.length>0&&console.log(` Cleaned up ${t.length} old backups`)}catch(t){console.warn("Failed to cleanup old backups:",t)}}};Yl.BACKUP_PREFIX="flow-studio-backup-",Yl.BACKUP_EXPIRY_DAYS=7;let pn=Yl;function MN({user:e}){var Fh;const{id:t}=nT(),n=fo(),[s,i]=T.useState(null),[a,r]=T.useState([]),[l,o]=T.useState(null),[c,u]=T.useState("timeline"),[f,h]=T.useState(!0),[m,v]=T.useState({}),[_,x]=T.useState(!1),[p,g]=T.useState([]),[y,S]=T.useState(!1),[w,E]=T.useState(!0),[b,j]=T.useState(""),[C,O]=T.useState(!1),[L,z]=T.useState(!1),[re,G]=T.useState(""),[F,N]=T.useState(!1),[D,M]=T.useState(null),[Z,te]=T.useState({loaded:!1,version:0});T.useEffect(()=>{if(!t){n("/dashboard");return}pn.cleanupOldBackups(),Kn()},[t,n]);const Yn=T.useCallback(async()=>{if(t){te({loaded:!1,version:0});try{const R=await Pj(t);if(R){v(R),j(JSON.stringify(R,null,2));const X=await Fm(t);X&&te({loaded:!0,version:X.current_version,lastSaved:X.updated_at}),O(!1);const ot=pn.checkForRestoration(t,X.current_version);ot&&(M(ot),N(!0))}else te({loaded:!1,version:0,error:"Master JSON not found"})}catch(R){console.error("Error loading master JSON:",R),te({loaded:!1,version:0,error:"Failed to load master JSON"})}}},[t]),Xn=T.useCallback(async()=>{if(!t)return;S(!0);const R=await zj(t);g(R),S(!1)},[t]),Vi=T.useCallback(async R=>{if(!t)return;const X=await Hj(t,R);X&&X.master_json&&(v(X.master_json),j(JSON.stringify(X.master_json,null,2)),O(!0),x(!1))},[t]),lt=T.useCallback(async()=>{if(!t||!b.trim()){G("No content to save");return}z(!0),G("");try{const R=JSON.parse(b);if(await Bj(t,R,"Master JSON updated")){v(R),O(!1),pn.clearBackup(t);const ot=a.find(Bi=>Bi.phase_name===l),To=R.scenes&&typeof R.scenes=="object"&&R.scenes!==null&&Object.keys(R.scenes).length>0;await Yn();const jo=await Jm(t);r(jo);const Eo=jo.find(Bi=>Bi.phase_index===2),Ao=jo.find(Bi=>Bi.phase_index===3);To&&(!(Eo!=null&&Eo.can_proceed)||!(Ao!=null&&Ao.can_proceed))&&(console.warn("Phase unlock validation failed - phases not unlocked as expected"),G("Phases should have unlocked but didn't. Please refresh the page."))}else G("Failed to save master JSON to database")}catch(R){console.error("Error saving master JSON:",R),R instanceof SyntaxError?G("Invalid JSON format. Please check your syntax."):R.message.includes("database")||R.message.includes("supabase")?G("Database connection failed. Please check your internet connection and try again."):R.message.includes("project not found")?G("Project not found. Please refresh the page and try again."):R.message.includes("reload data")?G("Save succeeded but failed to reload. Please refresh the page to see changes."):G(`Save failed: ${R.message||"Unknown error occurred"}`)}finally{z(!1)}},[t,b]),Kn=async()=>{if(!t)return;h(!0);const[R,X]=await Promise.all([Fm(t),Jm(t)]);if(!R){n("/dashboard");return}i(R),r(X);const ot=X.find(To=>To.can_proceed);ot&&o(ot.phase_name),await Yn(),h(!1)},Pi=R=>({script_interpretation:"Script Rendering",element_images:"Elements Creation",scene_generation:"Scene Start Frame",scene_videos:"Scene Video",final_assembly:"Assembly"})[R]||R,Xh=R=>({script_interpretation:"",element_images:"",scene_generation:"",scene_videos:"",final_assembly:""})[R]||"",Kh=R=>R.status==="completed"?"#00cc00":R.status==="processing"?"#ff9900":R.can_proceed?"#0066cc":"#666",Qh=R=>R.status==="completed"?"Completed":R.status==="processing"?"Processing":R.can_proceed?"Available":"Locked",w_=R=>{!R.can_proceed&&R.status!=="completed"||o(R.phase_name)};T.useCallback(async R=>{console.log("loadPhaseContent called but deprecated - using master JSON")},[]);const Zh=T.useCallback(R=>{j(R),O(!0)},[]);T.useCallback(async()=>{console.warn("handleSavePhase called - redirecting to handleSaveJSON"),await lt()},[lt]);const T_=()=>{const R=a.find(X=>X.phase_name===l);if(!R||!s)return null;switch(c){case"json":return d.jsxs("div",{className:"view-content-container",children:[d.jsxs("div",{className:"view-content-header",children:[d.jsx("span",{className:"view-content-title",children:l==="script_interpretation"?`JSON Content (Phase ${R.phase_index})`:`Base Script Content (From Phase 1  Phase ${R.phase_index})`}),d.jsx("span",{className:"view-content-subtitle",children:b||m?"Master JSON loaded":"No content - Complete Phase 1 first"})]}),d.jsx("div",{className:"json-editor",children:d.jsx("textarea",{value:b||(m?JSON.stringify(m,null,2):""),onChange:X=>Zh(X.target.value),className:"json-textarea",style:{width:"100%",minHeight:"500px",fontFamily:"Monaco, Menlo, Consolas, monospace",fontSize:"0.875rem",padding:"1rem",border:"1px solid var(--color-border-default)",borderRadius:"4px",background:"var(--color-bg-secondary)",color:"var(--color-text-primary)",resize:"vertical"},placeholder:"No script interpretation content available - Please complete Phase 1 first to proceed with subsequent phases.",disabled:l!=="script_interpretation"})})]});case"timeline":if(m&&Object.keys(m).length>0){const X=m;return d.jsx(NN,{content:X,projectId:s.id,projectName:s.name,phaseId:R.id,onContentUpdate:ot=>{v(ot),j(JSON.stringify(ot,null,2)),O(!0),pn.saveBackup(t,ot,Z.version)}})}return d.jsxs("div",{className:"view-placeholder",children:[d.jsx("div",{className:"view-placeholder-icon",children:""}),d.jsx("h3",{className:"view-placeholder-title",children:"Timeline View"}),d.jsxs("p",{children:["Story foundation for ",R.phase_name.replace("_"," ")]}),d.jsx("p",{children:d.jsx("em",{children:"Complete Phase 1 first to see the timeline foundation"})})]});case"elements":return d.jsxs("div",{className:"view-placeholder",children:[d.jsx("div",{className:"view-placeholder-icon",children:""}),d.jsx("h3",{className:"view-placeholder-title",children:"Elements View"}),d.jsx("p",{children:"Cross-scene element management (Phase 2+)"})]});case"style":return m&&Object.keys(m).length>0?d.jsx(RN,{masterJson:m,onContentUpdate:X=>{v(X),j(JSON.stringify(X,null,2)),O(!0),pn.saveBackup(t,X,Z.version)}}):d.jsxs("div",{className:"view-placeholder",children:[d.jsx("div",{className:"view-placeholder-icon",children:""}),d.jsx("h3",{className:"view-placeholder-title",children:"Style Control"}),d.jsx("p",{children:d.jsx("em",{children:"Complete Phase 1 first to access style controls"})})]});case"config":return d.jsx(DN,{});default:return null}},j_=()=>{if(!s)return null;const R=Vu.getCompletedPhases(m),X=a.find(ot=>ot.phase_name===l);return d.jsx("div",{className:"project-header-sticky",children:d.jsxs("div",{className:"flex justify-between items-center text-sm text-muted",children:[d.jsxs("div",{children:["Project: ",d.jsx("strong",{className:"text-primary",children:s.name})]}),d.jsxs("div",{className:"project-status-center",children:["Progress: ",d.jsxs("strong",{className:"text-success",children:[R,"/5 phases completed"]}),C&&d.jsx("span",{className:"unsaved-changes-indicator",children:"  Unsaved Changes"})]}),d.jsxs("div",{className:"header-actions",children:[d.jsx("button",{onClick:lt,disabled:L||!C||!b.trim(),className:`btn text-xs px-md py-xs ${!C||!b.trim()||L?"btn-secondary":"btn-success"}`,children:L?" Saving...":C?" Save":" Saved"}),Z.version>0&&d.jsx("button",{onClick:()=>{Xn(),x(!0)},className:"btn text-xs px-md py-xs btn-secondary",children:" History"}),X&&d.jsxs("span",{className:"current-phase-status",children:["Phase ",X.phase_index,": ",d.jsx("strong",{className:"text-accent",children:Pi(X.phase_name)})]})]})]})})},E_=()=>{const R=a.find(X=>X.phase_name===l);return!R||!s?null:d.jsx("div",{className:"phase-content-container",children:l==="script_interpretation"?d.jsx(Xj,{phase:R,projectId:s.id,projectName:s.name,onContentChange:Kn,jsonContent:b,hasUnsavedChanges:C,isSaving:L,error:re,databaseStatus:Z,showVersionHistory:_,versionHistory:p,loadingVersions:y,onJsonChange:Zh,onSavePhase:lt,onLoadPhaseContent:()=>{},onLoadVersionHistory:()=>Xn(),onLoadVersionContent:X=>Vi(X),onShowVersionHistory:x,useProduction:w,onUseProductionChange:E}):d.jsxs("div",{className:"phase-content-container",children:[d.jsx("div",{className:"phase-content-header",children:d.jsxs("div",{children:[d.jsxs("h2",{className:"phase-content-title",children:[Xh(R.phase_name)," ",Pi(R.phase_name)]}),d.jsxs("div",{className:"phase-content-meta",children:[d.jsxs("span",{children:["Phase ",R.phase_index," of 5"]}),d.jsx("span",{className:"phase-status",style:{background:Kh(R)},children:Qh(R)})]})]})}),d.jsx("div",{className:"phase-placeholder",children:d.jsxs("div",{className:"phase-placeholder-content",children:[d.jsx("div",{className:"phase-placeholder-icon",children:Xh(R.phase_name)}),d.jsxs("h3",{className:"phase-placeholder-title",children:[Pi(R.phase_name)," Module"]}),d.jsxs("p",{className:"phase-placeholder-description",children:["This phase module will be implemented next. It will handle the ",R.phase_name.replace("_"," "),"workflow including n8n integration, content generation, and user approval interface."]}),R.can_proceed&&!R.user_saved&&d.jsx("div",{children:d.jsxs("button",{className:"phase-start-button",children:["Start ",Pi(R.phase_name)]})})]})})]})})};return f?d.jsx("div",{className:"loading-container",children:"Loading project..."}):!s||!t?d.jsx("div",{className:"loading-container",children:"Project not found"}):d.jsxs("div",{className:"project-detail-container",children:[d.jsxs("div",{className:"project-detail-sidebar",children:[d.jsxs("div",{className:"phase-placeholder-section",children:[d.jsx("button",{onClick:()=>n("/dashboard"),className:"back-button",children:" Back to Projects"}),d.jsx("h1",{className:"project-title",children:s.name}),d.jsx("p",{className:"project-client",children:((Fh=m==null?void 0:m.project_metadata)==null?void 0:Fh.client)||"Unknown Client"})]}),d.jsxs("div",{className:"phase-placeholder-section",children:[d.jsx("h3",{className:"phases-section-title",children:"Project Phases"}),d.jsx("div",{className:"phases-list",children:a.map(R=>d.jsx("button",{onClick:()=>w_(R),disabled:!R.can_proceed&&!R.user_saved,className:`phase-button-container ${l===R.phase_name?"active":""}`,children:d.jsxs("div",{className:"phase-button-row",children:[d.jsx("div",{className:"phase-number-column",children:d.jsx("span",{className:"phase-number",children:R.phase_index})}),d.jsxs("div",{className:"phase-info-column",children:[d.jsx("div",{className:"phase-name",children:Pi(R.phase_name)}),d.jsx("div",{className:"phase-status-text",children:Qh(R)})]}),d.jsx("div",{className:"phase-status-dot",style:{background:Kh(R)}})]})},R.id))})]}),d.jsxs("div",{className:"progress-summary",children:[d.jsx("strong",{children:"Progress:"})," ",Vu.getCompletedPhases(m)," of 5 phases completed"]})]}),d.jsxs("div",{className:"project-main-content",children:[j_(),d.jsxs("div",{className:"project-area project-area-1 project-nav-sticky",children:[d.jsx("div",{className:"project-area-header area-header-1",children:" AREA 1: NAVIGATION BAR (4 TABS)"}),d.jsx(Kj,{activeView:c,onViewChange:u,masterJSON:m})]}),c!=="config"&&d.jsxs("div",{className:"project-area project-area-2",children:[d.jsx("div",{className:"project-area-header area-header-2",children:" AREA 2: PHASE CONTENT"}),E_()]}),d.jsxs("div",{className:"project-area project-area-3",children:[d.jsx("div",{className:"project-area-header area-header-3",children:" AREA 3: CONTENT AREA (JSON | TIMELINE | ELEMENTS | STYLE)"}),T_()]})]}),F&&D&&d.jsx("div",{className:"modal-overlay",children:d.jsxs("div",{className:"modal-content modal-width-500",children:[d.jsx("h2",{className:"text-primary text-2xl mb-xl flex items-center gap-md mb-0",children:" Restore Unsaved Changes?"}),d.jsxs("div",{className:"bg-warning border border-light p-xl rounded-md mb-2xl",children:[d.jsx("p",{className:"text-secondary mb-md mb-0",children:"We found unsaved changes from your previous session."}),d.jsxs("p",{className:"text-sm text-muted mb-0",children:["Backup saved: ",new Date(D.timestamp).toLocaleString()]})]}),d.jsx("div",{className:"db-status db-status-info mb-2xl",children:d.jsx("p",{className:"text-sm mb-0",children:" Your changes will be restored and you can continue editing where you left off."})}),d.jsxs("div",{className:"flex gap-xl justify-end",children:[d.jsx("button",{onClick:()=>{N(!1),M(null),pn.clearBackup(t)},className:"btn btn-secondary",children:"Discard Changes"}),d.jsx("button",{onClick:()=>{v(D.masterJSON),j(JSON.stringify(D.masterJSON,null,2)),O(!0),N(!1),M(null)},className:"btn btn-primary",children:" Restore Changes"})]})]})})]})}function kN(){const[e,t]=T.useState(null),[n,s]=T.useState(!0);return T.useEffect(()=>{Ee.auth.getSession().then(({data:{session:a}})=>{t((a==null?void 0:a.user)??null),s(!1)});const{data:{subscription:i}}=Ee.auth.onAuthStateChange((a,r)=>{t((r==null?void 0:r.user)??null)});return()=>i.unsubscribe()},[]),n?d.jsx("div",{className:"app-loading",children:"Loading..."}):d.jsxs(vT,{children:[d.jsx(ta,{path:"/login",element:e?d.jsx(Lr,{to:"/dashboard",replace:!0}):d.jsx(Uj,{})}),d.jsx(ta,{path:"/dashboard",element:e?d.jsx(Yj,{user:e}):d.jsx(Lr,{to:"/login",replace:!0})}),d.jsx(ta,{path:"/project/:id",element:e?d.jsx(MN,{user:e}):d.jsx(Lr,{to:"/login",replace:!0})}),d.jsx(ta,{path:"/",element:d.jsx(Lr,{to:e?"/dashboard":"/login",replace:!0})})]})}Aw.createRoot(document.getElementById("root")).render(d.jsx(T.StrictMode,{children:d.jsx(ST,{children:d.jsx(kN,{})})}));
